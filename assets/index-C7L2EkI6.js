var BI=Object.defineProperty;var UI=(r,e,t)=>e in r?BI(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var zI=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports);var $y=(r,e,t)=>UI(r,typeof e!="symbol"?e+"":e,t);var e8=zI((s8,Bf)=>{(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();var sg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Lg(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function PE(r){if(r.__esModule)return r;var e=r.default;if(typeof e=="function"){var t=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(r).forEach(function(n){var i=Object.getOwnPropertyDescriptor(r,n);Object.defineProperty(t,n,i.get?i:{enumerable:!0,get:function(){return r[n]}})}),t}var Wy={exports:{}},cf={},Xy={exports:{}},dt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hw;function VI(){if(hw)return dt;hw=1;var r=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),a=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.iterator;function v(O){return O===null||typeof O!="object"?null:(O=g&&O[g]||O["@@iterator"],typeof O=="function"?O:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,b={};function E(O,j,Q){this.props=O,this.context=j,this.refs=b,this.updater=Q||x}E.prototype.isReactComponent={},E.prototype.setState=function(O,j){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,j,"setState")},E.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function P(){}P.prototype=E.prototype;function k(O,j,Q){this.props=O,this.context=j,this.refs=b,this.updater=Q||x}var R=k.prototype=new P;R.constructor=k,S(R,E.prototype),R.isPureReactComponent=!0;var L=Array.isArray,D=Object.prototype.hasOwnProperty,H={current:null},N={key:!0,ref:!0,__self:!0,__source:!0};function G(O,j,Q){var ie,de={},ye=null,be=null;if(j!=null)for(ie in j.ref!==void 0&&(be=j.ref),j.key!==void 0&&(ye=""+j.key),j)D.call(j,ie)&&!N.hasOwnProperty(ie)&&(de[ie]=j[ie]);var Pe=arguments.length-2;if(Pe===1)de.children=Q;else if(1<Pe){for(var ke=Array(Pe),we=0;we<Pe;we++)ke[we]=arguments[we+2];de.children=ke}if(O&&O.defaultProps)for(ie in Pe=O.defaultProps,Pe)de[ie]===void 0&&(de[ie]=Pe[ie]);return{$$typeof:r,type:O,key:ye,ref:be,props:de,_owner:H.current}}function X(O,j){return{$$typeof:r,type:O.type,key:j,ref:O.ref,props:O.props,_owner:O._owner}}function re(O){return typeof O=="object"&&O!==null&&O.$$typeof===r}function me(O){var j={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(Q){return j[Q]})}var q=/\/+/g;function Z(O,j){return typeof O=="object"&&O!==null&&O.key!=null?me(""+O.key):j.toString(36)}function le(O,j,Q,ie,de){var ye=typeof O;(ye==="undefined"||ye==="boolean")&&(O=null);var be=!1;if(O===null)be=!0;else switch(ye){case"string":case"number":be=!0;break;case"object":switch(O.$$typeof){case r:case e:be=!0}}if(be)return be=O,de=de(be),O=ie===""?"."+Z(be,0):ie,L(de)?(Q="",O!=null&&(Q=O.replace(q,"$&/")+"/"),le(de,j,Q,"",function(we){return we})):de!=null&&(re(de)&&(de=X(de,Q+(!de.key||be&&be.key===de.key?"":(""+de.key).replace(q,"$&/")+"/")+O)),j.push(de)),1;if(be=0,ie=ie===""?".":ie+":",L(O))for(var Pe=0;Pe<O.length;Pe++){ye=O[Pe];var ke=ie+Z(ye,Pe);be+=le(ye,j,Q,ke,de)}else if(ke=v(O),typeof ke=="function")for(O=ke.call(O),Pe=0;!(ye=O.next()).done;)ye=ye.value,ke=ie+Z(ye,Pe++),be+=le(ye,j,Q,ke,de);else if(ye==="object")throw j=String(O),Error("Objects are not valid as a React child (found: "+(j==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":j)+"). If you meant to render a collection of children, use an array instead.");return be}function xe(O,j,Q){if(O==null)return O;var ie=[],de=0;return le(O,ie,"","",function(ye){return j.call(Q,ye,de++)}),ie}function U(O){if(O._status===-1){var j=O._result;j=j(),j.then(function(Q){(O._status===0||O._status===-1)&&(O._status=1,O._result=Q)},function(Q){(O._status===0||O._status===-1)&&(O._status=2,O._result=Q)}),O._status===-1&&(O._status=0,O._result=j)}if(O._status===1)return O._result.default;throw O._result}var z={current:null},M={transition:null},$={ReactCurrentDispatcher:z,ReactCurrentBatchConfig:M,ReactCurrentOwner:H};function B(){throw Error("act(...) is not supported in production builds of React.")}return dt.Children={map:xe,forEach:function(O,j,Q){xe(O,function(){j.apply(this,arguments)},Q)},count:function(O){var j=0;return xe(O,function(){j++}),j},toArray:function(O){return xe(O,function(j){return j})||[]},only:function(O){if(!re(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},dt.Component=E,dt.Fragment=t,dt.Profiler=i,dt.PureComponent=k,dt.StrictMode=n,dt.Suspense=c,dt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$,dt.act=B,dt.cloneElement=function(O,j,Q){if(O==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+O+".");var ie=S({},O.props),de=O.key,ye=O.ref,be=O._owner;if(j!=null){if(j.ref!==void 0&&(ye=j.ref,be=H.current),j.key!==void 0&&(de=""+j.key),O.type&&O.type.defaultProps)var Pe=O.type.defaultProps;for(ke in j)D.call(j,ke)&&!N.hasOwnProperty(ke)&&(ie[ke]=j[ke]===void 0&&Pe!==void 0?Pe[ke]:j[ke])}var ke=arguments.length-2;if(ke===1)ie.children=Q;else if(1<ke){Pe=Array(ke);for(var we=0;we<ke;we++)Pe[we]=arguments[we+2];ie.children=Pe}return{$$typeof:r,type:O.type,key:de,ref:ye,props:ie,_owner:be}},dt.createContext=function(O){return O={$$typeof:a,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},O.Provider={$$typeof:s,_context:O},O.Consumer=O},dt.createElement=G,dt.createFactory=function(O){var j=G.bind(null,O);return j.type=O,j},dt.createRef=function(){return{current:null}},dt.forwardRef=function(O){return{$$typeof:u,render:O}},dt.isValidElement=re,dt.lazy=function(O){return{$$typeof:m,_payload:{_status:-1,_result:O},_init:U}},dt.memo=function(O,j){return{$$typeof:f,type:O,compare:j===void 0?null:j}},dt.startTransition=function(O){var j=M.transition;M.transition={};try{O()}finally{M.transition=j}},dt.unstable_act=B,dt.useCallback=function(O,j){return z.current.useCallback(O,j)},dt.useContext=function(O){return z.current.useContext(O)},dt.useDebugValue=function(){},dt.useDeferredValue=function(O){return z.current.useDeferredValue(O)},dt.useEffect=function(O,j){return z.current.useEffect(O,j)},dt.useId=function(){return z.current.useId()},dt.useImperativeHandle=function(O,j,Q){return z.current.useImperativeHandle(O,j,Q)},dt.useInsertionEffect=function(O,j){return z.current.useInsertionEffect(O,j)},dt.useLayoutEffect=function(O,j){return z.current.useLayoutEffect(O,j)},dt.useMemo=function(O,j){return z.current.useMemo(O,j)},dt.useReducer=function(O,j,Q){return z.current.useReducer(O,j,Q)},dt.useRef=function(O){return z.current.useRef(O)},dt.useState=function(O){return z.current.useState(O)},dt.useSyncExternalStore=function(O,j,Q){return z.current.useSyncExternalStore(O,j,Q)},dt.useTransition=function(){return z.current.useTransition()},dt.version="18.3.1",dt}var cw;function gx(){return cw||(cw=1,Xy.exports=VI()),Xy.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dw;function GI(){if(dw)return cf;dw=1;var r=gx(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function a(u,c,f){var m,g={},v=null,x=null;f!==void 0&&(v=""+f),c.key!==void 0&&(v=""+c.key),c.ref!==void 0&&(x=c.ref);for(m in c)n.call(c,m)&&!s.hasOwnProperty(m)&&(g[m]=c[m]);if(u&&u.defaultProps)for(m in c=u.defaultProps,c)g[m]===void 0&&(g[m]=c[m]);return{$$typeof:e,type:u,key:v,ref:x,props:g,_owner:i.current}}return cf.Fragment=t,cf.jsx=a,cf.jsxs=a,cf}var fw;function jI(){return fw||(fw=1,Wy.exports=GI()),Wy.exports}var fe=jI(),hm={},Yy={exports:{}},ai={},qy={exports:{}},Ky={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pw;function HI(){return pw||(pw=1,function(r){function e(M,$){var B=M.length;M.push($);e:for(;0<B;){var O=B-1>>>1,j=M[O];if(0<i(j,$))M[O]=$,M[B]=j,B=O;else break e}}function t(M){return M.length===0?null:M[0]}function n(M){if(M.length===0)return null;var $=M[0],B=M.pop();if(B!==$){M[0]=B;e:for(var O=0,j=M.length,Q=j>>>1;O<Q;){var ie=2*(O+1)-1,de=M[ie],ye=ie+1,be=M[ye];if(0>i(de,B))ye<j&&0>i(be,de)?(M[O]=be,M[ye]=B,O=ye):(M[O]=de,M[ie]=B,O=ie);else if(ye<j&&0>i(be,B))M[O]=be,M[ye]=B,O=ye;else break e}}return $}function i(M,$){var B=M.sortIndex-$.sortIndex;return B!==0?B:M.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;r.unstable_now=function(){return s.now()}}else{var a=Date,u=a.now();r.unstable_now=function(){return a.now()-u}}var c=[],f=[],m=1,g=null,v=3,x=!1,S=!1,b=!1,E=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function R(M){for(var $=t(f);$!==null;){if($.callback===null)n(f);else if($.startTime<=M)n(f),$.sortIndex=$.expirationTime,e(c,$);else break;$=t(f)}}function L(M){if(b=!1,R(M),!S)if(t(c)!==null)S=!0,U(D);else{var $=t(f);$!==null&&z(L,$.startTime-M)}}function D(M,$){S=!1,b&&(b=!1,P(G),G=-1),x=!0;var B=v;try{for(R($),g=t(c);g!==null&&(!(g.expirationTime>$)||M&&!me());){var O=g.callback;if(typeof O=="function"){g.callback=null,v=g.priorityLevel;var j=O(g.expirationTime<=$);$=r.unstable_now(),typeof j=="function"?g.callback=j:g===t(c)&&n(c),R($)}else n(c);g=t(c)}if(g!==null)var Q=!0;else{var ie=t(f);ie!==null&&z(L,ie.startTime-$),Q=!1}return Q}finally{g=null,v=B,x=!1}}var H=!1,N=null,G=-1,X=5,re=-1;function me(){return!(r.unstable_now()-re<X)}function q(){if(N!==null){var M=r.unstable_now();re=M;var $=!0;try{$=N(!0,M)}finally{$?Z():(H=!1,N=null)}}else H=!1}var Z;if(typeof k=="function")Z=function(){k(q)};else if(typeof MessageChannel<"u"){var le=new MessageChannel,xe=le.port2;le.port1.onmessage=q,Z=function(){xe.postMessage(null)}}else Z=function(){E(q,0)};function U(M){N=M,H||(H=!0,Z())}function z(M,$){G=E(function(){M(r.unstable_now())},$)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(M){M.callback=null},r.unstable_continueExecution=function(){S||x||(S=!0,U(D))},r.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):X=0<M?Math.floor(1e3/M):5},r.unstable_getCurrentPriorityLevel=function(){return v},r.unstable_getFirstCallbackNode=function(){return t(c)},r.unstable_next=function(M){switch(v){case 1:case 2:case 3:var $=3;break;default:$=v}var B=v;v=$;try{return M()}finally{v=B}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(M,$){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var B=v;v=M;try{return $()}finally{v=B}},r.unstable_scheduleCallback=function(M,$,B){var O=r.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?O+B:O):B=O,M){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=B+j,M={id:m++,callback:$,priorityLevel:M,startTime:B,expirationTime:j,sortIndex:-1},B>O?(M.sortIndex=B,e(f,M),t(c)===null&&M===t(f)&&(b?(P(G),G=-1):b=!0,z(L,B-O))):(M.sortIndex=j,e(c,M),S||x||(S=!0,U(D))),M},r.unstable_shouldYield=me,r.unstable_wrapCallback=function(M){var $=v;return function(){var B=v;v=$;try{return M.apply(this,arguments)}finally{v=B}}}}(Ky)),Ky}var mw;function $I(){return mw||(mw=1,qy.exports=HI()),qy.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gw;function WI(){if(gw)return ai;gw=1;var r=gx(),e=$I();function t(o){for(var l="https://reactjs.org/docs/error-decoder.html?invariant="+o,p=1;p<arguments.length;p++)l+="&args[]="+encodeURIComponent(arguments[p]);return"Minified React error #"+o+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function s(o,l){a(o,l),a(o+"Capture",l)}function a(o,l){for(i[o]=l,o=0;o<l.length;o++)n.add(l[o])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},g={};function v(o){return c.call(g,o)?!0:c.call(m,o)?!1:f.test(o)?g[o]=!0:(m[o]=!0,!1)}function x(o,l,p,y){if(p!==null&&p.type===0)return!1;switch(typeof l){case"function":case"symbol":return!0;case"boolean":return y?!1:p!==null?!p.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function S(o,l,p,y){if(l===null||typeof l>"u"||x(o,l,p,y))return!0;if(y)return!1;if(p!==null)switch(p.type){case 3:return!l;case 4:return l===!1;case 5:return isNaN(l);case 6:return isNaN(l)||1>l}return!1}function b(o,l,p,y,w,C,F){this.acceptsBooleans=l===2||l===3||l===4,this.attributeName=y,this.attributeNamespace=w,this.mustUseProperty=p,this.propertyName=o,this.type=l,this.sanitizeURL=C,this.removeEmptyString=F}var E={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){E[o]=new b(o,0,!1,o,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var l=o[0];E[l]=new b(l,1,!1,o[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(o){E[o]=new b(o,2,!1,o.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){E[o]=new b(o,2,!1,o,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){E[o]=new b(o,3,!1,o.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(o){E[o]=new b(o,3,!0,o,null,!1,!1)}),["capture","download"].forEach(function(o){E[o]=new b(o,4,!1,o,null,!1,!1)}),["cols","rows","size","span"].forEach(function(o){E[o]=new b(o,6,!1,o,null,!1,!1)}),["rowSpan","start"].forEach(function(o){E[o]=new b(o,5,!1,o.toLowerCase(),null,!1,!1)});var P=/[\-:]([a-z])/g;function k(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var l=o.replace(P,k);E[l]=new b(l,1,!1,o,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var l=o.replace(P,k);E[l]=new b(l,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(o){var l=o.replace(P,k);E[l]=new b(l,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(o){E[o]=new b(o,1,!1,o.toLowerCase(),null,!1,!1)}),E.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(o){E[o]=new b(o,1,!1,o.toLowerCase(),null,!0,!0)});function R(o,l,p,y){var w=E.hasOwnProperty(l)?E[l]:null;(w!==null?w.type!==0:y||!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(S(l,p,w,y)&&(p=null),y||w===null?v(l)&&(p===null?o.removeAttribute(l):o.setAttribute(l,""+p)):w.mustUseProperty?o[w.propertyName]=p===null?w.type===3?!1:"":p:(l=w.attributeName,y=w.attributeNamespace,p===null?o.removeAttribute(l):(w=w.type,p=w===3||w===4&&p===!0?"":""+p,y?o.setAttributeNS(y,l,p):o.setAttribute(l,p))))}var L=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,D=Symbol.for("react.element"),H=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),G=Symbol.for("react.strict_mode"),X=Symbol.for("react.profiler"),re=Symbol.for("react.provider"),me=Symbol.for("react.context"),q=Symbol.for("react.forward_ref"),Z=Symbol.for("react.suspense"),le=Symbol.for("react.suspense_list"),xe=Symbol.for("react.memo"),U=Symbol.for("react.lazy"),z=Symbol.for("react.offscreen"),M=Symbol.iterator;function $(o){return o===null||typeof o!="object"?null:(o=M&&o[M]||o["@@iterator"],typeof o=="function"?o:null)}var B=Object.assign,O;function j(o){if(O===void 0)try{throw Error()}catch(p){var l=p.stack.trim().match(/\n( *(at )?)/);O=l&&l[1]||""}return`
`+O+o}var Q=!1;function ie(o,l){if(!o||Q)return"";Q=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(l)if(l=function(){throw Error()},Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch(he){var y=he}Reflect.construct(o,[],l)}else{try{l.call()}catch(he){y=he}o.call(l.prototype)}else{try{throw Error()}catch(he){y=he}o()}}catch(he){if(he&&y&&typeof he.stack=="string"){for(var w=he.stack.split(`
`),C=y.stack.split(`
`),F=w.length-1,W=C.length-1;1<=F&&0<=W&&w[F]!==C[W];)W--;for(;1<=F&&0<=W;F--,W--)if(w[F]!==C[W]){if(F!==1||W!==1)do if(F--,W--,0>W||w[F]!==C[W]){var Y=`
`+w[F].replace(" at new "," at ");return o.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",o.displayName)),Y}while(1<=F&&0<=W);break}}}finally{Q=!1,Error.prepareStackTrace=p}return(o=o?o.displayName||o.name:"")?j(o):""}function de(o){switch(o.tag){case 5:return j(o.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return o=ie(o.type,!1),o;case 11:return o=ie(o.type.render,!1),o;case 1:return o=ie(o.type,!0),o;default:return""}}function ye(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case N:return"Fragment";case H:return"Portal";case X:return"Profiler";case G:return"StrictMode";case Z:return"Suspense";case le:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case me:return(o.displayName||"Context")+".Consumer";case re:return(o._context.displayName||"Context")+".Provider";case q:var l=o.render;return o=o.displayName,o||(o=l.displayName||l.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case xe:return l=o.displayName||null,l!==null?l:ye(o.type)||"Memo";case U:l=o._payload,o=o._init;try{return ye(o(l))}catch{}}return null}function be(o){var l=o.type;switch(o.tag){case 24:return"Cache";case 9:return(l.displayName||"Context")+".Consumer";case 10:return(l._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=l.render,o=o.displayName||o.name||"",l.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return l;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ye(l);case 8:return l===G?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l}return null}function Pe(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function ke(o){var l=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function we(o){var l=ke(o)?"checked":"value",p=Object.getOwnPropertyDescriptor(o.constructor.prototype,l),y=""+o[l];if(!o.hasOwnProperty(l)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var w=p.get,C=p.set;return Object.defineProperty(o,l,{configurable:!0,get:function(){return w.call(this)},set:function(F){y=""+F,C.call(this,F)}}),Object.defineProperty(o,l,{enumerable:p.enumerable}),{getValue:function(){return y},setValue:function(F){y=""+F},stopTracking:function(){o._valueTracker=null,delete o[l]}}}}function De(o){o._valueTracker||(o._valueTracker=we(o))}function Ve(o){if(!o)return!1;var l=o._valueTracker;if(!l)return!0;var p=l.getValue(),y="";return o&&(y=ke(o)?o.checked?"true":"false":o.value),o=y,o!==p?(l.setValue(o),!0):!1}function We(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}function ct(o,l){var p=l.checked;return B({},l,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:p??o._wrapperState.initialChecked})}function He(o,l){var p=l.defaultValue==null?"":l.defaultValue,y=l.checked!=null?l.checked:l.defaultChecked;p=Pe(l.value!=null?l.value:p),o._wrapperState={initialChecked:y,initialValue:p,controlled:l.type==="checkbox"||l.type==="radio"?l.checked!=null:l.value!=null}}function Xe(o,l){l=l.checked,l!=null&&R(o,"checked",l,!1)}function Ft(o,l){Xe(o,l);var p=Pe(l.value),y=l.type;if(p!=null)y==="number"?(p===0&&o.value===""||o.value!=p)&&(o.value=""+p):o.value!==""+p&&(o.value=""+p);else if(y==="submit"||y==="reset"){o.removeAttribute("value");return}l.hasOwnProperty("value")?Li(o,l.type,p):l.hasOwnProperty("defaultValue")&&Li(o,l.type,Pe(l.defaultValue)),l.checked==null&&l.defaultChecked!=null&&(o.defaultChecked=!!l.defaultChecked)}function Xt(o,l,p){if(l.hasOwnProperty("value")||l.hasOwnProperty("defaultValue")){var y=l.type;if(!(y!=="submit"&&y!=="reset"||l.value!==void 0&&l.value!==null))return;l=""+o._wrapperState.initialValue,p||l===o.value||(o.value=l),o.defaultValue=l}p=o.name,p!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,p!==""&&(o.name=p)}function Li(o,l,p){(l!=="number"||We(o.ownerDocument)!==o)&&(p==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+p&&(o.defaultValue=""+p))}var Ar=Array.isArray;function Cr(o,l,p,y){if(o=o.options,l){l={};for(var w=0;w<p.length;w++)l["$"+p[w]]=!0;for(p=0;p<o.length;p++)w=l.hasOwnProperty("$"+o[p].value),o[p].selected!==w&&(o[p].selected=w),w&&y&&(o[p].defaultSelected=!0)}else{for(p=""+Pe(p),l=null,w=0;w<o.length;w++){if(o[w].value===p){o[w].selected=!0,y&&(o[w].defaultSelected=!0);return}l!==null||o[w].disabled||(l=o[w])}l!==null&&(l.selected=!0)}}function Bi(o,l){if(l.dangerouslySetInnerHTML!=null)throw Error(t(91));return B({},l,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function is(o,l){var p=l.value;if(p==null){if(p=l.children,l=l.defaultValue,p!=null){if(l!=null)throw Error(t(92));if(Ar(p)){if(1<p.length)throw Error(t(93));p=p[0]}l=p}l==null&&(l=""),p=l}o._wrapperState={initialValue:Pe(p)}}function En(o,l){var p=Pe(l.value),y=Pe(l.defaultValue);p!=null&&(p=""+p,p!==o.value&&(o.value=p),l.defaultValue==null&&o.defaultValue!==p&&(o.defaultValue=p)),y!=null&&(o.defaultValue=""+y)}function bh(o){var l=o.textContent;l===o._wrapperState.initialValue&&l!==""&&l!==null&&(o.value=l)}function Th(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ea(o,l){return o==null||o==="http://www.w3.org/1999/xhtml"?Th(l):o==="http://www.w3.org/2000/svg"&&l==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var Aa,Vs=function(o){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(l,p,y,w){MSApp.execUnsafeLocalFunction(function(){return o(l,p,y,w)})}:o}(function(o,l){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=l;else{for(Aa=Aa||document.createElement("div"),Aa.innerHTML="<svg>"+l.valueOf().toString()+"</svg>",l=Aa.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;l.firstChild;)o.appendChild(l.firstChild)}});function ss(o,l){if(l){var p=o.firstChild;if(p&&p===o.lastChild&&p.nodeType===3){p.nodeValue=l;return}}o.textContent=l}var Gs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},cd=["Webkit","ms","Moz","O"];Object.keys(Gs).forEach(function(o){cd.forEach(function(l){l=l+o.charAt(0).toUpperCase()+o.substring(1),Gs[l]=Gs[o]})});function Eh(o,l,p){return l==null||typeof l=="boolean"||l===""?"":p||typeof l!="number"||l===0||Gs.hasOwnProperty(o)&&Gs[o]?(""+l).trim():l+"px"}function Ca(o,l){o=o.style;for(var p in l)if(l.hasOwnProperty(p)){var y=p.indexOf("--")===0,w=Eh(p,l[p],y);p==="float"&&(p="cssFloat"),y?o.setProperty(p,w):o[p]=w}}var Pa=B({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function oe(o,l){if(l){if(Pa[o]&&(l.children!=null||l.dangerouslySetInnerHTML!=null))throw Error(t(137,o));if(l.dangerouslySetInnerHTML!=null){if(l.children!=null)throw Error(t(60));if(typeof l.dangerouslySetInnerHTML!="object"||!("__html"in l.dangerouslySetInnerHTML))throw Error(t(61))}if(l.style!=null&&typeof l.style!="object")throw Error(t(62))}}function ue(o,l){if(o.indexOf("-")===-1)return typeof l.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ft=null;function Tt(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var Ct=null,it=null,Zr=null;function Ui(o){if(o=tl(o)){if(typeof Ct!="function")throw Error(t(280));var l=o.stateNode;l&&(l=rl(l),Ct(o.stateNode,o.type,l))}}function Dr(o){it?Zr?Zr.push(o):Zr=[o]:it=o}function zn(){if(it){var o=it,l=Zr;if(Zr=it=null,Ui(o),l)for(o=0;o<l.length;o++)Ui(l[o])}}function Ra(o,l){return o(l)}function mi(){}var zr=!1;function Ia(o,l,p){if(zr)return o(l,p);zr=!0;try{return Ra(o,l,p)}finally{zr=!1,(it!==null||Zr!==null)&&(mi(),zn())}}function js(o,l){var p=o.stateNode;if(p===null)return null;var y=rl(p);if(y===null)return null;p=y[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(y=!y.disabled)||(o=o.type,y=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!y;break e;default:o=!1}if(o)return null;if(p&&typeof p!="function")throw Error(t(231,l,typeof p));return p}var ka=!1;if(u)try{var gi={};Object.defineProperty(gi,"passive",{get:function(){ka=!0}}),window.addEventListener("test",gi,gi),window.removeEventListener("test",gi,gi)}catch{ka=!1}function Ma(o,l,p,y,w,C,F,W,Y){var he=Array.prototype.slice.call(arguments,3);try{l.apply(p,he)}catch(Te){this.onError(Te)}}var Vn=!1,Hs=null,$s=!1,os=null,Ah={onError:function(o){Vn=!0,Hs=o}};function Wl(o,l,p,y,w,C,F,W,Y){Vn=!1,Hs=null,Ma.apply(Ah,arguments)}function Ch(o,l,p,y,w,C,F,W,Y){if(Wl.apply(this,arguments),Vn){if(Vn){var he=Hs;Vn=!1,Hs=null}else throw Error(t(198));$s||($s=!0,os=he)}}function yi(o){var l=o,p=o;if(o.alternate)for(;l.return;)l=l.return;else{o=l;do l=o,l.flags&4098&&(p=l.return),o=l.return;while(o)}return l.tag===3?p:null}function Xl(o){if(o.tag===13){var l=o.memoizedState;if(l===null&&(o=o.alternate,o!==null&&(l=o.memoizedState)),l!==null)return l.dehydrated}return null}function Ph(o){if(yi(o)!==o)throw Error(t(188))}function Yl(o){var l=o.alternate;if(!l){if(l=yi(o),l===null)throw Error(t(188));return l!==o?null:o}for(var p=o,y=l;;){var w=p.return;if(w===null)break;var C=w.alternate;if(C===null){if(y=w.return,y!==null){p=y;continue}break}if(w.child===C.child){for(C=w.child;C;){if(C===p)return Ph(w),o;if(C===y)return Ph(w),l;C=C.sibling}throw Error(t(188))}if(p.return!==y.return)p=w,y=C;else{for(var F=!1,W=w.child;W;){if(W===p){F=!0,p=w,y=C;break}if(W===y){F=!0,y=w,p=C;break}W=W.sibling}if(!F){for(W=C.child;W;){if(W===p){F=!0,p=C,y=w;break}if(W===y){F=!0,y=C,p=w;break}W=W.sibling}if(!F)throw Error(t(189))}}if(p.alternate!==y)throw Error(t(190))}if(p.tag!==3)throw Error(t(188));return p.stateNode.current===p?o:l}function as(o){return o=Yl(o),o!==null?Oo(o):null}function Oo(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var l=Oo(o);if(l!==null)return l;o=o.sibling}return null}var Rh=e.unstable_scheduleCallback,ql=e.unstable_cancelCallback,ay=e.unstable_shouldYield,ly=e.unstable_requestPaint,Jt=e.unstable_now,Kl=e.unstable_getCurrentPriorityLevel,Ql=e.unstable_ImmediatePriority,Ih=e.unstable_UserBlockingPriority,kh=e.unstable_NormalPriority,dd=e.unstable_LowPriority,No=e.unstable_IdlePriority,vi=null,yt=null;function kt(o){if(yt&&typeof yt.onCommitFiberRoot=="function")try{yt.onCommitFiberRoot(vi,o,void 0,(o.current.flags&128)===128)}catch{}}var Pr=Math.clz32?Math.clz32:Fo,Vr=Math.log,un=Math.LN2;function Fo(o){return o>>>=0,o===0?32:31-(Vr(o)/un|0)|0}var ls=64,Gr=4194304;function Lo(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function Zl(o,l){var p=o.pendingLanes;if(p===0)return 0;var y=0,w=o.suspendedLanes,C=o.pingedLanes,F=p&268435455;if(F!==0){var W=F&~w;W!==0?y=Lo(W):(C&=F,C!==0&&(y=Lo(C)))}else F=p&~w,F!==0?y=Lo(F):C!==0&&(y=Lo(C));if(y===0)return 0;if(l!==0&&l!==y&&!(l&w)&&(w=y&-y,C=l&-l,w>=C||w===16&&(C&4194240)!==0))return l;if(y&4&&(y|=p&16),l=o.entangledLanes,l!==0)for(o=o.entanglements,l&=y;0<l;)p=31-Pr(l),w=1<<p,y|=o[p],l&=~w;return y}function Tp(o,l){switch(o){case 1:case 2:case 4:return l+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Mh(o,l){for(var p=o.suspendedLanes,y=o.pingedLanes,w=o.expirationTimes,C=o.pendingLanes;0<C;){var F=31-Pr(C),W=1<<F,Y=w[F];Y===-1?(!(W&p)||W&y)&&(w[F]=Tp(W,l)):Y<=l&&(o.expiredLanes|=W),C&=~W}}function Dh(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function Gn(){var o=ls;return ls<<=1,!(ls&4194240)&&(ls=64),o}function fd(o){for(var l=[],p=0;31>p;p++)l.push(o);return l}function Jl(o,l,p){o.pendingLanes|=l,l!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,l=31-Pr(l),o[l]=p}function pd(o,l){var p=o.pendingLanes&~l;o.pendingLanes=l,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=l,o.mutableReadLanes&=l,o.entangledLanes&=l,l=o.entanglements;var y=o.eventTimes;for(o=o.expirationTimes;0<p;){var w=31-Pr(p),C=1<<w;l[w]=0,y[w]=-1,o[w]=-1,p&=~C}}function eu(o,l){var p=o.entangledLanes|=l;for(o=o.entanglements;p;){var y=31-Pr(p),w=1<<y;w&l|o[y]&l&&(o[y]|=l),p&=~w}}var vt=0;function tu(o){return o&=-o,1<o?4<o?o&268435455?16:536870912:4:1}var Ep,ru,md,Oh,Da,nu=!1,pt=[],us=null,zi=null,hs=null,iu=new Map,su=new Map,Lt=[],gd="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ap(o,l){switch(o){case"focusin":case"focusout":us=null;break;case"dragenter":case"dragleave":zi=null;break;case"mouseover":case"mouseout":hs=null;break;case"pointerover":case"pointerout":iu.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":su.delete(l.pointerId)}}function Oa(o,l,p,y,w,C){return o===null||o.nativeEvent!==C?(o={blockedOn:l,domEventName:p,eventSystemFlags:y,nativeEvent:C,targetContainers:[w]},l!==null&&(l=tl(l),l!==null&&ru(l)),o):(o.eventSystemFlags|=y,l=o.targetContainers,w!==null&&l.indexOf(w)===-1&&l.push(w),o)}function uy(o,l,p,y,w){switch(l){case"focusin":return us=Oa(us,o,l,p,y,w),!0;case"dragenter":return zi=Oa(zi,o,l,p,y,w),!0;case"mouseover":return hs=Oa(hs,o,l,p,y,w),!0;case"pointerover":var C=w.pointerId;return iu.set(C,Oa(iu.get(C)||null,o,l,p,y,w)),!0;case"gotpointercapture":return C=w.pointerId,su.set(C,Oa(su.get(C)||null,o,l,p,y,w)),!0}return!1}function ou(o){var l=to(o.target);if(l!==null){var p=yi(l);if(p!==null){if(l=p.tag,l===13){if(l=Xl(p),l!==null){o.blockedOn=l,Da(o.priority,function(){md(p)});return}}else if(l===3&&p.stateNode.current.memoizedState.isDehydrated){o.blockedOn=p.tag===3?p.stateNode.containerInfo:null;return}}}o.blockedOn=null}function An(o){if(o.blockedOn!==null)return!1;for(var l=o.targetContainers;0<l.length;){var p=hn(o.domEventName,o.eventSystemFlags,l[0],o.nativeEvent);if(p===null){p=o.nativeEvent;var y=new p.constructor(p.type,p);ft=y,p.target.dispatchEvent(y),ft=null}else return l=tl(p),l!==null&&ru(l),o.blockedOn=p,!1;l.shift()}return!0}function jn(o,l,p){An(o)&&p.delete(l)}function cs(){nu=!1,us!==null&&An(us)&&(us=null),zi!==null&&An(zi)&&(zi=null),hs!==null&&An(hs)&&(hs=null),iu.forEach(jn),su.forEach(jn)}function Ws(o,l){o.blockedOn===l&&(o.blockedOn=null,nu||(nu=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,cs)))}function Bo(o){function l(w){return Ws(w,o)}if(0<pt.length){Ws(pt[0],o);for(var p=1;p<pt.length;p++){var y=pt[p];y.blockedOn===o&&(y.blockedOn=null)}}for(us!==null&&Ws(us,o),zi!==null&&Ws(zi,o),hs!==null&&Ws(hs,o),iu.forEach(l),su.forEach(l),p=0;p<Lt.length;p++)y=Lt[p],y.blockedOn===o&&(y.blockedOn=null);for(;0<Lt.length&&(p=Lt[0],p.blockedOn===null);)ou(p),p.blockedOn===null&&Lt.shift()}var Uo=L.ReactCurrentBatchConfig,Cn=!0;function Na(o,l,p,y){var w=vt,C=Uo.transition;Uo.transition=null;try{vt=1,La(o,l,p,y)}finally{vt=w,Uo.transition=C}}function Fa(o,l,p,y){var w=vt,C=Uo.transition;Uo.transition=null;try{vt=4,La(o,l,p,y)}finally{vt=w,Uo.transition=C}}function La(o,l,p,y){if(Cn){var w=hn(o,l,p,y);if(w===null)ec(o,l,y,zo,p),Ap(o,y);else if(uy(w,o,l,p,y))y.stopPropagation();else if(Ap(o,y),l&4&&-1<gd.indexOf(o)){for(;w!==null;){var C=tl(w);if(C!==null&&Ep(C),C=hn(o,l,p,y),C===null&&ec(o,l,y,zo,p),C===w)break;w=C}w!==null&&y.stopPropagation()}else ec(o,l,y,null,p)}}var zo=null;function hn(o,l,p,y){if(zo=null,o=Tt(y),o=to(o),o!==null)if(l=yi(o),l===null)o=null;else if(p=l.tag,p===13){if(o=Xl(l),o!==null)return o;o=null}else if(p===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;o=null}else l!==o&&(o=null);return zo=o,null}function Pn(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Kl()){case Ql:return 1;case Ih:return 4;case kh:case dd:return 16;case No:return 536870912;default:return 16}default:return 16}}var cn=null,Hn=null,$n=null;function Xs(){if($n)return $n;var o,l=Hn,p=l.length,y,w="value"in cn?cn.value:cn.textContent,C=w.length;for(o=0;o<p&&l[o]===w[o];o++);var F=p-o;for(y=1;y<=F&&l[p-y]===w[C-y];y++);return $n=w.slice(o,1<y?1-y:void 0)}function au(o){var l=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&l===13&&(o=13)):o=l,o===10&&(o=13),32<=o||o===13?o:0}function Ba(){return!0}function Nh(){return!1}function Bt(o){function l(p,y,w,C,F){this._reactName=p,this._targetInst=w,this.type=y,this.nativeEvent=C,this.target=F,this.currentTarget=null;for(var W in o)o.hasOwnProperty(W)&&(p=o[W],this[W]=p?p(C):C[W]);return this.isDefaultPrevented=(C.defaultPrevented!=null?C.defaultPrevented:C.returnValue===!1)?Ba:Nh,this.isPropagationStopped=Nh,this}return B(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var p=this.nativeEvent;p&&(p.preventDefault?p.preventDefault():typeof p.returnValue!="unknown"&&(p.returnValue=!1),this.isDefaultPrevented=Ba)},stopPropagation:function(){var p=this.nativeEvent;p&&(p.stopPropagation?p.stopPropagation():typeof p.cancelBubble!="unknown"&&(p.cancelBubble=!0),this.isPropagationStopped=Ba)},persist:function(){},isPersistent:Ba}),l}var Or={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Mt=Bt(Or),ds=B({},Or,{view:0,detail:0}),_i=Bt(ds),Fh,Lh,Vo,Ua=B({},ds,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hu,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==Vo&&(Vo&&o.type==="mousemove"?(Fh=o.screenX-Vo.screenX,Lh=o.screenY-Vo.screenY):Lh=Fh=0,Vo=o),Fh)},movementY:function(o){return"movementY"in o?o.movementY:Lh}}),yd=Bt(Ua),Bh=B({},Ua,{dataTransfer:0}),Cp=Bt(Bh),za=B({},ds,{relatedTarget:0}),lu=Bt(za),hy=B({},Or,{animationName:0,elapsedTime:0,pseudoElement:0}),Uh=Bt(hy),cy=B({},Or,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),xi=Bt(cy),zh=B({},Or,{data:0}),uu=Bt(zh),Va={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_d={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pp(o){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(o):(o=_d[o])?!!l[o]:!1}function hu(){return Pp}var xd=B({},ds,{key:function(o){if(o.key){var l=Va[o.key]||o.key;if(l!=="Unidentified")return l}return o.type==="keypress"?(o=au(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?vd[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hu,charCode:function(o){return o.type==="keypress"?au(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?au(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),Ga=Bt(xd),Wn=B({},Ua,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ys=Bt(Wn),wd=B({},ds,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hu}),Rp=Bt(wd),Vi=B({},Or,{propertyName:0,elapsedTime:0,pseudoElement:0}),qs=Bt(Vi),Sd=B({},Ua,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),Ip=Bt(Sd),fs=[9,13,27,32],Gi=u&&"CompositionEvent"in window,Ks=null;u&&"documentMode"in document&&(Ks=document.documentMode);var kp=u&&"TextEvent"in window&&!Ks,cu=u&&(!Gi||Ks&&8<Ks&&11>=Ks),bd=" ",Td=!1;function Vh(o,l){switch(o){case"keyup":return fs.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function du(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var Go=!1;function Mp(o,l){switch(o){case"compositionend":return du(l);case"keypress":return l.which!==32?null:(Td=!0,bd);case"textInput":return o=l.data,o===bd&&Td?null:o;default:return null}}function Dp(o,l){if(Go)return o==="compositionend"||!Gi&&Vh(o,l)?(o=Xs(),$n=Hn=cn=null,Go=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return cu&&l.locale!=="ko"?null:l.data;default:return null}}var Ed={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ja(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l==="input"?!!Ed[o.type]:l==="textarea"}function fu(o,l,p,y){Dr(y),l=xu(l,"onChange"),0<l.length&&(p=new Mt("onChange","change",null,p,y),o.push({event:p,listeners:l}))}var Ha=null,$a=null;function Wa(o){Qh(o,0)}function pu(o){var l=Wo(o);if(Ve(l))return o}function mu(o,l){if(o==="change")return l}var Rn=!1;if(u){var jo;if(u){var Qs="oninput"in document;if(!Qs){var wi=document.createElement("div");wi.setAttribute("oninput","return;"),Qs=typeof wi.oninput=="function"}jo=Qs}else jo=!1;Rn=jo&&(!document.documentMode||9<document.documentMode)}function Gh(){Ha&&(Ha.detachEvent("onpropertychange",Ho),$a=Ha=null)}function Ho(o){if(o.propertyName==="value"&&pu($a)){var l=[];fu(l,$a,o,Tt(o)),Ia(Wa,l)}}function Op(o,l,p){o==="focusin"?(Gh(),Ha=l,$a=p,Ha.attachEvent("onpropertychange",Ho)):o==="focusout"&&Gh()}function Ad(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return pu($a)}function Yt(o,l){if(o==="click")return pu(l)}function jh(o,l){if(o==="input"||o==="change")return pu(l)}function Cd(o,l){return o===l&&(o!==0||1/o===1/l)||o!==o&&l!==l}var In=typeof Object.is=="function"?Object.is:Cd;function Zs(o,l){if(In(o,l))return!0;if(typeof o!="object"||o===null||typeof l!="object"||l===null)return!1;var p=Object.keys(o),y=Object.keys(l);if(p.length!==y.length)return!1;for(y=0;y<p.length;y++){var w=p[y];if(!c.call(l,w)||!In(o[w],l[w]))return!1}return!0}function Hh(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function Js(o,l){var p=Hh(o);o=0;for(var y;p;){if(p.nodeType===3){if(y=o+p.textContent.length,o<=l&&y>=l)return{node:p,offset:l-o};o=y}e:{for(;p;){if(p.nextSibling){p=p.nextSibling;break e}p=p.parentNode}p=void 0}p=Hh(p)}}function jt(o,l){return o&&l?o===l?!0:o&&o.nodeType===3?!1:l&&l.nodeType===3?jt(o,l.parentNode):"contains"in o?o.contains(l):o.compareDocumentPosition?!!(o.compareDocumentPosition(l)&16):!1:!1}function yr(){for(var o=window,l=We();l instanceof o.HTMLIFrameElement;){try{var p=typeof l.contentWindow.location.href=="string"}catch{p=!1}if(p)o=l.contentWindow;else break;l=We(o.document)}return l}function ar(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l&&(l==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||l==="textarea"||o.contentEditable==="true")}function $h(o){var l=yr(),p=o.focusedElem,y=o.selectionRange;if(l!==p&&p&&p.ownerDocument&&jt(p.ownerDocument.documentElement,p)){if(y!==null&&ar(p)){if(l=y.start,o=y.end,o===void 0&&(o=l),"selectionStart"in p)p.selectionStart=l,p.selectionEnd=Math.min(o,p.value.length);else if(o=(l=p.ownerDocument||document)&&l.defaultView||window,o.getSelection){o=o.getSelection();var w=p.textContent.length,C=Math.min(y.start,w);y=y.end===void 0?C:Math.min(y.end,w),!o.extend&&C>y&&(w=y,y=C,C=w),w=Js(p,C);var F=Js(p,y);w&&F&&(o.rangeCount!==1||o.anchorNode!==w.node||o.anchorOffset!==w.offset||o.focusNode!==F.node||o.focusOffset!==F.offset)&&(l=l.createRange(),l.setStart(w.node,w.offset),o.removeAllRanges(),C>y?(o.addRange(l),o.extend(F.node,F.offset)):(l.setEnd(F.node,F.offset),o.addRange(l)))}}for(l=[],o=p;o=o.parentNode;)o.nodeType===1&&l.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof p.focus=="function"&&p.focus(),p=0;p<l.length;p++)o=l[p],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var gu=u&&"documentMode"in document&&11>=document.documentMode,ji=null,Pd=null,lr=null,yu=!1;function Wh(o,l,p){var y=p.window===p?p.document:p.nodeType===9?p:p.ownerDocument;yu||ji==null||ji!==We(y)||(y=ji,"selectionStart"in y&&ar(y)?y={start:y.selectionStart,end:y.selectionEnd}:(y=(y.ownerDocument&&y.ownerDocument.defaultView||window).getSelection(),y={anchorNode:y.anchorNode,anchorOffset:y.anchorOffset,focusNode:y.focusNode,focusOffset:y.focusOffset}),lr&&Zs(lr,y)||(lr=y,y=xu(Pd,"onSelect"),0<y.length&&(l=new Mt("onSelect","select",null,l,p),o.push({event:l,listeners:y}),l.target=ji)))}function Xa(o,l){var p={};return p[o.toLowerCase()]=l.toLowerCase(),p["Webkit"+o]="webkit"+l,p["Moz"+o]="moz"+l,p}var Jr={animationend:Xa("Animation","AnimationEnd"),animationiteration:Xa("Animation","AnimationIteration"),animationstart:Xa("Animation","AnimationStart"),transitionend:Xa("Transition","TransitionEnd")},dn={},Ya={};u&&(Ya=document.createElement("div").style,"AnimationEvent"in window||(delete Jr.animationend.animation,delete Jr.animationiteration.animation,delete Jr.animationstart.animation),"TransitionEvent"in window||delete Jr.transitionend.transition);function qa(o){if(dn[o])return dn[o];if(!Jr[o])return o;var l=Jr[o],p;for(p in l)if(l.hasOwnProperty(p)&&p in Ya)return dn[o]=l[p];return o}var Xh=qa("animationend"),Rd=qa("animationiteration"),Id=qa("animationstart"),kd=qa("transitionend"),Md=new Map,Dd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ps(o,l){Md.set(o,l),s(l,[o])}for(var Yh=0;Yh<Dd.length;Yh++){var qh=Dd[Yh],vu=qh.toLowerCase(),Np=qh[0].toUpperCase()+qh.slice(1);ps(vu,"on"+Np)}ps(Xh,"onAnimationEnd"),ps(Rd,"onAnimationIteration"),ps(Id,"onAnimationStart"),ps("dblclick","onDoubleClick"),ps("focusin","onFocus"),ps("focusout","onBlur"),ps(kd,"onTransitionEnd"),a("onMouseEnter",["mouseout","mouseover"]),a("onMouseLeave",["mouseout","mouseover"]),a("onPointerEnter",["pointerout","pointerover"]),a("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var eo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Kh=new Set("cancel close invalid load scroll toggle".split(" ").concat(eo));function Od(o,l,p){var y=o.type||"unknown-event";o.currentTarget=p,Ch(y,l,void 0,o),o.currentTarget=null}function Qh(o,l){l=(l&4)!==0;for(var p=0;p<o.length;p++){var y=o[p],w=y.event;y=y.listeners;e:{var C=void 0;if(l)for(var F=y.length-1;0<=F;F--){var W=y[F],Y=W.instance,he=W.currentTarget;if(W=W.listener,Y!==C&&w.isPropagationStopped())break e;Od(w,W,he),C=Y}else for(F=0;F<y.length;F++){if(W=y[F],Y=W.instance,he=W.currentTarget,W=W.listener,Y!==C&&w.isPropagationStopped())break e;Od(w,W,he),C=Y}}}if($s)throw o=os,$s=!1,os=null,o}function Dt(o,l){var p=l[jr];p===void 0&&(p=l[jr]=new Set);var y=o+"__bubble";p.has(y)||(Jh(l,o,2,!1),p.add(y))}function Zh(o,l,p){var y=0;l&&(y|=4),Jh(p,o,y,l)}var _u="_reactListening"+Math.random().toString(36).slice(2);function Ka(o){if(!o[_u]){o[_u]=!0,n.forEach(function(p){p!=="selectionchange"&&(Kh.has(p)||Zh(p,!1,o),Zh(p,!0,o))});var l=o.nodeType===9?o:o.ownerDocument;l===null||l[_u]||(l[_u]=!0,Zh("selectionchange",!1,l))}}function Jh(o,l,p,y){switch(Pn(l)){case 1:var w=Na;break;case 4:w=Fa;break;default:w=La}p=w.bind(null,l,p,o),w=void 0,!ka||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(w=!0),y?w!==void 0?o.addEventListener(l,p,{capture:!0,passive:w}):o.addEventListener(l,p,!0):w!==void 0?o.addEventListener(l,p,{passive:w}):o.addEventListener(l,p,!1)}function ec(o,l,p,y,w){var C=y;if(!(l&1)&&!(l&2)&&y!==null)e:for(;;){if(y===null)return;var F=y.tag;if(F===3||F===4){var W=y.stateNode.containerInfo;if(W===w||W.nodeType===8&&W.parentNode===w)break;if(F===4)for(F=y.return;F!==null;){var Y=F.tag;if((Y===3||Y===4)&&(Y=F.stateNode.containerInfo,Y===w||Y.nodeType===8&&Y.parentNode===w))return;F=F.return}for(;W!==null;){if(F=to(W),F===null)return;if(Y=F.tag,Y===5||Y===6){y=C=F;continue e}W=W.parentNode}}y=y.return}Ia(function(){var he=C,Te=Tt(p),Ae=[];e:{var Se=Md.get(o);if(Se!==void 0){var Le=Mt,je=o;switch(o){case"keypress":if(au(p)===0)break e;case"keydown":case"keyup":Le=Ga;break;case"focusin":je="focus",Le=lu;break;case"focusout":je="blur",Le=lu;break;case"beforeblur":case"afterblur":Le=lu;break;case"click":if(p.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Le=yd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Le=Cp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Le=Rp;break;case Xh:case Rd:case Id:Le=Uh;break;case kd:Le=qs;break;case"scroll":Le=_i;break;case"wheel":Le=Ip;break;case"copy":case"cut":case"paste":Le=xi;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Le=Ys}var Ye=(l&4)!==0,wr=!Ye&&o==="scroll",ne=Ye?Se!==null?Se+"Capture":null:Se;Ye=[];for(var J=he,ae;J!==null;){ae=J;var Ie=ae.stateNode;if(ae.tag===5&&Ie!==null&&(ae=Ie,ne!==null&&(Ie=js(J,ne),Ie!=null&&Ye.push(Qa(J,Ie,ae)))),wr)break;J=J.return}0<Ye.length&&(Se=new Le(Se,je,null,p,Te),Ae.push({event:Se,listeners:Ye}))}}if(!(l&7)){e:{if(Se=o==="mouseover"||o==="pointerover",Le=o==="mouseout"||o==="pointerout",Se&&p!==ft&&(je=p.relatedTarget||p.fromElement)&&(to(je)||je[qt]))break e;if((Le||Se)&&(Se=Te.window===Te?Te:(Se=Te.ownerDocument)?Se.defaultView||Se.parentWindow:window,Le?(je=p.relatedTarget||p.toElement,Le=he,je=je?to(je):null,je!==null&&(wr=yi(je),je!==wr||je.tag!==5&&je.tag!==6)&&(je=null)):(Le=null,je=he),Le!==je)){if(Ye=yd,Ie="onMouseLeave",ne="onMouseEnter",J="mouse",(o==="pointerout"||o==="pointerover")&&(Ye=Ys,Ie="onPointerLeave",ne="onPointerEnter",J="pointer"),wr=Le==null?Se:Wo(Le),ae=je==null?Se:Wo(je),Se=new Ye(Ie,J+"leave",Le,p,Te),Se.target=wr,Se.relatedTarget=ae,Ie=null,to(Te)===he&&(Ye=new Ye(ne,J+"enter",je,p,Te),Ye.target=ae,Ye.relatedTarget=wr,Ie=Ye),wr=Ie,Le&&je)t:{for(Ye=Le,ne=je,J=0,ae=Ye;ae;ae=Za(ae))J++;for(ae=0,Ie=ne;Ie;Ie=Za(Ie))ae++;for(;0<J-ae;)Ye=Za(Ye),J--;for(;0<ae-J;)ne=Za(ne),ae--;for(;J--;){if(Ye===ne||ne!==null&&Ye===ne.alternate)break t;Ye=Za(Ye),ne=Za(ne)}Ye=null}else Ye=null;Le!==null&&Nd(Ae,Se,Le,Ye,!1),je!==null&&wr!==null&&Nd(Ae,wr,je,Ye,!0)}}e:{if(Se=he?Wo(he):window,Le=Se.nodeName&&Se.nodeName.toLowerCase(),Le==="select"||Le==="input"&&Se.type==="file")var Ke=mu;else if(ja(Se))if(Rn)Ke=jh;else{Ke=Ad;var et=Op}else(Le=Se.nodeName)&&Le.toLowerCase()==="input"&&(Se.type==="checkbox"||Se.type==="radio")&&(Ke=Yt);if(Ke&&(Ke=Ke(o,he))){fu(Ae,Ke,p,Te);break e}et&&et(o,Se,he),o==="focusout"&&(et=Se._wrapperState)&&et.controlled&&Se.type==="number"&&Li(Se,"number",Se.value)}switch(et=he?Wo(he):window,o){case"focusin":(ja(et)||et.contentEditable==="true")&&(ji=et,Pd=he,lr=null);break;case"focusout":lr=Pd=ji=null;break;case"mousedown":yu=!0;break;case"contextmenu":case"mouseup":case"dragend":yu=!1,Wh(Ae,p,Te);break;case"selectionchange":if(gu)break;case"keydown":case"keyup":Wh(Ae,p,Te)}var tt;if(Gi)e:{switch(o){case"compositionstart":var st="onCompositionStart";break e;case"compositionend":st="onCompositionEnd";break e;case"compositionupdate":st="onCompositionUpdate";break e}st=void 0}else Go?Vh(o,p)&&(st="onCompositionEnd"):o==="keydown"&&p.keyCode===229&&(st="onCompositionStart");st&&(cu&&p.locale!=="ko"&&(Go||st!=="onCompositionStart"?st==="onCompositionEnd"&&Go&&(tt=Xs()):(cn=Te,Hn="value"in cn?cn.value:cn.textContent,Go=!0)),et=xu(he,st),0<et.length&&(st=new uu(st,o,null,p,Te),Ae.push({event:st,listeners:et}),tt?st.data=tt:(tt=du(p),tt!==null&&(st.data=tt)))),(tt=kp?Mp(o,p):Dp(o,p))&&(he=xu(he,"onBeforeInput"),0<he.length&&(Te=new uu("onBeforeInput","beforeinput",null,p,Te),Ae.push({event:Te,listeners:he}),Te.data=tt))}Qh(Ae,l)})}function Qa(o,l,p){return{instance:o,listener:l,currentTarget:p}}function xu(o,l){for(var p=l+"Capture",y=[];o!==null;){var w=o,C=w.stateNode;w.tag===5&&C!==null&&(w=C,C=js(o,p),C!=null&&y.unshift(Qa(o,C,w)),C=js(o,l),C!=null&&y.push(Qa(o,C,w))),o=o.return}return y}function Za(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function Nd(o,l,p,y,w){for(var C=l._reactName,F=[];p!==null&&p!==y;){var W=p,Y=W.alternate,he=W.stateNode;if(Y!==null&&Y===y)break;W.tag===5&&he!==null&&(W=he,w?(Y=js(p,C),Y!=null&&F.unshift(Qa(p,Y,W))):w||(Y=js(p,C),Y!=null&&F.push(Qa(p,Y,W)))),p=p.return}F.length!==0&&o.push({event:l,listeners:F})}var dy=/\r\n?/g,fy=/\u0000|\uFFFD/g;function Fd(o){return(typeof o=="string"?o:""+o).replace(dy,`
`).replace(fy,"")}function wu(o,l,p){if(l=Fd(l),Fd(o)!==l&&p)throw Error(t(425))}function Su(){}var Ja=null,Ld=null;function Bd(o,l){return o==="textarea"||o==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var Ud=typeof setTimeout=="function"?setTimeout:void 0,el=typeof clearTimeout=="function"?clearTimeout:void 0,tc=typeof Promise=="function"?Promise:void 0,zd=typeof queueMicrotask=="function"?queueMicrotask:typeof tc<"u"?function(o){return tc.resolve(null).then(o).catch(py)}:Ud;function py(o){setTimeout(function(){throw o})}function rc(o,l){var p=l,y=0;do{var w=p.nextSibling;if(o.removeChild(p),w&&w.nodeType===8)if(p=w.data,p==="/$"){if(y===0){o.removeChild(w),Bo(l);return}y--}else p!=="$"&&p!=="$?"&&p!=="$!"||y++;p=w}while(p);Bo(l)}function ms(o){for(;o!=null;o=o.nextSibling){var l=o.nodeType;if(l===1||l===3)break;if(l===8){if(l=o.data,l==="$"||l==="$!"||l==="$?")break;if(l==="/$")return null}}return o}function Vd(o){o=o.previousSibling;for(var l=0;o;){if(o.nodeType===8){var p=o.data;if(p==="$"||p==="$!"||p==="$?"){if(l===0)return o;l--}else p==="/$"&&l++}o=o.previousSibling}return null}var $o=Math.random().toString(36).slice(2),Si="__reactFiber$"+$o,bu="__reactProps$"+$o,qt="__reactContainer$"+$o,jr="__reactEvents$"+$o,Fp="__reactListeners$"+$o,Lp="__reactHandles$"+$o;function to(o){var l=o[Si];if(l)return l;for(var p=o.parentNode;p;){if(l=p[qt]||p[Si]){if(p=l.alternate,l.child!==null||p!==null&&p.child!==null)for(o=Vd(o);o!==null;){if(p=o[Si])return p;o=Vd(o)}return l}o=p,p=o.parentNode}return null}function tl(o){return o=o[Si]||o[qt],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function Wo(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(t(33))}function rl(o){return o[bu]||null}var nc=[],ro=-1;function gs(o){return{current:o}}function Ot(o){0>ro||(o.current=nc[ro],nc[ro]=null,ro--)}function Et(o,l){ro++,nc[ro]=o.current,o.current=l}var Xn={},vr=gs(Xn),Nr=gs(!1),ys=Xn;function no(o,l){var p=o.type.contextTypes;if(!p)return Xn;var y=o.stateNode;if(y&&y.__reactInternalMemoizedUnmaskedChildContext===l)return y.__reactInternalMemoizedMaskedChildContext;var w={},C;for(C in p)w[C]=l[C];return y&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=l,o.__reactInternalMemoizedMaskedChildContext=w),w}function en(o){return o=o.childContextTypes,o!=null}function nl(){Ot(Nr),Ot(vr)}function Tu(o,l,p){if(vr.current!==Xn)throw Error(t(168));Et(vr,l),Et(Nr,p)}function Gd(o,l,p){var y=o.stateNode;if(l=l.childContextTypes,typeof y.getChildContext!="function")return p;y=y.getChildContext();for(var w in y)if(!(w in l))throw Error(t(108,be(o)||"Unknown",w));return B({},p,y)}function il(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||Xn,ys=vr.current,Et(vr,o),Et(Nr,Nr.current),!0}function jd(o,l,p){var y=o.stateNode;if(!y)throw Error(t(169));p?(o=Gd(o,l,ys),y.__reactInternalMemoizedMergedChildContext=o,Ot(Nr),Ot(vr),Et(vr,o)):Ot(Nr),Et(Nr,p)}var Yn=null,qn=!1,Kn=!1;function Hd(o){Yn===null?Yn=[o]:Yn.push(o)}function Bp(o){qn=!0,Hd(o)}function Qn(){if(!Kn&&Yn!==null){Kn=!0;var o=0,l=vt;try{var p=Yn;for(vt=1;o<p.length;o++){var y=p[o];do y=y(!0);while(y!==null)}Yn=null,qn=!1}catch(w){throw Yn!==null&&(Yn=Yn.slice(o+1)),Rh(Ql,Qn),w}finally{vt=l,Kn=!1}}return null}var ur=[],sl=0,ic=null,Xo=0,Rt=[],Zn=0,Fe=null,fn=1,Hi="";function io(o,l){ur[sl++]=Xo,ur[sl++]=ic,ic=o,Xo=l}function ol(o,l,p){Rt[Zn++]=fn,Rt[Zn++]=Hi,Rt[Zn++]=Fe,Fe=o;var y=fn;o=Hi;var w=32-Pr(y)-1;y&=~(1<<w),p+=1;var C=32-Pr(l)+w;if(30<C){var F=w-w%5;C=(y&(1<<F)-1).toString(32),y>>=F,w-=F,fn=1<<32-Pr(l)+w|p<<w|y,Hi=C+o}else fn=1<<C|p<<w|y,Hi=o}function al(o){o.return!==null&&(io(o,1),ol(o,1,0))}function Eu(o){for(;o===ic;)ic=ur[--sl],ur[sl]=null,Xo=ur[--sl],ur[sl]=null;for(;o===Fe;)Fe=Rt[--Zn],Rt[Zn]=null,Hi=Rt[--Zn],Rt[Zn]=null,fn=Rt[--Zn],Rt[Zn]=null}var pn=null,mn=null,Ut=!1,kn=null;function sc(o,l){var p=qi(5,null,null,0);p.elementType="DELETED",p.stateNode=l,p.return=o,l=o.deletions,l===null?(o.deletions=[p],o.flags|=16):l.push(p)}function Hr(o,l){switch(o.tag){case 5:var p=o.type;return l=l.nodeType!==1||p.toLowerCase()!==l.nodeName.toLowerCase()?null:l,l!==null?(o.stateNode=l,pn=o,mn=ms(l.firstChild),!0):!1;case 6:return l=o.pendingProps===""||l.nodeType!==3?null:l,l!==null?(o.stateNode=l,pn=o,mn=null,!0):!1;case 13:return l=l.nodeType!==8?null:l,l!==null?(p=Fe!==null?{id:fn,overflow:Hi}:null,o.memoizedState={dehydrated:l,treeContext:p,retryLane:1073741824},p=qi(18,null,null,0),p.stateNode=l,p.return=o,o.child=p,pn=o,mn=null,!0):!1;default:return!1}}function Jn(o){return(o.mode&1)!==0&&(o.flags&128)===0}function ei(o){if(Ut){var l=mn;if(l){var p=l;if(!Hr(o,l)){if(Jn(o))throw Error(t(418));l=ms(p.nextSibling);var y=pn;l&&Hr(o,l)?sc(y,p):(o.flags=o.flags&-4097|2,Ut=!1,pn=o)}}else{if(Jn(o))throw Error(t(418));o.flags=o.flags&-4097|2,Ut=!1,pn=o}}}function oc(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;pn=o}function Au(o){if(o!==pn)return!1;if(!Ut)return oc(o),Ut=!0,!1;var l;if((l=o.tag!==3)&&!(l=o.tag!==5)&&(l=o.type,l=l!=="head"&&l!=="body"&&!Bd(o.type,o.memoizedProps)),l&&(l=mn)){if(Jn(o))throw ti(),Error(t(418));for(;l;)sc(o,l),l=ms(l.nextSibling)}if(oc(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(t(317));e:{for(o=o.nextSibling,l=0;o;){if(o.nodeType===8){var p=o.data;if(p==="/$"){if(l===0){mn=ms(o.nextSibling);break e}l--}else p!=="$"&&p!=="$!"&&p!=="$?"||l++}o=o.nextSibling}mn=null}}else mn=pn?ms(o.stateNode.nextSibling):null;return!0}function ti(){for(var o=mn;o;)o=ms(o.nextSibling)}function Yo(){mn=pn=null,Ut=!1}function ri(o){kn===null?kn=[o]:kn.push(o)}var my=L.ReactCurrentBatchConfig;function ll(o,l,p){if(o=p.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(p._owner){if(p=p._owner,p){if(p.tag!==1)throw Error(t(309));var y=p.stateNode}if(!y)throw Error(t(147,o));var w=y,C=""+o;return l!==null&&l.ref!==null&&typeof l.ref=="function"&&l.ref._stringRef===C?l.ref:(l=function(F){var W=w.refs;F===null?delete W[C]:W[C]=F},l._stringRef=C,l)}if(typeof o!="string")throw Error(t(284));if(!p._owner)throw Error(t(290,o))}return o}function Cu(o,l){throw o=Object.prototype.toString.call(l),Error(t(31,o==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":o))}function $d(o){var l=o._init;return l(o._payload)}function Wd(o){function l(ne,J){if(o){var ae=ne.deletions;ae===null?(ne.deletions=[J],ne.flags|=16):ae.push(J)}}function p(ne,J){if(!o)return null;for(;J!==null;)l(ne,J),J=J.sibling;return null}function y(ne,J){for(ne=new Map;J!==null;)J.key!==null?ne.set(J.key,J):ne.set(J.index,J),J=J.sibling;return ne}function w(ne,J){return ne=vl(ne,J),ne.index=0,ne.sibling=null,ne}function C(ne,J,ae){return ne.index=ae,o?(ae=ne.alternate,ae!==null?(ae=ae.index,ae<J?(ne.flags|=2,J):ae):(ne.flags|=2,J)):(ne.flags|=1048576,J)}function F(ne){return o&&ne.alternate===null&&(ne.flags|=2),ne}function W(ne,J,ae,Ie){return J===null||J.tag!==6?(J=Uy(ae,ne.mode,Ie),J.return=ne,J):(J=w(J,ae),J.return=ne,J)}function Y(ne,J,ae,Ie){var Ke=ae.type;return Ke===N?Te(ne,J,ae.props.children,Ie,ae.key):J!==null&&(J.elementType===Ke||typeof Ke=="object"&&Ke!==null&&Ke.$$typeof===U&&$d(Ke)===J.type)?(Ie=w(J,ae.props),Ie.ref=ll(ne,J,ae),Ie.return=ne,Ie):(Ie=rm(ae.type,ae.key,ae.props,null,ne.mode,Ie),Ie.ref=ll(ne,J,ae),Ie.return=ne,Ie)}function he(ne,J,ae,Ie){return J===null||J.tag!==4||J.stateNode.containerInfo!==ae.containerInfo||J.stateNode.implementation!==ae.implementation?(J=zy(ae,ne.mode,Ie),J.return=ne,J):(J=w(J,ae.children||[]),J.return=ne,J)}function Te(ne,J,ae,Ie,Ke){return J===null||J.tag!==7?(J=ju(ae,ne.mode,Ie,Ke),J.return=ne,J):(J=w(J,ae),J.return=ne,J)}function Ae(ne,J,ae){if(typeof J=="string"&&J!==""||typeof J=="number")return J=Uy(""+J,ne.mode,ae),J.return=ne,J;if(typeof J=="object"&&J!==null){switch(J.$$typeof){case D:return ae=rm(J.type,J.key,J.props,null,ne.mode,ae),ae.ref=ll(ne,null,J),ae.return=ne,ae;case H:return J=zy(J,ne.mode,ae),J.return=ne,J;case U:var Ie=J._init;return Ae(ne,Ie(J._payload),ae)}if(Ar(J)||$(J))return J=ju(J,ne.mode,ae,null),J.return=ne,J;Cu(ne,J)}return null}function Se(ne,J,ae,Ie){var Ke=J!==null?J.key:null;if(typeof ae=="string"&&ae!==""||typeof ae=="number")return Ke!==null?null:W(ne,J,""+ae,Ie);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case D:return ae.key===Ke?Y(ne,J,ae,Ie):null;case H:return ae.key===Ke?he(ne,J,ae,Ie):null;case U:return Ke=ae._init,Se(ne,J,Ke(ae._payload),Ie)}if(Ar(ae)||$(ae))return Ke!==null?null:Te(ne,J,ae,Ie,null);Cu(ne,ae)}return null}function Le(ne,J,ae,Ie,Ke){if(typeof Ie=="string"&&Ie!==""||typeof Ie=="number")return ne=ne.get(ae)||null,W(J,ne,""+Ie,Ke);if(typeof Ie=="object"&&Ie!==null){switch(Ie.$$typeof){case D:return ne=ne.get(Ie.key===null?ae:Ie.key)||null,Y(J,ne,Ie,Ke);case H:return ne=ne.get(Ie.key===null?ae:Ie.key)||null,he(J,ne,Ie,Ke);case U:var et=Ie._init;return Le(ne,J,ae,et(Ie._payload),Ke)}if(Ar(Ie)||$(Ie))return ne=ne.get(ae)||null,Te(J,ne,Ie,Ke,null);Cu(J,Ie)}return null}function je(ne,J,ae,Ie){for(var Ke=null,et=null,tt=J,st=J=0,Xr=null;tt!==null&&st<ae.length;st++){tt.index>st?(Xr=tt,tt=null):Xr=tt.sibling;var At=Se(ne,tt,ae[st],Ie);if(At===null){tt===null&&(tt=Xr);break}o&&tt&&At.alternate===null&&l(ne,tt),J=C(At,J,st),et===null?Ke=At:et.sibling=At,et=At,tt=Xr}if(st===ae.length)return p(ne,tt),Ut&&io(ne,st),Ke;if(tt===null){for(;st<ae.length;st++)tt=Ae(ne,ae[st],Ie),tt!==null&&(J=C(tt,J,st),et===null?Ke=tt:et.sibling=tt,et=tt);return Ut&&io(ne,st),Ke}for(tt=y(ne,tt);st<ae.length;st++)Xr=Le(tt,ne,st,ae[st],Ie),Xr!==null&&(o&&Xr.alternate!==null&&tt.delete(Xr.key===null?st:Xr.key),J=C(Xr,J,st),et===null?Ke=Xr:et.sibling=Xr,et=Xr);return o&&tt.forEach(function(_l){return l(ne,_l)}),Ut&&io(ne,st),Ke}function Ye(ne,J,ae,Ie){var Ke=$(ae);if(typeof Ke!="function")throw Error(t(150));if(ae=Ke.call(ae),ae==null)throw Error(t(151));for(var et=Ke=null,tt=J,st=J=0,Xr=null,At=ae.next();tt!==null&&!At.done;st++,At=ae.next()){tt.index>st?(Xr=tt,tt=null):Xr=tt.sibling;var _l=Se(ne,tt,At.value,Ie);if(_l===null){tt===null&&(tt=Xr);break}o&&tt&&_l.alternate===null&&l(ne,tt),J=C(_l,J,st),et===null?Ke=_l:et.sibling=_l,et=_l,tt=Xr}if(At.done)return p(ne,tt),Ut&&io(ne,st),Ke;if(tt===null){for(;!At.done;st++,At=ae.next())At=Ae(ne,At.value,Ie),At!==null&&(J=C(At,J,st),et===null?Ke=At:et.sibling=At,et=At);return Ut&&io(ne,st),Ke}for(tt=y(ne,tt);!At.done;st++,At=ae.next())At=Le(tt,ne,st,At.value,Ie),At!==null&&(o&&At.alternate!==null&&tt.delete(At.key===null?st:At.key),J=C(At,J,st),et===null?Ke=At:et.sibling=At,et=At);return o&&tt.forEach(function(LI){return l(ne,LI)}),Ut&&io(ne,st),Ke}function wr(ne,J,ae,Ie){if(typeof ae=="object"&&ae!==null&&ae.type===N&&ae.key===null&&(ae=ae.props.children),typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case D:e:{for(var Ke=ae.key,et=J;et!==null;){if(et.key===Ke){if(Ke=ae.type,Ke===N){if(et.tag===7){p(ne,et.sibling),J=w(et,ae.props.children),J.return=ne,ne=J;break e}}else if(et.elementType===Ke||typeof Ke=="object"&&Ke!==null&&Ke.$$typeof===U&&$d(Ke)===et.type){p(ne,et.sibling),J=w(et,ae.props),J.ref=ll(ne,et,ae),J.return=ne,ne=J;break e}p(ne,et);break}else l(ne,et);et=et.sibling}ae.type===N?(J=ju(ae.props.children,ne.mode,Ie,ae.key),J.return=ne,ne=J):(Ie=rm(ae.type,ae.key,ae.props,null,ne.mode,Ie),Ie.ref=ll(ne,J,ae),Ie.return=ne,ne=Ie)}return F(ne);case H:e:{for(et=ae.key;J!==null;){if(J.key===et)if(J.tag===4&&J.stateNode.containerInfo===ae.containerInfo&&J.stateNode.implementation===ae.implementation){p(ne,J.sibling),J=w(J,ae.children||[]),J.return=ne,ne=J;break e}else{p(ne,J);break}else l(ne,J);J=J.sibling}J=zy(ae,ne.mode,Ie),J.return=ne,ne=J}return F(ne);case U:return et=ae._init,wr(ne,J,et(ae._payload),Ie)}if(Ar(ae))return je(ne,J,ae,Ie);if($(ae))return Ye(ne,J,ae,Ie);Cu(ne,ae)}return typeof ae=="string"&&ae!==""||typeof ae=="number"?(ae=""+ae,J!==null&&J.tag===6?(p(ne,J.sibling),J=w(J,ae),J.return=ne,ne=J):(p(ne,J),J=Uy(ae,ne.mode,Ie),J.return=ne,ne=J),F(ne)):p(ne,J)}return wr}var vs=Wd(!0),Pu=Wd(!1),qo=gs(null),Ko=null,_s=null,Qo=null;function Ru(){Qo=_s=Ko=null}function Iu(o){var l=qo.current;Ot(qo),o._currentValue=l}function ku(o,l,p){for(;o!==null;){var y=o.alternate;if((o.childLanes&l)!==l?(o.childLanes|=l,y!==null&&(y.childLanes|=l)):y!==null&&(y.childLanes&l)!==l&&(y.childLanes|=l),o===p)break;o=o.return}}function Zo(o,l){Ko=o,Qo=_s=null,o=o.dependencies,o!==null&&o.firstContext!==null&&(o.lanes&l&&(ee=!0),o.firstContext=null)}function gn(o){var l=o._currentValue;if(Qo!==o)if(o={context:o,memoizedValue:l,next:null},_s===null){if(Ko===null)throw Error(t(308));_s=o,Ko.dependencies={lanes:0,firstContext:o}}else _s=_s.next=o;return l}var Jo=null;function ul(o){Jo===null?Jo=[o]:Jo.push(o)}function ac(o,l,p,y){var w=l.interleaved;return w===null?(p.next=p,ul(l)):(p.next=w.next,w.next=p),l.interleaved=p,Pt(o,y)}function Pt(o,l){o.lanes|=l;var p=o.alternate;for(p!==null&&(p.lanes|=l),p=o,o=o.return;o!==null;)o.childLanes|=l,p=o.alternate,p!==null&&(p.childLanes|=l),p=o,o=o.return;return p.tag===3?p.stateNode:null}var at=!1;function hr(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function er(o,l){o=o.updateQueue,l.updateQueue===o&&(l.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function zt(o,l){return{eventTime:o,lane:l,tag:0,payload:null,callback:null,next:null}}function cr(o,l,p){var y=o.updateQueue;if(y===null)return null;if(y=y.shared,bt&2){var w=y.pending;return w===null?l.next=l:(l.next=w.next,w.next=l),y.pending=l,Pt(o,p)}return w=y.interleaved,w===null?(l.next=l,ul(y)):(l.next=w.next,w.next=l),y.interleaved=l,Pt(o,p)}function xs(o,l,p){if(l=l.updateQueue,l!==null&&(l=l.shared,(p&4194240)!==0)){var y=l.lanes;y&=o.pendingLanes,p|=y,l.lanes=p,eu(o,p)}}function dr(o,l){var p=o.updateQueue,y=o.alternate;if(y!==null&&(y=y.updateQueue,p===y)){var w=null,C=null;if(p=p.firstBaseUpdate,p!==null){do{var F={eventTime:p.eventTime,lane:p.lane,tag:p.tag,payload:p.payload,callback:p.callback,next:null};C===null?w=C=F:C=C.next=F,p=p.next}while(p!==null);C===null?w=C=l:C=C.next=l}else w=C=l;p={baseState:y.baseState,firstBaseUpdate:w,lastBaseUpdate:C,shared:y.shared,effects:y.effects},o.updateQueue=p;return}o=p.lastBaseUpdate,o===null?p.firstBaseUpdate=l:o.next=l,p.lastBaseUpdate=l}function so(o,l,p,y){var w=o.updateQueue;at=!1;var C=w.firstBaseUpdate,F=w.lastBaseUpdate,W=w.shared.pending;if(W!==null){w.shared.pending=null;var Y=W,he=Y.next;Y.next=null,F===null?C=he:F.next=he,F=Y;var Te=o.alternate;Te!==null&&(Te=Te.updateQueue,W=Te.lastBaseUpdate,W!==F&&(W===null?Te.firstBaseUpdate=he:W.next=he,Te.lastBaseUpdate=Y))}if(C!==null){var Ae=w.baseState;F=0,Te=he=Y=null,W=C;do{var Se=W.lane,Le=W.eventTime;if((y&Se)===Se){Te!==null&&(Te=Te.next={eventTime:Le,lane:0,tag:W.tag,payload:W.payload,callback:W.callback,next:null});e:{var je=o,Ye=W;switch(Se=l,Le=p,Ye.tag){case 1:if(je=Ye.payload,typeof je=="function"){Ae=je.call(Le,Ae,Se);break e}Ae=je;break e;case 3:je.flags=je.flags&-65537|128;case 0:if(je=Ye.payload,Se=typeof je=="function"?je.call(Le,Ae,Se):je,Se==null)break e;Ae=B({},Ae,Se);break e;case 2:at=!0}}W.callback!==null&&W.lane!==0&&(o.flags|=64,Se=w.effects,Se===null?w.effects=[W]:Se.push(W))}else Le={eventTime:Le,lane:Se,tag:W.tag,payload:W.payload,callback:W.callback,next:null},Te===null?(he=Te=Le,Y=Ae):Te=Te.next=Le,F|=Se;if(W=W.next,W===null){if(W=w.shared.pending,W===null)break;Se=W,W=Se.next,Se.next=null,w.lastBaseUpdate=Se,w.shared.pending=null}}while(!0);if(Te===null&&(Y=Ae),w.baseState=Y,w.firstBaseUpdate=he,w.lastBaseUpdate=Te,l=w.shared.interleaved,l!==null){w=l;do F|=w.lane,w=w.next;while(w!==l)}else C===null&&(w.shared.lanes=0);Uu|=F,o.lanes=F,o.memoizedState=Ae}}function oo(o,l,p){if(o=l.effects,l.effects=null,o!==null)for(l=0;l<o.length;l++){var y=o[l],w=y.callback;if(w!==null){if(y.callback=null,y=p,typeof w!="function")throw Error(t(191,w));w.call(y)}}}var ao={},ni=gs(ao),ws=gs(ao),Fr=gs(ao);function Ss(o){if(o===ao)throw Error(t(174));return o}function Mu(o,l){switch(Et(Fr,l),Et(ws,o),Et(ni,ao),o=l.nodeType,o){case 9:case 11:l=(l=l.documentElement)?l.namespaceURI:Ea(null,"");break;default:o=o===8?l.parentNode:l,l=o.namespaceURI||null,o=o.tagName,l=Ea(l,o)}Ot(ni),Et(ni,l)}function Mn(){Ot(ni),Ot(ws),Ot(Fr)}function ea(o){Ss(Fr.current);var l=Ss(ni.current),p=Ea(l,o.type);l!==p&&(Et(ws,o),Et(ni,p))}function lc(o){ws.current===o&&(Ot(ni),Ot(ws))}var Nt=gs(0);function hl(o){for(var l=o;l!==null;){if(l.tag===13){var p=l.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||p.data==="$?"||p.data==="$!"))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if(l.flags&128)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var $i=[];function cl(){for(var o=0;o<$i.length;o++)$i[o]._workInProgressVersionPrimary=null;$i.length=0}var bi=L.ReactCurrentDispatcher,dl=L.ReactCurrentBatchConfig,Ti=0,Vt=null,Kt=null,tr=null,_r=!1,ii=!1,$r=0,yn=0;function Lr(){throw Error(t(321))}function Du(o,l){if(l===null)return!1;for(var p=0;p<l.length&&p<o.length;p++)if(!In(o[p],l[p]))return!1;return!0}function Ou(o,l,p,y,w,C){if(Ti=C,Vt=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,bi.current=o===null||o.memoizedState===null?pc:yy,o=p(y,w),ii){C=0;do{if(ii=!1,$r=0,25<=C)throw Error(t(301));C+=1,tr=Kt=null,l.updateQueue=null,bi.current=vy,o=p(y,w)}while(ii)}if(bi.current=Bu,l=Kt!==null&&Kt.next!==null,Ti=0,tr=Kt=Vt=null,_r=!1,l)throw Error(t(300));return o}function Wi(){var o=$r!==0;return $r=0,o}function Ei(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return tr===null?Vt.memoizedState=tr=o:tr=tr.next=o,tr}function Dn(){if(Kt===null){var o=Vt.alternate;o=o!==null?o.memoizedState:null}else o=Kt.next;var l=tr===null?Vt.memoizedState:tr.next;if(l!==null)tr=l,Kt=o;else{if(o===null)throw Error(t(310));Kt=o,o={memoizedState:Kt.memoizedState,baseState:Kt.baseState,baseQueue:Kt.baseQueue,queue:Kt.queue,next:null},tr===null?Vt.memoizedState=tr=o:tr=tr.next=o}return tr}function ta(o,l){return typeof l=="function"?l(o):l}function bs(o){var l=Dn(),p=l.queue;if(p===null)throw Error(t(311));p.lastRenderedReducer=o;var y=Kt,w=y.baseQueue,C=p.pending;if(C!==null){if(w!==null){var F=w.next;w.next=C.next,C.next=F}y.baseQueue=w=C,p.pending=null}if(w!==null){C=w.next,y=y.baseState;var W=F=null,Y=null,he=C;do{var Te=he.lane;if((Ti&Te)===Te)Y!==null&&(Y=Y.next={lane:0,action:he.action,hasEagerState:he.hasEagerState,eagerState:he.eagerState,next:null}),y=he.hasEagerState?he.eagerState:o(y,he.action);else{var Ae={lane:Te,action:he.action,hasEagerState:he.hasEagerState,eagerState:he.eagerState,next:null};Y===null?(W=Y=Ae,F=y):Y=Y.next=Ae,Vt.lanes|=Te,Uu|=Te}he=he.next}while(he!==null&&he!==C);Y===null?F=y:Y.next=W,In(y,l.memoizedState)||(ee=!0),l.memoizedState=y,l.baseState=F,l.baseQueue=Y,p.lastRenderedState=y}if(o=p.interleaved,o!==null){w=o;do C=w.lane,Vt.lanes|=C,Uu|=C,w=w.next;while(w!==o)}else w===null&&(p.lanes=0);return[l.memoizedState,p.dispatch]}function uc(o){var l=Dn(),p=l.queue;if(p===null)throw Error(t(311));p.lastRenderedReducer=o;var y=p.dispatch,w=p.pending,C=l.memoizedState;if(w!==null){p.pending=null;var F=w=w.next;do C=o(C,F.action),F=F.next;while(F!==w);In(C,l.memoizedState)||(ee=!0),l.memoizedState=C,l.baseQueue===null&&(l.baseState=C),p.lastRenderedState=C}return[C,y]}function Xd(){}function hc(o,l){var p=Vt,y=Dn(),w=l(),C=!In(y.memoizedState,w);if(C&&(y.memoizedState=w,ee=!0),y=y.queue,Zd(zp.bind(null,p,y,o),[o]),y.getSnapshot!==l||C||tr!==null&&tr.memoizedState.tag&1){if(p.flags|=2048,Ai(9,Up.bind(null,p,y,w,l),void 0,null),Wr===null)throw Error(t(349));Ti&30||Nu(p,l,w)}return w}function Nu(o,l,p){o.flags|=16384,o={getSnapshot:l,value:p},l=Vt.updateQueue,l===null?(l={lastEffect:null,stores:null},Vt.updateQueue=l,l.stores=[o]):(p=l.stores,p===null?l.stores=[o]:p.push(o))}function Up(o,l,p,y){l.value=p,l.getSnapshot=y,Yd(l)&&qd(o)}function zp(o,l,p){return p(function(){Yd(l)&&qd(o)})}function Yd(o){var l=o.getSnapshot;o=o.value;try{var p=l();return!In(o,p)}catch{return!0}}function qd(o){var l=Pt(o,1);l!==null&&Cs(l,o,1,-1)}function ra(o){var l=Ei();return typeof o=="function"&&(o=o()),l.memoizedState=l.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ta,lastRenderedState:o},l.queue=o,o=o.dispatch=gy.bind(null,Vt,o),[l.memoizedState,o]}function Ai(o,l,p,y){return o={tag:o,create:l,destroy:p,deps:y,next:null},l=Vt.updateQueue,l===null?(l={lastEffect:null,stores:null},Vt.updateQueue=l,l.lastEffect=o.next=o):(p=l.lastEffect,p===null?l.lastEffect=o.next=o:(y=p.next,p.next=o,o.next=y,l.lastEffect=o)),o}function Kd(){return Dn().memoizedState}function It(o,l,p,y){var w=Ei();Vt.flags|=o,w.memoizedState=Ai(1|l,p,void 0,y===void 0?null:y)}function cc(o,l,p,y){var w=Dn();y=y===void 0?null:y;var C=void 0;if(Kt!==null){var F=Kt.memoizedState;if(C=F.destroy,y!==null&&Du(y,F.deps)){w.memoizedState=Ai(l,p,C,y);return}}Vt.flags|=o,w.memoizedState=Ai(1|l,p,C,y)}function Qd(o,l){return It(8390656,8,o,l)}function Zd(o,l){return cc(2048,8,o,l)}function Vp(o,l){return cc(4,2,o,l)}function Jd(o,l){return cc(4,4,o,l)}function Gp(o,l){if(typeof l=="function")return o=o(),l(o),function(){l(null)};if(l!=null)return o=o(),l.current=o,function(){l.current=null}}function On(o,l,p){return p=p!=null?p.concat([o]):null,cc(4,4,Gp.bind(null,l,o),p)}function Fu(){}function Ts(o,l){var p=Dn();l=l===void 0?null:l;var y=p.memoizedState;return y!==null&&l!==null&&Du(l,y[1])?y[0]:(p.memoizedState=[o,l],o)}function Lu(o,l){var p=Dn();l=l===void 0?null:l;var y=p.memoizedState;return y!==null&&l!==null&&Du(l,y[1])?y[0]:(o=o(),p.memoizedState=[o,l],o)}function lo(o,l,p){return Ti&21?(In(p,l)||(p=Gn(),Vt.lanes|=p,Uu|=p,o.baseState=!0),l):(o.baseState&&(o.baseState=!1,ee=!0),o.memoizedState=p)}function dc(o,l){var p=vt;vt=p!==0&&4>p?p:4,o(!0);var y=dl.transition;dl.transition={};try{o(!1),l()}finally{vt=p,dl.transition=y}}function fc(){return Dn().memoizedState}function ef(o,l,p){var y=gl(o);if(p={lane:y,action:p,hasEagerState:!1,eagerState:null,next:null},tf(o))rf(l,p);else if(p=ac(o,l,p,y),p!==null){var w=Nn();Cs(p,o,y,w),nf(p,l,y)}}function gy(o,l,p){var y=gl(o),w={lane:y,action:p,hasEagerState:!1,eagerState:null,next:null};if(tf(o))rf(l,w);else{var C=o.alternate;if(o.lanes===0&&(C===null||C.lanes===0)&&(C=l.lastRenderedReducer,C!==null))try{var F=l.lastRenderedState,W=C(F,p);if(w.hasEagerState=!0,w.eagerState=W,In(W,F)){var Y=l.interleaved;Y===null?(w.next=w,ul(l)):(w.next=Y.next,Y.next=w),l.interleaved=w;return}}catch{}finally{}p=ac(o,l,w,y),p!==null&&(w=Nn(),Cs(p,o,y,w),nf(p,l,y))}}function tf(o){var l=o.alternate;return o===Vt||l!==null&&l===Vt}function rf(o,l){ii=_r=!0;var p=o.pending;p===null?l.next=l:(l.next=p.next,p.next=l),o.pending=l}function nf(o,l,p){if(p&4194240){var y=l.lanes;y&=o.pendingLanes,p|=y,l.lanes=p,eu(o,p)}}var Bu={readContext:gn,useCallback:Lr,useContext:Lr,useEffect:Lr,useImperativeHandle:Lr,useInsertionEffect:Lr,useLayoutEffect:Lr,useMemo:Lr,useReducer:Lr,useRef:Lr,useState:Lr,useDebugValue:Lr,useDeferredValue:Lr,useTransition:Lr,useMutableSource:Lr,useSyncExternalStore:Lr,useId:Lr,unstable_isNewReconciler:!1},pc={readContext:gn,useCallback:function(o,l){return Ei().memoizedState=[o,l===void 0?null:l],o},useContext:gn,useEffect:Qd,useImperativeHandle:function(o,l,p){return p=p!=null?p.concat([o]):null,It(4194308,4,Gp.bind(null,l,o),p)},useLayoutEffect:function(o,l){return It(4194308,4,o,l)},useInsertionEffect:function(o,l){return It(4,2,o,l)},useMemo:function(o,l){var p=Ei();return l=l===void 0?null:l,o=o(),p.memoizedState=[o,l],o},useReducer:function(o,l,p){var y=Ei();return l=p!==void 0?p(l):l,y.memoizedState=y.baseState=l,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:l},y.queue=o,o=o.dispatch=ef.bind(null,Vt,o),[y.memoizedState,o]},useRef:function(o){var l=Ei();return o={current:o},l.memoizedState=o},useState:ra,useDebugValue:Fu,useDeferredValue:function(o){return Ei().memoizedState=o},useTransition:function(){var o=ra(!1),l=o[0];return o=dc.bind(null,o[1]),Ei().memoizedState=o,[l,o]},useMutableSource:function(){},useSyncExternalStore:function(o,l,p){var y=Vt,w=Ei();if(Ut){if(p===void 0)throw Error(t(407));p=p()}else{if(p=l(),Wr===null)throw Error(t(349));Ti&30||Nu(y,l,p)}w.memoizedState=p;var C={value:p,getSnapshot:l};return w.queue=C,Qd(zp.bind(null,y,C,o),[o]),y.flags|=2048,Ai(9,Up.bind(null,y,C,p,l),void 0,null),p},useId:function(){var o=Ei(),l=Wr.identifierPrefix;if(Ut){var p=Hi,y=fn;p=(y&~(1<<32-Pr(y)-1)).toString(32)+p,l=":"+l+"R"+p,p=$r++,0<p&&(l+="H"+p.toString(32)),l+=":"}else p=yn++,l=":"+l+"r"+p.toString(32)+":";return o.memoizedState=l},unstable_isNewReconciler:!1},yy={readContext:gn,useCallback:Ts,useContext:gn,useEffect:Zd,useImperativeHandle:On,useInsertionEffect:Vp,useLayoutEffect:Jd,useMemo:Lu,useReducer:bs,useRef:Kd,useState:function(){return bs(ta)},useDebugValue:Fu,useDeferredValue:function(o){var l=Dn();return lo(l,Kt.memoizedState,o)},useTransition:function(){var o=bs(ta)[0],l=Dn().memoizedState;return[o,l]},useMutableSource:Xd,useSyncExternalStore:hc,useId:fc,unstable_isNewReconciler:!1},vy={readContext:gn,useCallback:Ts,useContext:gn,useEffect:Zd,useImperativeHandle:On,useInsertionEffect:Vp,useLayoutEffect:Jd,useMemo:Lu,useReducer:uc,useRef:Kd,useState:function(){return uc(ta)},useDebugValue:Fu,useDeferredValue:function(o){var l=Dn();return Kt===null?l.memoizedState=o:lo(l,Kt.memoizedState,o)},useTransition:function(){var o=uc(ta)[0],l=Dn().memoizedState;return[o,l]},useMutableSource:Xd,useSyncExternalStore:hc,useId:fc,unstable_isNewReconciler:!1};function h(o,l){if(o&&o.defaultProps){l=B({},l),o=o.defaultProps;for(var p in o)l[p]===void 0&&(l[p]=o[p]);return l}return l}function d(o,l,p,y){l=o.memoizedState,p=p(y,l),p=p==null?l:B({},l,p),o.memoizedState=p,o.lanes===0&&(o.updateQueue.baseState=p)}var _={isMounted:function(o){return(o=o._reactInternals)?yi(o)===o:!1},enqueueSetState:function(o,l,p){o=o._reactInternals;var y=Nn(),w=gl(o),C=zt(y,w);C.payload=l,p!=null&&(C.callback=p),l=cr(o,C,w),l!==null&&(Cs(l,o,w,y),xs(l,o,w))},enqueueReplaceState:function(o,l,p){o=o._reactInternals;var y=Nn(),w=gl(o),C=zt(y,w);C.tag=1,C.payload=l,p!=null&&(C.callback=p),l=cr(o,C,w),l!==null&&(Cs(l,o,w,y),xs(l,o,w))},enqueueForceUpdate:function(o,l){o=o._reactInternals;var p=Nn(),y=gl(o),w=zt(p,y);w.tag=2,l!=null&&(w.callback=l),l=cr(o,w,y),l!==null&&(Cs(l,o,y,p),xs(l,o,y))}};function T(o,l,p,y,w,C,F){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(y,C,F):l.prototype&&l.prototype.isPureReactComponent?!Zs(p,y)||!Zs(w,C):!0}function A(o,l,p){var y=!1,w=Xn,C=l.contextType;return typeof C=="object"&&C!==null?C=gn(C):(w=en(l)?ys:vr.current,y=l.contextTypes,C=(y=y!=null)?no(o,w):Xn),l=new l(p,C),o.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=_,o.stateNode=l,l._reactInternals=o,y&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=w,o.__reactInternalMemoizedMaskedChildContext=C),l}function I(o,l,p,y){o=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(p,y),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(p,y),l.state!==o&&_.enqueueReplaceState(l,l.state,null)}function V(o,l,p,y){var w=o.stateNode;w.props=p,w.state=o.memoizedState,w.refs={},hr(o);var C=l.contextType;typeof C=="object"&&C!==null?w.context=gn(C):(C=en(l)?ys:vr.current,w.context=no(o,C)),w.state=o.memoizedState,C=l.getDerivedStateFromProps,typeof C=="function"&&(d(o,l,C,p),w.state=o.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(l=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),l!==w.state&&_.enqueueReplaceState(w,w.state,null),so(o,p,w,y),w.state=o.memoizedState),typeof w.componentDidMount=="function"&&(o.flags|=4194308)}function K(o,l){try{var p="",y=l;do p+=de(y),y=y.return;while(y);var w=p}catch(C){w=`
Error generating stack: `+C.message+`
`+C.stack}return{value:o,source:l,stack:w,digest:null}}function se(o,l,p){return{value:o,source:null,stack:p??null,digest:l??null}}function pe(o,l){try{console.error(l.value)}catch(p){setTimeout(function(){throw p})}}var ve=typeof WeakMap=="function"?WeakMap:Map;function Me(o,l,p){p=zt(-1,p),p.tag=3,p.payload={element:null};var y=l.value;return p.callback=function(){Kp||(Kp=!0,ky=y),pe(o,l)},p}function ge(o,l,p){p=zt(-1,p),p.tag=3;var y=o.type.getDerivedStateFromError;if(typeof y=="function"){var w=l.value;p.payload=function(){return y(w)},p.callback=function(){pe(o,l)}}var C=o.stateNode;return C!==null&&typeof C.componentDidCatch=="function"&&(p.callback=function(){pe(o,l),typeof y!="function"&&(pl===null?pl=new Set([this]):pl.add(this));var F=l.stack;this.componentDidCatch(l.value,{componentStack:F!==null?F:""})}),p}function Ce(o,l,p){var y=o.pingCache;if(y===null){y=o.pingCache=new ve;var w=new Set;y.set(l,w)}else w=y.get(l),w===void 0&&(w=new Set,y.set(l,w));w.has(p)||(w.add(p),o=AI.bind(null,o,l,p),l.then(o,o))}function Ge(o){do{var l;if((l=o.tag===13)&&(l=o.memoizedState,l=l!==null?l.dehydrated!==null:!0),l)return o;o=o.return}while(o!==null);return null}function ut(o,l,p,y,w){return o.mode&1?(o.flags|=65536,o.lanes=w,o):(o===l?o.flags|=65536:(o.flags|=128,p.flags|=131072,p.flags&=-52805,p.tag===1&&(p.alternate===null?p.tag=17:(l=zt(-1,1),l.tag=2,cr(p,l,1))),p.lanes|=1),o)}var _e=L.ReactCurrentOwner,ee=!1;function ce(o,l,p,y){l.child=o===null?Pu(l,null,p,y):vs(l,o.child,p,y)}function Ee(o,l,p,y,w){p=p.render;var C=l.ref;return Zo(l,w),y=Ou(o,l,p,y,C,w),p=Wi(),o!==null&&!ee?(l.updateQueue=o.updateQueue,l.flags&=-2053,o.lanes&=~w,na(o,l,w)):(Ut&&p&&al(l),l.flags|=1,ce(o,l,y,w),l.child)}function Ze(o,l,p,y,w){if(o===null){var C=p.type;return typeof C=="function"&&!By(C)&&C.defaultProps===void 0&&p.compare===null&&p.defaultProps===void 0?(l.tag=15,l.type=C,wt(o,l,C,y,w)):(o=rm(p.type,null,y,l,l.mode,w),o.ref=l.ref,o.return=l,l.child=o)}if(C=o.child,!(o.lanes&w)){var F=C.memoizedProps;if(p=p.compare,p=p!==null?p:Zs,p(F,y)&&o.ref===l.ref)return na(o,l,w)}return l.flags|=1,o=vl(C,y),o.ref=l.ref,o.return=l,l.child=o}function wt(o,l,p,y,w){if(o!==null){var C=o.memoizedProps;if(Zs(C,y)&&o.ref===l.ref)if(ee=!1,l.pendingProps=y=C,(o.lanes&w)!==0)o.flags&131072&&(ee=!0);else return l.lanes=o.lanes,na(o,l,w)}return xr(o,l,p,y,w)}function $e(o,l,p){var y=l.pendingProps,w=y.children,C=o!==null?o.memoizedState:null;if(y.mode==="hidden")if(!(l.mode&1))l.memoizedState={baseLanes:0,cachePool:null,transitions:null},Et(gc,Ci),Ci|=p;else{if(!(p&1073741824))return o=C!==null?C.baseLanes|p:p,l.lanes=l.childLanes=1073741824,l.memoizedState={baseLanes:o,cachePool:null,transitions:null},l.updateQueue=null,Et(gc,Ci),Ci|=o,null;l.memoizedState={baseLanes:0,cachePool:null,transitions:null},y=C!==null?C.baseLanes:p,Et(gc,Ci),Ci|=y}else C!==null?(y=C.baseLanes|p,l.memoizedState=null):y=p,Et(gc,Ci),Ci|=y;return ce(o,l,w,p),l.child}function _t(o,l){var p=l.ref;(o===null&&p!==null||o!==null&&o.ref!==p)&&(l.flags|=512,l.flags|=2097152)}function xr(o,l,p,y,w){var C=en(p)?ys:vr.current;return C=no(l,C),Zo(l,w),p=Ou(o,l,p,y,C,w),y=Wi(),o!==null&&!ee?(l.updateQueue=o.updateQueue,l.flags&=-2053,o.lanes&=~w,na(o,l,w)):(Ut&&y&&al(l),l.flags|=1,ce(o,l,p,w),l.child)}function St(o,l,p,y,w){if(en(p)){var C=!0;il(l)}else C=!1;if(Zo(l,w),l.stateNode===null)$p(o,l),A(l,p,y),V(l,p,y,w),y=!0;else if(o===null){var F=l.stateNode,W=l.memoizedProps;F.props=W;var Y=F.context,he=p.contextType;typeof he=="object"&&he!==null?he=gn(he):(he=en(p)?ys:vr.current,he=no(l,he));var Te=p.getDerivedStateFromProps,Ae=typeof Te=="function"||typeof F.getSnapshotBeforeUpdate=="function";Ae||typeof F.UNSAFE_componentWillReceiveProps!="function"&&typeof F.componentWillReceiveProps!="function"||(W!==y||Y!==he)&&I(l,F,y,he),at=!1;var Se=l.memoizedState;F.state=Se,so(l,y,F,w),Y=l.memoizedState,W!==y||Se!==Y||Nr.current||at?(typeof Te=="function"&&(d(l,p,Te,y),Y=l.memoizedState),(W=at||T(l,p,W,y,Se,Y,he))?(Ae||typeof F.UNSAFE_componentWillMount!="function"&&typeof F.componentWillMount!="function"||(typeof F.componentWillMount=="function"&&F.componentWillMount(),typeof F.UNSAFE_componentWillMount=="function"&&F.UNSAFE_componentWillMount()),typeof F.componentDidMount=="function"&&(l.flags|=4194308)):(typeof F.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=y,l.memoizedState=Y),F.props=y,F.state=Y,F.context=he,y=W):(typeof F.componentDidMount=="function"&&(l.flags|=4194308),y=!1)}else{F=l.stateNode,er(o,l),W=l.memoizedProps,he=l.type===l.elementType?W:h(l.type,W),F.props=he,Ae=l.pendingProps,Se=F.context,Y=p.contextType,typeof Y=="object"&&Y!==null?Y=gn(Y):(Y=en(p)?ys:vr.current,Y=no(l,Y));var Le=p.getDerivedStateFromProps;(Te=typeof Le=="function"||typeof F.getSnapshotBeforeUpdate=="function")||typeof F.UNSAFE_componentWillReceiveProps!="function"&&typeof F.componentWillReceiveProps!="function"||(W!==Ae||Se!==Y)&&I(l,F,y,Y),at=!1,Se=l.memoizedState,F.state=Se,so(l,y,F,w);var je=l.memoizedState;W!==Ae||Se!==je||Nr.current||at?(typeof Le=="function"&&(d(l,p,Le,y),je=l.memoizedState),(he=at||T(l,p,he,y,Se,je,Y)||!1)?(Te||typeof F.UNSAFE_componentWillUpdate!="function"&&typeof F.componentWillUpdate!="function"||(typeof F.componentWillUpdate=="function"&&F.componentWillUpdate(y,je,Y),typeof F.UNSAFE_componentWillUpdate=="function"&&F.UNSAFE_componentWillUpdate(y,je,Y)),typeof F.componentDidUpdate=="function"&&(l.flags|=4),typeof F.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof F.componentDidUpdate!="function"||W===o.memoizedProps&&Se===o.memoizedState||(l.flags|=4),typeof F.getSnapshotBeforeUpdate!="function"||W===o.memoizedProps&&Se===o.memoizedState||(l.flags|=1024),l.memoizedProps=y,l.memoizedState=je),F.props=y,F.state=je,F.context=Y,y=he):(typeof F.componentDidUpdate!="function"||W===o.memoizedProps&&Se===o.memoizedState||(l.flags|=4),typeof F.getSnapshotBeforeUpdate!="function"||W===o.memoizedProps&&Se===o.memoizedState||(l.flags|=1024),y=!1)}return Xi(o,l,p,y,C,w)}function Xi(o,l,p,y,w,C){_t(o,l);var F=(l.flags&128)!==0;if(!y&&!F)return w&&jd(l,p,!1),na(o,l,C);y=l.stateNode,_e.current=l;var W=F&&typeof p.getDerivedStateFromError!="function"?null:y.render();return l.flags|=1,o!==null&&F?(l.child=vs(l,o.child,null,C),l.child=vs(l,null,W,C)):ce(o,l,W,C),l.memoizedState=y.state,w&&jd(l,p,!0),l.child}function jp(o){var l=o.stateNode;l.pendingContext?Tu(o,l.pendingContext,l.pendingContext!==l.context):l.context&&Tu(o,l.context,!1),Mu(o,l.containerInfo)}function k1(o,l,p,y,w){return Yo(),ri(w),l.flags|=256,ce(o,l,p,y),l.child}var _y={dehydrated:null,treeContext:null,retryLane:0};function xy(o){return{baseLanes:o,cachePool:null,transitions:null}}function M1(o,l,p){var y=l.pendingProps,w=Nt.current,C=!1,F=(l.flags&128)!==0,W;if((W=F)||(W=o!==null&&o.memoizedState===null?!1:(w&2)!==0),W?(C=!0,l.flags&=-129):(o===null||o.memoizedState!==null)&&(w|=1),Et(Nt,w&1),o===null)return ei(l),o=l.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?(l.mode&1?o.data==="$!"?l.lanes=8:l.lanes=1073741824:l.lanes=1,null):(F=y.children,o=y.fallback,C?(y=l.mode,C=l.child,F={mode:"hidden",children:F},!(y&1)&&C!==null?(C.childLanes=0,C.pendingProps=F):C=nm(F,y,0,null),o=ju(o,y,p,null),C.return=l,o.return=l,C.sibling=o,l.child=C,l.child.memoizedState=xy(p),l.memoizedState=_y,o):wy(l,F));if(w=o.memoizedState,w!==null&&(W=w.dehydrated,W!==null))return pI(o,l,F,y,W,w,p);if(C){C=y.fallback,F=l.mode,w=o.child,W=w.sibling;var Y={mode:"hidden",children:y.children};return!(F&1)&&l.child!==w?(y=l.child,y.childLanes=0,y.pendingProps=Y,l.deletions=null):(y=vl(w,Y),y.subtreeFlags=w.subtreeFlags&14680064),W!==null?C=vl(W,C):(C=ju(C,F,p,null),C.flags|=2),C.return=l,y.return=l,y.sibling=C,l.child=y,y=C,C=l.child,F=o.child.memoizedState,F=F===null?xy(p):{baseLanes:F.baseLanes|p,cachePool:null,transitions:F.transitions},C.memoizedState=F,C.childLanes=o.childLanes&~p,l.memoizedState=_y,y}return C=o.child,o=C.sibling,y=vl(C,{mode:"visible",children:y.children}),!(l.mode&1)&&(y.lanes=p),y.return=l,y.sibling=null,o!==null&&(p=l.deletions,p===null?(l.deletions=[o],l.flags|=16):p.push(o)),l.child=y,l.memoizedState=null,y}function wy(o,l){return l=nm({mode:"visible",children:l},o.mode,0,null),l.return=o,o.child=l}function Hp(o,l,p,y){return y!==null&&ri(y),vs(l,o.child,null,p),o=wy(l,l.pendingProps.children),o.flags|=2,l.memoizedState=null,o}function pI(o,l,p,y,w,C,F){if(p)return l.flags&256?(l.flags&=-257,y=se(Error(t(422))),Hp(o,l,F,y)):l.memoizedState!==null?(l.child=o.child,l.flags|=128,null):(C=y.fallback,w=l.mode,y=nm({mode:"visible",children:y.children},w,0,null),C=ju(C,w,F,null),C.flags|=2,y.return=l,C.return=l,y.sibling=C,l.child=y,l.mode&1&&vs(l,o.child,null,F),l.child.memoizedState=xy(F),l.memoizedState=_y,C);if(!(l.mode&1))return Hp(o,l,F,null);if(w.data==="$!"){if(y=w.nextSibling&&w.nextSibling.dataset,y)var W=y.dgst;return y=W,C=Error(t(419)),y=se(C,y,void 0),Hp(o,l,F,y)}if(W=(F&o.childLanes)!==0,ee||W){if(y=Wr,y!==null){switch(F&-F){case 4:w=2;break;case 16:w=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:w=32;break;case 536870912:w=268435456;break;default:w=0}w=w&(y.suspendedLanes|F)?0:w,w!==0&&w!==C.retryLane&&(C.retryLane=w,Pt(o,w),Cs(y,o,w,-1))}return Ly(),y=se(Error(t(421))),Hp(o,l,F,y)}return w.data==="$?"?(l.flags|=128,l.child=o.child,l=CI.bind(null,o),w._reactRetry=l,null):(o=C.treeContext,mn=ms(w.nextSibling),pn=l,Ut=!0,kn=null,o!==null&&(Rt[Zn++]=fn,Rt[Zn++]=Hi,Rt[Zn++]=Fe,fn=o.id,Hi=o.overflow,Fe=l),l=wy(l,y.children),l.flags|=4096,l)}function D1(o,l,p){o.lanes|=l;var y=o.alternate;y!==null&&(y.lanes|=l),ku(o.return,l,p)}function Sy(o,l,p,y,w){var C=o.memoizedState;C===null?o.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:y,tail:p,tailMode:w}:(C.isBackwards=l,C.rendering=null,C.renderingStartTime=0,C.last=y,C.tail=p,C.tailMode=w)}function O1(o,l,p){var y=l.pendingProps,w=y.revealOrder,C=y.tail;if(ce(o,l,y.children,p),y=Nt.current,y&2)y=y&1|2,l.flags|=128;else{if(o!==null&&o.flags&128)e:for(o=l.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&D1(o,p,l);else if(o.tag===19)D1(o,p,l);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===l)break e;for(;o.sibling===null;){if(o.return===null||o.return===l)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}y&=1}if(Et(Nt,y),!(l.mode&1))l.memoizedState=null;else switch(w){case"forwards":for(p=l.child,w=null;p!==null;)o=p.alternate,o!==null&&hl(o)===null&&(w=p),p=p.sibling;p=w,p===null?(w=l.child,l.child=null):(w=p.sibling,p.sibling=null),Sy(l,!1,w,p,C);break;case"backwards":for(p=null,w=l.child,l.child=null;w!==null;){if(o=w.alternate,o!==null&&hl(o)===null){l.child=w;break}o=w.sibling,w.sibling=p,p=w,w=o}Sy(l,!0,p,null,C);break;case"together":Sy(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function $p(o,l){!(l.mode&1)&&o!==null&&(o.alternate=null,l.alternate=null,l.flags|=2)}function na(o,l,p){if(o!==null&&(l.dependencies=o.dependencies),Uu|=l.lanes,!(p&l.childLanes))return null;if(o!==null&&l.child!==o.child)throw Error(t(153));if(l.child!==null){for(o=l.child,p=vl(o,o.pendingProps),l.child=p,p.return=l;o.sibling!==null;)o=o.sibling,p=p.sibling=vl(o,o.pendingProps),p.return=l;p.sibling=null}return l.child}function mI(o,l,p){switch(l.tag){case 3:jp(l),Yo();break;case 5:ea(l);break;case 1:en(l.type)&&il(l);break;case 4:Mu(l,l.stateNode.containerInfo);break;case 10:var y=l.type._context,w=l.memoizedProps.value;Et(qo,y._currentValue),y._currentValue=w;break;case 13:if(y=l.memoizedState,y!==null)return y.dehydrated!==null?(Et(Nt,Nt.current&1),l.flags|=128,null):p&l.child.childLanes?M1(o,l,p):(Et(Nt,Nt.current&1),o=na(o,l,p),o!==null?o.sibling:null);Et(Nt,Nt.current&1);break;case 19:if(y=(p&l.childLanes)!==0,o.flags&128){if(y)return O1(o,l,p);l.flags|=128}if(w=l.memoizedState,w!==null&&(w.rendering=null,w.tail=null,w.lastEffect=null),Et(Nt,Nt.current),y)break;return null;case 22:case 23:return l.lanes=0,$e(o,l,p)}return na(o,l,p)}var N1,by,F1,L1;N1=function(o,l){for(var p=l.child;p!==null;){if(p.tag===5||p.tag===6)o.appendChild(p.stateNode);else if(p.tag!==4&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===l)break;for(;p.sibling===null;){if(p.return===null||p.return===l)return;p=p.return}p.sibling.return=p.return,p=p.sibling}},by=function(){},F1=function(o,l,p,y){var w=o.memoizedProps;if(w!==y){o=l.stateNode,Ss(ni.current);var C=null;switch(p){case"input":w=ct(o,w),y=ct(o,y),C=[];break;case"select":w=B({},w,{value:void 0}),y=B({},y,{value:void 0}),C=[];break;case"textarea":w=Bi(o,w),y=Bi(o,y),C=[];break;default:typeof w.onClick!="function"&&typeof y.onClick=="function"&&(o.onclick=Su)}oe(p,y);var F;p=null;for(he in w)if(!y.hasOwnProperty(he)&&w.hasOwnProperty(he)&&w[he]!=null)if(he==="style"){var W=w[he];for(F in W)W.hasOwnProperty(F)&&(p||(p={}),p[F]="")}else he!=="dangerouslySetInnerHTML"&&he!=="children"&&he!=="suppressContentEditableWarning"&&he!=="suppressHydrationWarning"&&he!=="autoFocus"&&(i.hasOwnProperty(he)?C||(C=[]):(C=C||[]).push(he,null));for(he in y){var Y=y[he];if(W=w!=null?w[he]:void 0,y.hasOwnProperty(he)&&Y!==W&&(Y!=null||W!=null))if(he==="style")if(W){for(F in W)!W.hasOwnProperty(F)||Y&&Y.hasOwnProperty(F)||(p||(p={}),p[F]="");for(F in Y)Y.hasOwnProperty(F)&&W[F]!==Y[F]&&(p||(p={}),p[F]=Y[F])}else p||(C||(C=[]),C.push(he,p)),p=Y;else he==="dangerouslySetInnerHTML"?(Y=Y?Y.__html:void 0,W=W?W.__html:void 0,Y!=null&&W!==Y&&(C=C||[]).push(he,Y)):he==="children"?typeof Y!="string"&&typeof Y!="number"||(C=C||[]).push(he,""+Y):he!=="suppressContentEditableWarning"&&he!=="suppressHydrationWarning"&&(i.hasOwnProperty(he)?(Y!=null&&he==="onScroll"&&Dt("scroll",o),C||W===Y||(C=[])):(C=C||[]).push(he,Y))}p&&(C=C||[]).push("style",p);var he=C;(l.updateQueue=he)&&(l.flags|=4)}},L1=function(o,l,p,y){p!==y&&(l.flags|=4)};function sf(o,l){if(!Ut)switch(o.tailMode){case"hidden":l=o.tail;for(var p=null;l!==null;)l.alternate!==null&&(p=l),l=l.sibling;p===null?o.tail=null:p.sibling=null;break;case"collapsed":p=o.tail;for(var y=null;p!==null;)p.alternate!==null&&(y=p),p=p.sibling;y===null?l||o.tail===null?o.tail=null:o.tail.sibling=null:y.sibling=null}}function vn(o){var l=o.alternate!==null&&o.alternate.child===o.child,p=0,y=0;if(l)for(var w=o.child;w!==null;)p|=w.lanes|w.childLanes,y|=w.subtreeFlags&14680064,y|=w.flags&14680064,w.return=o,w=w.sibling;else for(w=o.child;w!==null;)p|=w.lanes|w.childLanes,y|=w.subtreeFlags,y|=w.flags,w.return=o,w=w.sibling;return o.subtreeFlags|=y,o.childLanes=p,l}function gI(o,l,p){var y=l.pendingProps;switch(Eu(l),l.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vn(l),null;case 1:return en(l.type)&&nl(),vn(l),null;case 3:return y=l.stateNode,Mn(),Ot(Nr),Ot(vr),cl(),y.pendingContext&&(y.context=y.pendingContext,y.pendingContext=null),(o===null||o.child===null)&&(Au(l)?l.flags|=4:o===null||o.memoizedState.isDehydrated&&!(l.flags&256)||(l.flags|=1024,kn!==null&&(Oy(kn),kn=null))),by(o,l),vn(l),null;case 5:lc(l);var w=Ss(Fr.current);if(p=l.type,o!==null&&l.stateNode!=null)F1(o,l,p,y,w),o.ref!==l.ref&&(l.flags|=512,l.flags|=2097152);else{if(!y){if(l.stateNode===null)throw Error(t(166));return vn(l),null}if(o=Ss(ni.current),Au(l)){y=l.stateNode,p=l.type;var C=l.memoizedProps;switch(y[Si]=l,y[bu]=C,o=(l.mode&1)!==0,p){case"dialog":Dt("cancel",y),Dt("close",y);break;case"iframe":case"object":case"embed":Dt("load",y);break;case"video":case"audio":for(w=0;w<eo.length;w++)Dt(eo[w],y);break;case"source":Dt("error",y);break;case"img":case"image":case"link":Dt("error",y),Dt("load",y);break;case"details":Dt("toggle",y);break;case"input":He(y,C),Dt("invalid",y);break;case"select":y._wrapperState={wasMultiple:!!C.multiple},Dt("invalid",y);break;case"textarea":is(y,C),Dt("invalid",y)}oe(p,C),w=null;for(var F in C)if(C.hasOwnProperty(F)){var W=C[F];F==="children"?typeof W=="string"?y.textContent!==W&&(C.suppressHydrationWarning!==!0&&wu(y.textContent,W,o),w=["children",W]):typeof W=="number"&&y.textContent!==""+W&&(C.suppressHydrationWarning!==!0&&wu(y.textContent,W,o),w=["children",""+W]):i.hasOwnProperty(F)&&W!=null&&F==="onScroll"&&Dt("scroll",y)}switch(p){case"input":De(y),Xt(y,C,!0);break;case"textarea":De(y),bh(y);break;case"select":case"option":break;default:typeof C.onClick=="function"&&(y.onclick=Su)}y=w,l.updateQueue=y,y!==null&&(l.flags|=4)}else{F=w.nodeType===9?w:w.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=Th(p)),o==="http://www.w3.org/1999/xhtml"?p==="script"?(o=F.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof y.is=="string"?o=F.createElement(p,{is:y.is}):(o=F.createElement(p),p==="select"&&(F=o,y.multiple?F.multiple=!0:y.size&&(F.size=y.size))):o=F.createElementNS(o,p),o[Si]=l,o[bu]=y,N1(o,l,!1,!1),l.stateNode=o;e:{switch(F=ue(p,y),p){case"dialog":Dt("cancel",o),Dt("close",o),w=y;break;case"iframe":case"object":case"embed":Dt("load",o),w=y;break;case"video":case"audio":for(w=0;w<eo.length;w++)Dt(eo[w],o);w=y;break;case"source":Dt("error",o),w=y;break;case"img":case"image":case"link":Dt("error",o),Dt("load",o),w=y;break;case"details":Dt("toggle",o),w=y;break;case"input":He(o,y),w=ct(o,y),Dt("invalid",o);break;case"option":w=y;break;case"select":o._wrapperState={wasMultiple:!!y.multiple},w=B({},y,{value:void 0}),Dt("invalid",o);break;case"textarea":is(o,y),w=Bi(o,y),Dt("invalid",o);break;default:w=y}oe(p,w),W=w;for(C in W)if(W.hasOwnProperty(C)){var Y=W[C];C==="style"?Ca(o,Y):C==="dangerouslySetInnerHTML"?(Y=Y?Y.__html:void 0,Y!=null&&Vs(o,Y)):C==="children"?typeof Y=="string"?(p!=="textarea"||Y!=="")&&ss(o,Y):typeof Y=="number"&&ss(o,""+Y):C!=="suppressContentEditableWarning"&&C!=="suppressHydrationWarning"&&C!=="autoFocus"&&(i.hasOwnProperty(C)?Y!=null&&C==="onScroll"&&Dt("scroll",o):Y!=null&&R(o,C,Y,F))}switch(p){case"input":De(o),Xt(o,y,!1);break;case"textarea":De(o),bh(o);break;case"option":y.value!=null&&o.setAttribute("value",""+Pe(y.value));break;case"select":o.multiple=!!y.multiple,C=y.value,C!=null?Cr(o,!!y.multiple,C,!1):y.defaultValue!=null&&Cr(o,!!y.multiple,y.defaultValue,!0);break;default:typeof w.onClick=="function"&&(o.onclick=Su)}switch(p){case"button":case"input":case"select":case"textarea":y=!!y.autoFocus;break e;case"img":y=!0;break e;default:y=!1}}y&&(l.flags|=4)}l.ref!==null&&(l.flags|=512,l.flags|=2097152)}return vn(l),null;case 6:if(o&&l.stateNode!=null)L1(o,l,o.memoizedProps,y);else{if(typeof y!="string"&&l.stateNode===null)throw Error(t(166));if(p=Ss(Fr.current),Ss(ni.current),Au(l)){if(y=l.stateNode,p=l.memoizedProps,y[Si]=l,(C=y.nodeValue!==p)&&(o=pn,o!==null))switch(o.tag){case 3:wu(y.nodeValue,p,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&wu(y.nodeValue,p,(o.mode&1)!==0)}C&&(l.flags|=4)}else y=(p.nodeType===9?p:p.ownerDocument).createTextNode(y),y[Si]=l,l.stateNode=y}return vn(l),null;case 13:if(Ot(Nt),y=l.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(Ut&&mn!==null&&l.mode&1&&!(l.flags&128))ti(),Yo(),l.flags|=98560,C=!1;else if(C=Au(l),y!==null&&y.dehydrated!==null){if(o===null){if(!C)throw Error(t(318));if(C=l.memoizedState,C=C!==null?C.dehydrated:null,!C)throw Error(t(317));C[Si]=l}else Yo(),!(l.flags&128)&&(l.memoizedState=null),l.flags|=4;vn(l),C=!1}else kn!==null&&(Oy(kn),kn=null),C=!0;if(!C)return l.flags&65536?l:null}return l.flags&128?(l.lanes=p,l):(y=y!==null,y!==(o!==null&&o.memoizedState!==null)&&y&&(l.child.flags|=8192,l.mode&1&&(o===null||Nt.current&1?Br===0&&(Br=3):Ly())),l.updateQueue!==null&&(l.flags|=4),vn(l),null);case 4:return Mn(),by(o,l),o===null&&Ka(l.stateNode.containerInfo),vn(l),null;case 10:return Iu(l.type._context),vn(l),null;case 17:return en(l.type)&&nl(),vn(l),null;case 19:if(Ot(Nt),C=l.memoizedState,C===null)return vn(l),null;if(y=(l.flags&128)!==0,F=C.rendering,F===null)if(y)sf(C,!1);else{if(Br!==0||o!==null&&o.flags&128)for(o=l.child;o!==null;){if(F=hl(o),F!==null){for(l.flags|=128,sf(C,!1),y=F.updateQueue,y!==null&&(l.updateQueue=y,l.flags|=4),l.subtreeFlags=0,y=p,p=l.child;p!==null;)C=p,o=y,C.flags&=14680066,F=C.alternate,F===null?(C.childLanes=0,C.lanes=o,C.child=null,C.subtreeFlags=0,C.memoizedProps=null,C.memoizedState=null,C.updateQueue=null,C.dependencies=null,C.stateNode=null):(C.childLanes=F.childLanes,C.lanes=F.lanes,C.child=F.child,C.subtreeFlags=0,C.deletions=null,C.memoizedProps=F.memoizedProps,C.memoizedState=F.memoizedState,C.updateQueue=F.updateQueue,C.type=F.type,o=F.dependencies,C.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),p=p.sibling;return Et(Nt,Nt.current&1|2),l.child}o=o.sibling}C.tail!==null&&Jt()>yc&&(l.flags|=128,y=!0,sf(C,!1),l.lanes=4194304)}else{if(!y)if(o=hl(F),o!==null){if(l.flags|=128,y=!0,p=o.updateQueue,p!==null&&(l.updateQueue=p,l.flags|=4),sf(C,!0),C.tail===null&&C.tailMode==="hidden"&&!F.alternate&&!Ut)return vn(l),null}else 2*Jt()-C.renderingStartTime>yc&&p!==1073741824&&(l.flags|=128,y=!0,sf(C,!1),l.lanes=4194304);C.isBackwards?(F.sibling=l.child,l.child=F):(p=C.last,p!==null?p.sibling=F:l.child=F,C.last=F)}return C.tail!==null?(l=C.tail,C.rendering=l,C.tail=l.sibling,C.renderingStartTime=Jt(),l.sibling=null,p=Nt.current,Et(Nt,y?p&1|2:p&1),l):(vn(l),null);case 22:case 23:return Fy(),y=l.memoizedState!==null,o!==null&&o.memoizedState!==null!==y&&(l.flags|=8192),y&&l.mode&1?Ci&1073741824&&(vn(l),l.subtreeFlags&6&&(l.flags|=8192)):vn(l),null;case 24:return null;case 25:return null}throw Error(t(156,l.tag))}function yI(o,l){switch(Eu(l),l.tag){case 1:return en(l.type)&&nl(),o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 3:return Mn(),Ot(Nr),Ot(vr),cl(),o=l.flags,o&65536&&!(o&128)?(l.flags=o&-65537|128,l):null;case 5:return lc(l),null;case 13:if(Ot(Nt),o=l.memoizedState,o!==null&&o.dehydrated!==null){if(l.alternate===null)throw Error(t(340));Yo()}return o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 19:return Ot(Nt),null;case 4:return Mn(),null;case 10:return Iu(l.type._context),null;case 22:case 23:return Fy(),null;case 24:return null;default:return null}}var Wp=!1,_n=!1,vI=typeof WeakSet=="function"?WeakSet:Set,ze=null;function mc(o,l){var p=o.ref;if(p!==null)if(typeof p=="function")try{p(null)}catch(y){fr(o,l,y)}else p.current=null}function Ty(o,l,p){try{p()}catch(y){fr(o,l,y)}}var B1=!1;function _I(o,l){if(Ja=Cn,o=yr(),ar(o)){if("selectionStart"in o)var p={start:o.selectionStart,end:o.selectionEnd};else e:{p=(p=o.ownerDocument)&&p.defaultView||window;var y=p.getSelection&&p.getSelection();if(y&&y.rangeCount!==0){p=y.anchorNode;var w=y.anchorOffset,C=y.focusNode;y=y.focusOffset;try{p.nodeType,C.nodeType}catch{p=null;break e}var F=0,W=-1,Y=-1,he=0,Te=0,Ae=o,Se=null;t:for(;;){for(var Le;Ae!==p||w!==0&&Ae.nodeType!==3||(W=F+w),Ae!==C||y!==0&&Ae.nodeType!==3||(Y=F+y),Ae.nodeType===3&&(F+=Ae.nodeValue.length),(Le=Ae.firstChild)!==null;)Se=Ae,Ae=Le;for(;;){if(Ae===o)break t;if(Se===p&&++he===w&&(W=F),Se===C&&++Te===y&&(Y=F),(Le=Ae.nextSibling)!==null)break;Ae=Se,Se=Ae.parentNode}Ae=Le}p=W===-1||Y===-1?null:{start:W,end:Y}}else p=null}p=p||{start:0,end:0}}else p=null;for(Ld={focusedElem:o,selectionRange:p},Cn=!1,ze=l;ze!==null;)if(l=ze,o=l.child,(l.subtreeFlags&1028)!==0&&o!==null)o.return=l,ze=o;else for(;ze!==null;){l=ze;try{var je=l.alternate;if(l.flags&1024)switch(l.tag){case 0:case 11:case 15:break;case 1:if(je!==null){var Ye=je.memoizedProps,wr=je.memoizedState,ne=l.stateNode,J=ne.getSnapshotBeforeUpdate(l.elementType===l.type?Ye:h(l.type,Ye),wr);ne.__reactInternalSnapshotBeforeUpdate=J}break;case 3:var ae=l.stateNode.containerInfo;ae.nodeType===1?ae.textContent="":ae.nodeType===9&&ae.documentElement&&ae.removeChild(ae.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(Ie){fr(l,l.return,Ie)}if(o=l.sibling,o!==null){o.return=l.return,ze=o;break}ze=l.return}return je=B1,B1=!1,je}function of(o,l,p){var y=l.updateQueue;if(y=y!==null?y.lastEffect:null,y!==null){var w=y=y.next;do{if((w.tag&o)===o){var C=w.destroy;w.destroy=void 0,C!==void 0&&Ty(l,p,C)}w=w.next}while(w!==y)}}function Xp(o,l){if(l=l.updateQueue,l=l!==null?l.lastEffect:null,l!==null){var p=l=l.next;do{if((p.tag&o)===o){var y=p.create;p.destroy=y()}p=p.next}while(p!==l)}}function Ey(o){var l=o.ref;if(l!==null){var p=o.stateNode;switch(o.tag){case 5:o=p;break;default:o=p}typeof l=="function"?l(o):l.current=o}}function U1(o){var l=o.alternate;l!==null&&(o.alternate=null,U1(l)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(l=o.stateNode,l!==null&&(delete l[Si],delete l[bu],delete l[jr],delete l[Fp],delete l[Lp])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function z1(o){return o.tag===5||o.tag===3||o.tag===4}function V1(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||z1(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function Ay(o,l,p){var y=o.tag;if(y===5||y===6)o=o.stateNode,l?p.nodeType===8?p.parentNode.insertBefore(o,l):p.insertBefore(o,l):(p.nodeType===8?(l=p.parentNode,l.insertBefore(o,p)):(l=p,l.appendChild(o)),p=p._reactRootContainer,p!=null||l.onclick!==null||(l.onclick=Su));else if(y!==4&&(o=o.child,o!==null))for(Ay(o,l,p),o=o.sibling;o!==null;)Ay(o,l,p),o=o.sibling}function Cy(o,l,p){var y=o.tag;if(y===5||y===6)o=o.stateNode,l?p.insertBefore(o,l):p.appendChild(o);else if(y!==4&&(o=o.child,o!==null))for(Cy(o,l,p),o=o.sibling;o!==null;)Cy(o,l,p),o=o.sibling}var tn=null,Es=!1;function fl(o,l,p){for(p=p.child;p!==null;)G1(o,l,p),p=p.sibling}function G1(o,l,p){if(yt&&typeof yt.onCommitFiberUnmount=="function")try{yt.onCommitFiberUnmount(vi,p)}catch{}switch(p.tag){case 5:_n||mc(p,l);case 6:var y=tn,w=Es;tn=null,fl(o,l,p),tn=y,Es=w,tn!==null&&(Es?(o=tn,p=p.stateNode,o.nodeType===8?o.parentNode.removeChild(p):o.removeChild(p)):tn.removeChild(p.stateNode));break;case 18:tn!==null&&(Es?(o=tn,p=p.stateNode,o.nodeType===8?rc(o.parentNode,p):o.nodeType===1&&rc(o,p),Bo(o)):rc(tn,p.stateNode));break;case 4:y=tn,w=Es,tn=p.stateNode.containerInfo,Es=!0,fl(o,l,p),tn=y,Es=w;break;case 0:case 11:case 14:case 15:if(!_n&&(y=p.updateQueue,y!==null&&(y=y.lastEffect,y!==null))){w=y=y.next;do{var C=w,F=C.destroy;C=C.tag,F!==void 0&&(C&2||C&4)&&Ty(p,l,F),w=w.next}while(w!==y)}fl(o,l,p);break;case 1:if(!_n&&(mc(p,l),y=p.stateNode,typeof y.componentWillUnmount=="function"))try{y.props=p.memoizedProps,y.state=p.memoizedState,y.componentWillUnmount()}catch(W){fr(p,l,W)}fl(o,l,p);break;case 21:fl(o,l,p);break;case 22:p.mode&1?(_n=(y=_n)||p.memoizedState!==null,fl(o,l,p),_n=y):fl(o,l,p);break;default:fl(o,l,p)}}function j1(o){var l=o.updateQueue;if(l!==null){o.updateQueue=null;var p=o.stateNode;p===null&&(p=o.stateNode=new vI),l.forEach(function(y){var w=PI.bind(null,o,y);p.has(y)||(p.add(y),y.then(w,w))})}}function As(o,l){var p=l.deletions;if(p!==null)for(var y=0;y<p.length;y++){var w=p[y];try{var C=o,F=l,W=F;e:for(;W!==null;){switch(W.tag){case 5:tn=W.stateNode,Es=!1;break e;case 3:tn=W.stateNode.containerInfo,Es=!0;break e;case 4:tn=W.stateNode.containerInfo,Es=!0;break e}W=W.return}if(tn===null)throw Error(t(160));G1(C,F,w),tn=null,Es=!1;var Y=w.alternate;Y!==null&&(Y.return=null),w.return=null}catch(he){fr(w,l,he)}}if(l.subtreeFlags&12854)for(l=l.child;l!==null;)H1(l,o),l=l.sibling}function H1(o,l){var p=o.alternate,y=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(As(l,o),uo(o),y&4){try{of(3,o,o.return),Xp(3,o)}catch(Ye){fr(o,o.return,Ye)}try{of(5,o,o.return)}catch(Ye){fr(o,o.return,Ye)}}break;case 1:As(l,o),uo(o),y&512&&p!==null&&mc(p,p.return);break;case 5:if(As(l,o),uo(o),y&512&&p!==null&&mc(p,p.return),o.flags&32){var w=o.stateNode;try{ss(w,"")}catch(Ye){fr(o,o.return,Ye)}}if(y&4&&(w=o.stateNode,w!=null)){var C=o.memoizedProps,F=p!==null?p.memoizedProps:C,W=o.type,Y=o.updateQueue;if(o.updateQueue=null,Y!==null)try{W==="input"&&C.type==="radio"&&C.name!=null&&Xe(w,C),ue(W,F);var he=ue(W,C);for(F=0;F<Y.length;F+=2){var Te=Y[F],Ae=Y[F+1];Te==="style"?Ca(w,Ae):Te==="dangerouslySetInnerHTML"?Vs(w,Ae):Te==="children"?ss(w,Ae):R(w,Te,Ae,he)}switch(W){case"input":Ft(w,C);break;case"textarea":En(w,C);break;case"select":var Se=w._wrapperState.wasMultiple;w._wrapperState.wasMultiple=!!C.multiple;var Le=C.value;Le!=null?Cr(w,!!C.multiple,Le,!1):Se!==!!C.multiple&&(C.defaultValue!=null?Cr(w,!!C.multiple,C.defaultValue,!0):Cr(w,!!C.multiple,C.multiple?[]:"",!1))}w[bu]=C}catch(Ye){fr(o,o.return,Ye)}}break;case 6:if(As(l,o),uo(o),y&4){if(o.stateNode===null)throw Error(t(162));w=o.stateNode,C=o.memoizedProps;try{w.nodeValue=C}catch(Ye){fr(o,o.return,Ye)}}break;case 3:if(As(l,o),uo(o),y&4&&p!==null&&p.memoizedState.isDehydrated)try{Bo(l.containerInfo)}catch(Ye){fr(o,o.return,Ye)}break;case 4:As(l,o),uo(o);break;case 13:As(l,o),uo(o),w=o.child,w.flags&8192&&(C=w.memoizedState!==null,w.stateNode.isHidden=C,!C||w.alternate!==null&&w.alternate.memoizedState!==null||(Iy=Jt())),y&4&&j1(o);break;case 22:if(Te=p!==null&&p.memoizedState!==null,o.mode&1?(_n=(he=_n)||Te,As(l,o),_n=he):As(l,o),uo(o),y&8192){if(he=o.memoizedState!==null,(o.stateNode.isHidden=he)&&!Te&&o.mode&1)for(ze=o,Te=o.child;Te!==null;){for(Ae=ze=Te;ze!==null;){switch(Se=ze,Le=Se.child,Se.tag){case 0:case 11:case 14:case 15:of(4,Se,Se.return);break;case 1:mc(Se,Se.return);var je=Se.stateNode;if(typeof je.componentWillUnmount=="function"){y=Se,p=Se.return;try{l=y,je.props=l.memoizedProps,je.state=l.memoizedState,je.componentWillUnmount()}catch(Ye){fr(y,p,Ye)}}break;case 5:mc(Se,Se.return);break;case 22:if(Se.memoizedState!==null){X1(Ae);continue}}Le!==null?(Le.return=Se,ze=Le):X1(Ae)}Te=Te.sibling}e:for(Te=null,Ae=o;;){if(Ae.tag===5){if(Te===null){Te=Ae;try{w=Ae.stateNode,he?(C=w.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none"):(W=Ae.stateNode,Y=Ae.memoizedProps.style,F=Y!=null&&Y.hasOwnProperty("display")?Y.display:null,W.style.display=Eh("display",F))}catch(Ye){fr(o,o.return,Ye)}}}else if(Ae.tag===6){if(Te===null)try{Ae.stateNode.nodeValue=he?"":Ae.memoizedProps}catch(Ye){fr(o,o.return,Ye)}}else if((Ae.tag!==22&&Ae.tag!==23||Ae.memoizedState===null||Ae===o)&&Ae.child!==null){Ae.child.return=Ae,Ae=Ae.child;continue}if(Ae===o)break e;for(;Ae.sibling===null;){if(Ae.return===null||Ae.return===o)break e;Te===Ae&&(Te=null),Ae=Ae.return}Te===Ae&&(Te=null),Ae.sibling.return=Ae.return,Ae=Ae.sibling}}break;case 19:As(l,o),uo(o),y&4&&j1(o);break;case 21:break;default:As(l,o),uo(o)}}function uo(o){var l=o.flags;if(l&2){try{e:{for(var p=o.return;p!==null;){if(z1(p)){var y=p;break e}p=p.return}throw Error(t(160))}switch(y.tag){case 5:var w=y.stateNode;y.flags&32&&(ss(w,""),y.flags&=-33);var C=V1(o);Cy(o,C,w);break;case 3:case 4:var F=y.stateNode.containerInfo,W=V1(o);Ay(o,W,F);break;default:throw Error(t(161))}}catch(Y){fr(o,o.return,Y)}o.flags&=-3}l&4096&&(o.flags&=-4097)}function xI(o,l,p){ze=o,$1(o)}function $1(o,l,p){for(var y=(o.mode&1)!==0;ze!==null;){var w=ze,C=w.child;if(w.tag===22&&y){var F=w.memoizedState!==null||Wp;if(!F){var W=w.alternate,Y=W!==null&&W.memoizedState!==null||_n;W=Wp;var he=_n;if(Wp=F,(_n=Y)&&!he)for(ze=w;ze!==null;)F=ze,Y=F.child,F.tag===22&&F.memoizedState!==null?Y1(w):Y!==null?(Y.return=F,ze=Y):Y1(w);for(;C!==null;)ze=C,$1(C),C=C.sibling;ze=w,Wp=W,_n=he}W1(o)}else w.subtreeFlags&8772&&C!==null?(C.return=w,ze=C):W1(o)}}function W1(o){for(;ze!==null;){var l=ze;if(l.flags&8772){var p=l.alternate;try{if(l.flags&8772)switch(l.tag){case 0:case 11:case 15:_n||Xp(5,l);break;case 1:var y=l.stateNode;if(l.flags&4&&!_n)if(p===null)y.componentDidMount();else{var w=l.elementType===l.type?p.memoizedProps:h(l.type,p.memoizedProps);y.componentDidUpdate(w,p.memoizedState,y.__reactInternalSnapshotBeforeUpdate)}var C=l.updateQueue;C!==null&&oo(l,C,y);break;case 3:var F=l.updateQueue;if(F!==null){if(p=null,l.child!==null)switch(l.child.tag){case 5:p=l.child.stateNode;break;case 1:p=l.child.stateNode}oo(l,F,p)}break;case 5:var W=l.stateNode;if(p===null&&l.flags&4){p=W;var Y=l.memoizedProps;switch(l.type){case"button":case"input":case"select":case"textarea":Y.autoFocus&&p.focus();break;case"img":Y.src&&(p.src=Y.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(l.memoizedState===null){var he=l.alternate;if(he!==null){var Te=he.memoizedState;if(Te!==null){var Ae=Te.dehydrated;Ae!==null&&Bo(Ae)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}_n||l.flags&512&&Ey(l)}catch(Se){fr(l,l.return,Se)}}if(l===o){ze=null;break}if(p=l.sibling,p!==null){p.return=l.return,ze=p;break}ze=l.return}}function X1(o){for(;ze!==null;){var l=ze;if(l===o){ze=null;break}var p=l.sibling;if(p!==null){p.return=l.return,ze=p;break}ze=l.return}}function Y1(o){for(;ze!==null;){var l=ze;try{switch(l.tag){case 0:case 11:case 15:var p=l.return;try{Xp(4,l)}catch(Y){fr(l,p,Y)}break;case 1:var y=l.stateNode;if(typeof y.componentDidMount=="function"){var w=l.return;try{y.componentDidMount()}catch(Y){fr(l,w,Y)}}var C=l.return;try{Ey(l)}catch(Y){fr(l,C,Y)}break;case 5:var F=l.return;try{Ey(l)}catch(Y){fr(l,F,Y)}}}catch(Y){fr(l,l.return,Y)}if(l===o){ze=null;break}var W=l.sibling;if(W!==null){W.return=l.return,ze=W;break}ze=l.return}}var wI=Math.ceil,Yp=L.ReactCurrentDispatcher,Py=L.ReactCurrentOwner,Yi=L.ReactCurrentBatchConfig,bt=0,Wr=null,Rr=null,rn=0,Ci=0,gc=gs(0),Br=0,af=null,Uu=0,qp=0,Ry=0,lf=null,si=null,Iy=0,yc=1/0,ia=null,Kp=!1,ky=null,pl=null,Qp=!1,ml=null,Zp=0,uf=0,My=null,Jp=-1,em=0;function Nn(){return bt&6?Jt():Jp!==-1?Jp:Jp=Jt()}function gl(o){return o.mode&1?bt&2&&rn!==0?rn&-rn:my.transition!==null?(em===0&&(em=Gn()),em):(o=vt,o!==0||(o=window.event,o=o===void 0?16:Pn(o.type)),o):1}function Cs(o,l,p,y){if(50<uf)throw uf=0,My=null,Error(t(185));Jl(o,p,y),(!(bt&2)||o!==Wr)&&(o===Wr&&(!(bt&2)&&(qp|=p),Br===4&&yl(o,rn)),oi(o,y),p===1&&bt===0&&!(l.mode&1)&&(yc=Jt()+500,qn&&Qn()))}function oi(o,l){var p=o.callbackNode;Mh(o,l);var y=Zl(o,o===Wr?rn:0);if(y===0)p!==null&&ql(p),o.callbackNode=null,o.callbackPriority=0;else if(l=y&-y,o.callbackPriority!==l){if(p!=null&&ql(p),l===1)o.tag===0?Bp(K1.bind(null,o)):Hd(K1.bind(null,o)),zd(function(){!(bt&6)&&Qn()}),p=null;else{switch(tu(y)){case 1:p=Ql;break;case 4:p=Ih;break;case 16:p=kh;break;case 536870912:p=No;break;default:p=kh}p=iw(p,q1.bind(null,o))}o.callbackPriority=l,o.callbackNode=p}}function q1(o,l){if(Jp=-1,em=0,bt&6)throw Error(t(327));var p=o.callbackNode;if(vc()&&o.callbackNode!==p)return null;var y=Zl(o,o===Wr?rn:0);if(y===0)return null;if(y&30||y&o.expiredLanes||l)l=tm(o,y);else{l=y;var w=bt;bt|=2;var C=Z1();(Wr!==o||rn!==l)&&(ia=null,yc=Jt()+500,Vu(o,l));do try{TI();break}catch(W){Q1(o,W)}while(!0);Ru(),Yp.current=C,bt=w,Rr!==null?l=0:(Wr=null,rn=0,l=Br)}if(l!==0){if(l===2&&(w=Dh(o),w!==0&&(y=w,l=Dy(o,w))),l===1)throw p=af,Vu(o,0),yl(o,y),oi(o,Jt()),p;if(l===6)yl(o,y);else{if(w=o.current.alternate,!(y&30)&&!SI(w)&&(l=tm(o,y),l===2&&(C=Dh(o),C!==0&&(y=C,l=Dy(o,C))),l===1))throw p=af,Vu(o,0),yl(o,y),oi(o,Jt()),p;switch(o.finishedWork=w,o.finishedLanes=y,l){case 0:case 1:throw Error(t(345));case 2:Gu(o,si,ia);break;case 3:if(yl(o,y),(y&130023424)===y&&(l=Iy+500-Jt(),10<l)){if(Zl(o,0)!==0)break;if(w=o.suspendedLanes,(w&y)!==y){Nn(),o.pingedLanes|=o.suspendedLanes&w;break}o.timeoutHandle=Ud(Gu.bind(null,o,si,ia),l);break}Gu(o,si,ia);break;case 4:if(yl(o,y),(y&4194240)===y)break;for(l=o.eventTimes,w=-1;0<y;){var F=31-Pr(y);C=1<<F,F=l[F],F>w&&(w=F),y&=~C}if(y=w,y=Jt()-y,y=(120>y?120:480>y?480:1080>y?1080:1920>y?1920:3e3>y?3e3:4320>y?4320:1960*wI(y/1960))-y,10<y){o.timeoutHandle=Ud(Gu.bind(null,o,si,ia),y);break}Gu(o,si,ia);break;case 5:Gu(o,si,ia);break;default:throw Error(t(329))}}}return oi(o,Jt()),o.callbackNode===p?q1.bind(null,o):null}function Dy(o,l){var p=lf;return o.current.memoizedState.isDehydrated&&(Vu(o,l).flags|=256),o=tm(o,l),o!==2&&(l=si,si=p,l!==null&&Oy(l)),o}function Oy(o){si===null?si=o:si.push.apply(si,o)}function SI(o){for(var l=o;;){if(l.flags&16384){var p=l.updateQueue;if(p!==null&&(p=p.stores,p!==null))for(var y=0;y<p.length;y++){var w=p[y],C=w.getSnapshot;w=w.value;try{if(!In(C(),w))return!1}catch{return!1}}}if(p=l.child,l.subtreeFlags&16384&&p!==null)p.return=l,l=p;else{if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function yl(o,l){for(l&=~Ry,l&=~qp,o.suspendedLanes|=l,o.pingedLanes&=~l,o=o.expirationTimes;0<l;){var p=31-Pr(l),y=1<<p;o[p]=-1,l&=~y}}function K1(o){if(bt&6)throw Error(t(327));vc();var l=Zl(o,0);if(!(l&1))return oi(o,Jt()),null;var p=tm(o,l);if(o.tag!==0&&p===2){var y=Dh(o);y!==0&&(l=y,p=Dy(o,y))}if(p===1)throw p=af,Vu(o,0),yl(o,l),oi(o,Jt()),p;if(p===6)throw Error(t(345));return o.finishedWork=o.current.alternate,o.finishedLanes=l,Gu(o,si,ia),oi(o,Jt()),null}function Ny(o,l){var p=bt;bt|=1;try{return o(l)}finally{bt=p,bt===0&&(yc=Jt()+500,qn&&Qn())}}function zu(o){ml!==null&&ml.tag===0&&!(bt&6)&&vc();var l=bt;bt|=1;var p=Yi.transition,y=vt;try{if(Yi.transition=null,vt=1,o)return o()}finally{vt=y,Yi.transition=p,bt=l,!(bt&6)&&Qn()}}function Fy(){Ci=gc.current,Ot(gc)}function Vu(o,l){o.finishedWork=null,o.finishedLanes=0;var p=o.timeoutHandle;if(p!==-1&&(o.timeoutHandle=-1,el(p)),Rr!==null)for(p=Rr.return;p!==null;){var y=p;switch(Eu(y),y.tag){case 1:y=y.type.childContextTypes,y!=null&&nl();break;case 3:Mn(),Ot(Nr),Ot(vr),cl();break;case 5:lc(y);break;case 4:Mn();break;case 13:Ot(Nt);break;case 19:Ot(Nt);break;case 10:Iu(y.type._context);break;case 22:case 23:Fy()}p=p.return}if(Wr=o,Rr=o=vl(o.current,null),rn=Ci=l,Br=0,af=null,Ry=qp=Uu=0,si=lf=null,Jo!==null){for(l=0;l<Jo.length;l++)if(p=Jo[l],y=p.interleaved,y!==null){p.interleaved=null;var w=y.next,C=p.pending;if(C!==null){var F=C.next;C.next=w,y.next=F}p.pending=y}Jo=null}return o}function Q1(o,l){do{var p=Rr;try{if(Ru(),bi.current=Bu,_r){for(var y=Vt.memoizedState;y!==null;){var w=y.queue;w!==null&&(w.pending=null),y=y.next}_r=!1}if(Ti=0,tr=Kt=Vt=null,ii=!1,$r=0,Py.current=null,p===null||p.return===null){Br=1,af=l,Rr=null;break}e:{var C=o,F=p.return,W=p,Y=l;if(l=rn,W.flags|=32768,Y!==null&&typeof Y=="object"&&typeof Y.then=="function"){var he=Y,Te=W,Ae=Te.tag;if(!(Te.mode&1)&&(Ae===0||Ae===11||Ae===15)){var Se=Te.alternate;Se?(Te.updateQueue=Se.updateQueue,Te.memoizedState=Se.memoizedState,Te.lanes=Se.lanes):(Te.updateQueue=null,Te.memoizedState=null)}var Le=Ge(F);if(Le!==null){Le.flags&=-257,ut(Le,F,W,C,l),Le.mode&1&&Ce(C,he,l),l=Le,Y=he;var je=l.updateQueue;if(je===null){var Ye=new Set;Ye.add(Y),l.updateQueue=Ye}else je.add(Y);break e}else{if(!(l&1)){Ce(C,he,l),Ly();break e}Y=Error(t(426))}}else if(Ut&&W.mode&1){var wr=Ge(F);if(wr!==null){!(wr.flags&65536)&&(wr.flags|=256),ut(wr,F,W,C,l),ri(K(Y,W));break e}}C=Y=K(Y,W),Br!==4&&(Br=2),lf===null?lf=[C]:lf.push(C),C=F;do{switch(C.tag){case 3:C.flags|=65536,l&=-l,C.lanes|=l;var ne=Me(C,Y,l);dr(C,ne);break e;case 1:W=Y;var J=C.type,ae=C.stateNode;if(!(C.flags&128)&&(typeof J.getDerivedStateFromError=="function"||ae!==null&&typeof ae.componentDidCatch=="function"&&(pl===null||!pl.has(ae)))){C.flags|=65536,l&=-l,C.lanes|=l;var Ie=ge(C,W,l);dr(C,Ie);break e}}C=C.return}while(C!==null)}ew(p)}catch(Ke){l=Ke,Rr===p&&p!==null&&(Rr=p=p.return);continue}break}while(!0)}function Z1(){var o=Yp.current;return Yp.current=Bu,o===null?Bu:o}function Ly(){(Br===0||Br===3||Br===2)&&(Br=4),Wr===null||!(Uu&268435455)&&!(qp&268435455)||yl(Wr,rn)}function tm(o,l){var p=bt;bt|=2;var y=Z1();(Wr!==o||rn!==l)&&(ia=null,Vu(o,l));do try{bI();break}catch(w){Q1(o,w)}while(!0);if(Ru(),bt=p,Yp.current=y,Rr!==null)throw Error(t(261));return Wr=null,rn=0,Br}function bI(){for(;Rr!==null;)J1(Rr)}function TI(){for(;Rr!==null&&!ay();)J1(Rr)}function J1(o){var l=nw(o.alternate,o,Ci);o.memoizedProps=o.pendingProps,l===null?ew(o):Rr=l,Py.current=null}function ew(o){var l=o;do{var p=l.alternate;if(o=l.return,l.flags&32768){if(p=yI(p,l),p!==null){p.flags&=32767,Rr=p;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{Br=6,Rr=null;return}}else if(p=gI(p,l,Ci),p!==null){Rr=p;return}if(l=l.sibling,l!==null){Rr=l;return}Rr=l=o}while(l!==null);Br===0&&(Br=5)}function Gu(o,l,p){var y=vt,w=Yi.transition;try{Yi.transition=null,vt=1,EI(o,l,p,y)}finally{Yi.transition=w,vt=y}return null}function EI(o,l,p,y){do vc();while(ml!==null);if(bt&6)throw Error(t(327));p=o.finishedWork;var w=o.finishedLanes;if(p===null)return null;if(o.finishedWork=null,o.finishedLanes=0,p===o.current)throw Error(t(177));o.callbackNode=null,o.callbackPriority=0;var C=p.lanes|p.childLanes;if(pd(o,C),o===Wr&&(Rr=Wr=null,rn=0),!(p.subtreeFlags&2064)&&!(p.flags&2064)||Qp||(Qp=!0,iw(kh,function(){return vc(),null})),C=(p.flags&15990)!==0,p.subtreeFlags&15990||C){C=Yi.transition,Yi.transition=null;var F=vt;vt=1;var W=bt;bt|=4,Py.current=null,_I(o,p),H1(p,o),$h(Ld),Cn=!!Ja,Ld=Ja=null,o.current=p,xI(p),ly(),bt=W,vt=F,Yi.transition=C}else o.current=p;if(Qp&&(Qp=!1,ml=o,Zp=w),C=o.pendingLanes,C===0&&(pl=null),kt(p.stateNode),oi(o,Jt()),l!==null)for(y=o.onRecoverableError,p=0;p<l.length;p++)w=l[p],y(w.value,{componentStack:w.stack,digest:w.digest});if(Kp)throw Kp=!1,o=ky,ky=null,o;return Zp&1&&o.tag!==0&&vc(),C=o.pendingLanes,C&1?o===My?uf++:(uf=0,My=o):uf=0,Qn(),null}function vc(){if(ml!==null){var o=tu(Zp),l=Yi.transition,p=vt;try{if(Yi.transition=null,vt=16>o?16:o,ml===null)var y=!1;else{if(o=ml,ml=null,Zp=0,bt&6)throw Error(t(331));var w=bt;for(bt|=4,ze=o.current;ze!==null;){var C=ze,F=C.child;if(ze.flags&16){var W=C.deletions;if(W!==null){for(var Y=0;Y<W.length;Y++){var he=W[Y];for(ze=he;ze!==null;){var Te=ze;switch(Te.tag){case 0:case 11:case 15:of(8,Te,C)}var Ae=Te.child;if(Ae!==null)Ae.return=Te,ze=Ae;else for(;ze!==null;){Te=ze;var Se=Te.sibling,Le=Te.return;if(U1(Te),Te===he){ze=null;break}if(Se!==null){Se.return=Le,ze=Se;break}ze=Le}}}var je=C.alternate;if(je!==null){var Ye=je.child;if(Ye!==null){je.child=null;do{var wr=Ye.sibling;Ye.sibling=null,Ye=wr}while(Ye!==null)}}ze=C}}if(C.subtreeFlags&2064&&F!==null)F.return=C,ze=F;else e:for(;ze!==null;){if(C=ze,C.flags&2048)switch(C.tag){case 0:case 11:case 15:of(9,C,C.return)}var ne=C.sibling;if(ne!==null){ne.return=C.return,ze=ne;break e}ze=C.return}}var J=o.current;for(ze=J;ze!==null;){F=ze;var ae=F.child;if(F.subtreeFlags&2064&&ae!==null)ae.return=F,ze=ae;else e:for(F=J;ze!==null;){if(W=ze,W.flags&2048)try{switch(W.tag){case 0:case 11:case 15:Xp(9,W)}}catch(Ke){fr(W,W.return,Ke)}if(W===F){ze=null;break e}var Ie=W.sibling;if(Ie!==null){Ie.return=W.return,ze=Ie;break e}ze=W.return}}if(bt=w,Qn(),yt&&typeof yt.onPostCommitFiberRoot=="function")try{yt.onPostCommitFiberRoot(vi,o)}catch{}y=!0}return y}finally{vt=p,Yi.transition=l}}return!1}function tw(o,l,p){l=K(p,l),l=Me(o,l,1),o=cr(o,l,1),l=Nn(),o!==null&&(Jl(o,1,l),oi(o,l))}function fr(o,l,p){if(o.tag===3)tw(o,o,p);else for(;l!==null;){if(l.tag===3){tw(l,o,p);break}else if(l.tag===1){var y=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof y.componentDidCatch=="function"&&(pl===null||!pl.has(y))){o=K(p,o),o=ge(l,o,1),l=cr(l,o,1),o=Nn(),l!==null&&(Jl(l,1,o),oi(l,o));break}}l=l.return}}function AI(o,l,p){var y=o.pingCache;y!==null&&y.delete(l),l=Nn(),o.pingedLanes|=o.suspendedLanes&p,Wr===o&&(rn&p)===p&&(Br===4||Br===3&&(rn&130023424)===rn&&500>Jt()-Iy?Vu(o,0):Ry|=p),oi(o,l)}function rw(o,l){l===0&&(o.mode&1?(l=Gr,Gr<<=1,!(Gr&130023424)&&(Gr=4194304)):l=1);var p=Nn();o=Pt(o,l),o!==null&&(Jl(o,l,p),oi(o,p))}function CI(o){var l=o.memoizedState,p=0;l!==null&&(p=l.retryLane),rw(o,p)}function PI(o,l){var p=0;switch(o.tag){case 13:var y=o.stateNode,w=o.memoizedState;w!==null&&(p=w.retryLane);break;case 19:y=o.stateNode;break;default:throw Error(t(314))}y!==null&&y.delete(l),rw(o,p)}var nw;nw=function(o,l,p){if(o!==null)if(o.memoizedProps!==l.pendingProps||Nr.current)ee=!0;else{if(!(o.lanes&p)&&!(l.flags&128))return ee=!1,mI(o,l,p);ee=!!(o.flags&131072)}else ee=!1,Ut&&l.flags&1048576&&ol(l,Xo,l.index);switch(l.lanes=0,l.tag){case 2:var y=l.type;$p(o,l),o=l.pendingProps;var w=no(l,vr.current);Zo(l,p),w=Ou(null,l,y,o,w,p);var C=Wi();return l.flags|=1,typeof w=="object"&&w!==null&&typeof w.render=="function"&&w.$$typeof===void 0?(l.tag=1,l.memoizedState=null,l.updateQueue=null,en(y)?(C=!0,il(l)):C=!1,l.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,hr(l),w.updater=_,l.stateNode=w,w._reactInternals=l,V(l,y,o,p),l=Xi(null,l,y,!0,C,p)):(l.tag=0,Ut&&C&&al(l),ce(null,l,w,p),l=l.child),l;case 16:y=l.elementType;e:{switch($p(o,l),o=l.pendingProps,w=y._init,y=w(y._payload),l.type=y,w=l.tag=II(y),o=h(y,o),w){case 0:l=xr(null,l,y,o,p);break e;case 1:l=St(null,l,y,o,p);break e;case 11:l=Ee(null,l,y,o,p);break e;case 14:l=Ze(null,l,y,h(y.type,o),p);break e}throw Error(t(306,y,""))}return l;case 0:return y=l.type,w=l.pendingProps,w=l.elementType===y?w:h(y,w),xr(o,l,y,w,p);case 1:return y=l.type,w=l.pendingProps,w=l.elementType===y?w:h(y,w),St(o,l,y,w,p);case 3:e:{if(jp(l),o===null)throw Error(t(387));y=l.pendingProps,C=l.memoizedState,w=C.element,er(o,l),so(l,y,null,p);var F=l.memoizedState;if(y=F.element,C.isDehydrated)if(C={element:y,isDehydrated:!1,cache:F.cache,pendingSuspenseBoundaries:F.pendingSuspenseBoundaries,transitions:F.transitions},l.updateQueue.baseState=C,l.memoizedState=C,l.flags&256){w=K(Error(t(423)),l),l=k1(o,l,y,p,w);break e}else if(y!==w){w=K(Error(t(424)),l),l=k1(o,l,y,p,w);break e}else for(mn=ms(l.stateNode.containerInfo.firstChild),pn=l,Ut=!0,kn=null,p=Pu(l,null,y,p),l.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling;else{if(Yo(),y===w){l=na(o,l,p);break e}ce(o,l,y,p)}l=l.child}return l;case 5:return ea(l),o===null&&ei(l),y=l.type,w=l.pendingProps,C=o!==null?o.memoizedProps:null,F=w.children,Bd(y,w)?F=null:C!==null&&Bd(y,C)&&(l.flags|=32),_t(o,l),ce(o,l,F,p),l.child;case 6:return o===null&&ei(l),null;case 13:return M1(o,l,p);case 4:return Mu(l,l.stateNode.containerInfo),y=l.pendingProps,o===null?l.child=vs(l,null,y,p):ce(o,l,y,p),l.child;case 11:return y=l.type,w=l.pendingProps,w=l.elementType===y?w:h(y,w),Ee(o,l,y,w,p);case 7:return ce(o,l,l.pendingProps,p),l.child;case 8:return ce(o,l,l.pendingProps.children,p),l.child;case 12:return ce(o,l,l.pendingProps.children,p),l.child;case 10:e:{if(y=l.type._context,w=l.pendingProps,C=l.memoizedProps,F=w.value,Et(qo,y._currentValue),y._currentValue=F,C!==null)if(In(C.value,F)){if(C.children===w.children&&!Nr.current){l=na(o,l,p);break e}}else for(C=l.child,C!==null&&(C.return=l);C!==null;){var W=C.dependencies;if(W!==null){F=C.child;for(var Y=W.firstContext;Y!==null;){if(Y.context===y){if(C.tag===1){Y=zt(-1,p&-p),Y.tag=2;var he=C.updateQueue;if(he!==null){he=he.shared;var Te=he.pending;Te===null?Y.next=Y:(Y.next=Te.next,Te.next=Y),he.pending=Y}}C.lanes|=p,Y=C.alternate,Y!==null&&(Y.lanes|=p),ku(C.return,p,l),W.lanes|=p;break}Y=Y.next}}else if(C.tag===10)F=C.type===l.type?null:C.child;else if(C.tag===18){if(F=C.return,F===null)throw Error(t(341));F.lanes|=p,W=F.alternate,W!==null&&(W.lanes|=p),ku(F,p,l),F=C.sibling}else F=C.child;if(F!==null)F.return=C;else for(F=C;F!==null;){if(F===l){F=null;break}if(C=F.sibling,C!==null){C.return=F.return,F=C;break}F=F.return}C=F}ce(o,l,w.children,p),l=l.child}return l;case 9:return w=l.type,y=l.pendingProps.children,Zo(l,p),w=gn(w),y=y(w),l.flags|=1,ce(o,l,y,p),l.child;case 14:return y=l.type,w=h(y,l.pendingProps),w=h(y.type,w),Ze(o,l,y,w,p);case 15:return wt(o,l,l.type,l.pendingProps,p);case 17:return y=l.type,w=l.pendingProps,w=l.elementType===y?w:h(y,w),$p(o,l),l.tag=1,en(y)?(o=!0,il(l)):o=!1,Zo(l,p),A(l,y,w),V(l,y,w,p),Xi(null,l,y,!0,o,p);case 19:return O1(o,l,p);case 22:return $e(o,l,p)}throw Error(t(156,l.tag))};function iw(o,l){return Rh(o,l)}function RI(o,l,p,y){this.tag=o,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=y,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qi(o,l,p,y){return new RI(o,l,p,y)}function By(o){return o=o.prototype,!(!o||!o.isReactComponent)}function II(o){if(typeof o=="function")return By(o)?1:0;if(o!=null){if(o=o.$$typeof,o===q)return 11;if(o===xe)return 14}return 2}function vl(o,l){var p=o.alternate;return p===null?(p=qi(o.tag,l,o.key,o.mode),p.elementType=o.elementType,p.type=o.type,p.stateNode=o.stateNode,p.alternate=o,o.alternate=p):(p.pendingProps=l,p.type=o.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=o.flags&14680064,p.childLanes=o.childLanes,p.lanes=o.lanes,p.child=o.child,p.memoizedProps=o.memoizedProps,p.memoizedState=o.memoizedState,p.updateQueue=o.updateQueue,l=o.dependencies,p.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},p.sibling=o.sibling,p.index=o.index,p.ref=o.ref,p}function rm(o,l,p,y,w,C){var F=2;if(y=o,typeof o=="function")By(o)&&(F=1);else if(typeof o=="string")F=5;else e:switch(o){case N:return ju(p.children,w,C,l);case G:F=8,w|=8;break;case X:return o=qi(12,p,l,w|2),o.elementType=X,o.lanes=C,o;case Z:return o=qi(13,p,l,w),o.elementType=Z,o.lanes=C,o;case le:return o=qi(19,p,l,w),o.elementType=le,o.lanes=C,o;case z:return nm(p,w,C,l);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case re:F=10;break e;case me:F=9;break e;case q:F=11;break e;case xe:F=14;break e;case U:F=16,y=null;break e}throw Error(t(130,o==null?o:typeof o,""))}return l=qi(F,p,l,w),l.elementType=o,l.type=y,l.lanes=C,l}function ju(o,l,p,y){return o=qi(7,o,y,l),o.lanes=p,o}function nm(o,l,p,y){return o=qi(22,o,y,l),o.elementType=z,o.lanes=p,o.stateNode={isHidden:!1},o}function Uy(o,l,p){return o=qi(6,o,null,l),o.lanes=p,o}function zy(o,l,p){return l=qi(4,o.children!==null?o.children:[],o.key,l),l.lanes=p,l.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},l}function kI(o,l,p,y,w){this.tag=l,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=fd(0),this.expirationTimes=fd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fd(0),this.identifierPrefix=y,this.onRecoverableError=w,this.mutableSourceEagerHydrationData=null}function Vy(o,l,p,y,w,C,F,W,Y){return o=new kI(o,l,p,W,Y),l===1?(l=1,C===!0&&(l|=8)):l=0,C=qi(3,null,null,l),o.current=C,C.stateNode=o,C.memoizedState={element:y,isDehydrated:p,cache:null,transitions:null,pendingSuspenseBoundaries:null},hr(C),o}function MI(o,l,p){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:H,key:y==null?null:""+y,children:o,containerInfo:l,implementation:p}}function sw(o){if(!o)return Xn;o=o._reactInternals;e:{if(yi(o)!==o||o.tag!==1)throw Error(t(170));var l=o;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(en(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(l!==null);throw Error(t(171))}if(o.tag===1){var p=o.type;if(en(p))return Gd(o,p,l)}return l}function ow(o,l,p,y,w,C,F,W,Y){return o=Vy(p,y,!0,o,w,C,F,W,Y),o.context=sw(null),p=o.current,y=Nn(),w=gl(p),C=zt(y,w),C.callback=l??null,cr(p,C,w),o.current.lanes=w,Jl(o,w,y),oi(o,y),o}function im(o,l,p,y){var w=l.current,C=Nn(),F=gl(w);return p=sw(p),l.context===null?l.context=p:l.pendingContext=p,l=zt(C,F),l.payload={element:o},y=y===void 0?null:y,y!==null&&(l.callback=y),o=cr(w,l,F),o!==null&&(Cs(o,w,F,C),xs(o,w,F)),F}function sm(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return o.child.stateNode;default:return o.child.stateNode}}function aw(o,l){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var p=o.retryLane;o.retryLane=p!==0&&p<l?p:l}}function Gy(o,l){aw(o,l),(o=o.alternate)&&aw(o,l)}function DI(){return null}var lw=typeof reportError=="function"?reportError:function(o){console.error(o)};function jy(o){this._internalRoot=o}om.prototype.render=jy.prototype.render=function(o){var l=this._internalRoot;if(l===null)throw Error(t(409));im(o,l,null,null)},om.prototype.unmount=jy.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var l=o.containerInfo;zu(function(){im(null,o,null,null)}),l[qt]=null}};function om(o){this._internalRoot=o}om.prototype.unstable_scheduleHydration=function(o){if(o){var l=Oh();o={blockedOn:null,target:o,priority:l};for(var p=0;p<Lt.length&&l!==0&&l<Lt[p].priority;p++);Lt.splice(p,0,o),p===0&&ou(o)}};function Hy(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function am(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function uw(){}function OI(o,l,p,y,w){if(w){if(typeof y=="function"){var C=y;y=function(){var he=sm(F);C.call(he)}}var F=ow(l,y,o,0,null,!1,!1,"",uw);return o._reactRootContainer=F,o[qt]=F.current,Ka(o.nodeType===8?o.parentNode:o),zu(),F}for(;w=o.lastChild;)o.removeChild(w);if(typeof y=="function"){var W=y;y=function(){var he=sm(Y);W.call(he)}}var Y=Vy(o,0,!1,null,null,!1,!1,"",uw);return o._reactRootContainer=Y,o[qt]=Y.current,Ka(o.nodeType===8?o.parentNode:o),zu(function(){im(l,Y,p,y)}),Y}function lm(o,l,p,y,w){var C=p._reactRootContainer;if(C){var F=C;if(typeof w=="function"){var W=w;w=function(){var Y=sm(F);W.call(Y)}}im(l,F,o,w)}else F=OI(p,l,o,w,y);return sm(F)}Ep=function(o){switch(o.tag){case 3:var l=o.stateNode;if(l.current.memoizedState.isDehydrated){var p=Lo(l.pendingLanes);p!==0&&(eu(l,p|1),oi(l,Jt()),!(bt&6)&&(yc=Jt()+500,Qn()))}break;case 13:zu(function(){var y=Pt(o,1);if(y!==null){var w=Nn();Cs(y,o,1,w)}}),Gy(o,1)}},ru=function(o){if(o.tag===13){var l=Pt(o,134217728);if(l!==null){var p=Nn();Cs(l,o,134217728,p)}Gy(o,134217728)}},md=function(o){if(o.tag===13){var l=gl(o),p=Pt(o,l);if(p!==null){var y=Nn();Cs(p,o,l,y)}Gy(o,l)}},Oh=function(){return vt},Da=function(o,l){var p=vt;try{return vt=o,l()}finally{vt=p}},Ct=function(o,l,p){switch(l){case"input":if(Ft(o,p),l=p.name,p.type==="radio"&&l!=null){for(p=o;p.parentNode;)p=p.parentNode;for(p=p.querySelectorAll("input[name="+JSON.stringify(""+l)+'][type="radio"]'),l=0;l<p.length;l++){var y=p[l];if(y!==o&&y.form===o.form){var w=rl(y);if(!w)throw Error(t(90));Ve(y),Ft(y,w)}}}break;case"textarea":En(o,p);break;case"select":l=p.value,l!=null&&Cr(o,!!p.multiple,l,!1)}},Ra=Ny,mi=zu;var NI={usingClientEntryPoint:!1,Events:[tl,Wo,rl,Dr,zn,Ny]},hf={findFiberByHostInstance:to,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},FI={bundleType:hf.bundleType,version:hf.version,rendererPackageName:hf.rendererPackageName,rendererConfig:hf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:L.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=as(o),o===null?null:o.stateNode},findFiberByHostInstance:hf.findFiberByHostInstance||DI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var um=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!um.isDisabled&&um.supportsFiber)try{vi=um.inject(FI),yt=um}catch{}}return ai.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=NI,ai.createPortal=function(o,l){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Hy(l))throw Error(t(200));return MI(o,l,null,p)},ai.createRoot=function(o,l){if(!Hy(o))throw Error(t(299));var p=!1,y="",w=lw;return l!=null&&(l.unstable_strictMode===!0&&(p=!0),l.identifierPrefix!==void 0&&(y=l.identifierPrefix),l.onRecoverableError!==void 0&&(w=l.onRecoverableError)),l=Vy(o,1,!1,null,null,p,!1,y,w),o[qt]=l.current,Ka(o.nodeType===8?o.parentNode:o),new jy(l)},ai.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var l=o._reactInternals;if(l===void 0)throw typeof o.render=="function"?Error(t(188)):(o=Object.keys(o).join(","),Error(t(268,o)));return o=as(l),o=o===null?null:o.stateNode,o},ai.flushSync=function(o){return zu(o)},ai.hydrate=function(o,l,p){if(!am(l))throw Error(t(200));return lm(null,o,l,!0,p)},ai.hydrateRoot=function(o,l,p){if(!Hy(o))throw Error(t(405));var y=p!=null&&p.hydratedSources||null,w=!1,C="",F=lw;if(p!=null&&(p.unstable_strictMode===!0&&(w=!0),p.identifierPrefix!==void 0&&(C=p.identifierPrefix),p.onRecoverableError!==void 0&&(F=p.onRecoverableError)),l=ow(l,null,o,1,p??null,w,!1,C,F),o[qt]=l.current,Ka(o),y)for(o=0;o<y.length;o++)p=y[o],w=p._getVersion,w=w(p._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[p,w]:l.mutableSourceEagerHydrationData.push(p,w);return new om(l)},ai.render=function(o,l,p){if(!am(l))throw Error(t(200));return lm(null,o,l,!1,p)},ai.unmountComponentAtNode=function(o){if(!am(o))throw Error(t(40));return o._reactRootContainer?(zu(function(){lm(null,null,o,!1,function(){o._reactRootContainer=null,o[qt]=null})}),!0):!1},ai.unstable_batchedUpdates=Ny,ai.unstable_renderSubtreeIntoContainer=function(o,l,p,y){if(!am(p))throw Error(t(200));if(o==null||o._reactInternals===void 0)throw Error(t(38));return lm(o,l,p,!1,y)},ai.version="18.3.1-next-f1338f8080-20240426",ai}var yw;function XI(){if(yw)return Yy.exports;yw=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Yy.exports=WI(),Yy.exports}var vw;function YI(){if(vw)return hm;vw=1;var r=XI();return hm.createRoot=r.createRoot,hm.hydrateRoot=r.hydrateRoot,hm}var qI=YI(),te=gx();const ns=Lg(te);var df={},_w;function KI(){if(_w)return df;_w=1,Object.defineProperty(df,"__esModule",{value:!0}),df.parse=a,df.serialize=f;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,n=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,s=(()=>{const v=function(){};return v.prototype=Object.create(null),v})();function a(v,x){const S=new s,b=v.length;if(b<2)return S;const E=(x==null?void 0:x.decode)||m;let P=0;do{const k=v.indexOf("=",P);if(k===-1)break;const R=v.indexOf(";",P),L=R===-1?b:R;if(k>L){P=v.lastIndexOf(";",k-1)+1;continue}const D=u(v,P,k),H=c(v,k,D),N=v.slice(D,H);if(S[N]===void 0){let G=u(v,k+1,L),X=c(v,L,G);const re=E(v.slice(G,X));S[N]=re}P=L+1}while(P<b);return S}function u(v,x,S){do{const b=v.charCodeAt(x);if(b!==32&&b!==9)return x}while(++x<S);return S}function c(v,x,S){for(;x>S;){const b=v.charCodeAt(--x);if(b!==32&&b!==9)return x+1}return S}function f(v,x,S){const b=(S==null?void 0:S.encode)||encodeURIComponent;if(!r.test(v))throw new TypeError(`argument name is invalid: ${v}`);const E=b(x);if(!e.test(E))throw new TypeError(`argument val is invalid: ${x}`);let P=v+"="+E;if(!S)return P;if(S.maxAge!==void 0){if(!Number.isInteger(S.maxAge))throw new TypeError(`option maxAge is invalid: ${S.maxAge}`);P+="; Max-Age="+S.maxAge}if(S.domain){if(!t.test(S.domain))throw new TypeError(`option domain is invalid: ${S.domain}`);P+="; Domain="+S.domain}if(S.path){if(!n.test(S.path))throw new TypeError(`option path is invalid: ${S.path}`);P+="; Path="+S.path}if(S.expires){if(!g(S.expires)||!Number.isFinite(S.expires.valueOf()))throw new TypeError(`option expires is invalid: ${S.expires}`);P+="; Expires="+S.expires.toUTCString()}if(S.httpOnly&&(P+="; HttpOnly"),S.secure&&(P+="; Secure"),S.partitioned&&(P+="; Partitioned"),S.priority)switch(typeof S.priority=="string"?S.priority.toLowerCase():void 0){case"low":P+="; Priority=Low";break;case"medium":P+="; Priority=Medium";break;case"high":P+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${S.priority}`)}if(S.sameSite)switch(typeof S.sameSite=="string"?S.sameSite.toLowerCase():S.sameSite){case!0:case"strict":P+="; SameSite=Strict";break;case"lax":P+="; SameSite=Lax";break;case"none":P+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${S.sameSite}`)}return P}function m(v){if(v.indexOf("%")===-1)return v;try{return decodeURIComponent(v)}catch{return v}}function g(v){return i.call(v)==="[object Date]"}return df}KI();/**
 * react-router v7.1.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var xw="popstate";function QI(r={}){function e(i,s){let{pathname:a="/",search:u="",hash:c=""}=vh(i.location.hash.substring(1));return!a.startsWith("/")&&!a.startsWith(".")&&(a="/"+a),W0("",{pathname:a,search:u,hash:c},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(i,s){let a=i.document.querySelector("base"),u="";if(a&&a.getAttribute("href")){let c=i.location.href,f=c.indexOf("#");u=f===-1?c:c.slice(0,f)}return u+"#"+(typeof s=="string"?s:Wf(s))}function n(i,s){Us(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(s)})`)}return JI(e,t,n,r)}function or(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Us(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function ZI(){return Math.random().toString(36).substring(2,10)}function ww(r,e){return{usr:r.state,key:r.key,idx:e}}function W0(r,e,t=null,n){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?vh(e):e,state:t,key:e&&e.key||n||ZI()}}function Wf({pathname:r="/",search:e="",hash:t=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(r+=t.charAt(0)==="#"?t:"#"+t),r}function vh(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substring(t),r=r.substring(0,t));let n=r.indexOf("?");n>=0&&(e.search=r.substring(n),r=r.substring(0,n)),r&&(e.pathname=r)}return e}function JI(r,e,t,n={}){let{window:i=document.defaultView,v5Compat:s=!1}=n,a=i.history,u="POP",c=null,f=m();f==null&&(f=0,a.replaceState({...a.state,idx:f},""));function m(){return(a.state||{idx:null}).idx}function g(){u="POP";let E=m(),P=E==null?null:E-f;f=E,c&&c({action:u,location:b.location,delta:P})}function v(E,P){u="PUSH";let k=W0(b.location,E,P);t&&t(k,E),f=m()+1;let R=ww(k,f),L=b.createHref(k);try{a.pushState(R,"",L)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;i.location.assign(L)}s&&c&&c({action:u,location:b.location,delta:1})}function x(E,P){u="REPLACE";let k=W0(b.location,E,P);t&&t(k,E),f=m();let R=ww(k,f),L=b.createHref(k);a.replaceState(R,"",L),s&&c&&c({action:u,location:b.location,delta:0})}function S(E){let P=i.location.origin!=="null"?i.location.origin:i.location.href,k=typeof E=="string"?E:Wf(E);return k=k.replace(/ $/,"%20"),or(P,`No window.location.(origin|href) available to create URL for href: ${k}`),new URL(k,P)}let b={get action(){return u},get location(){return r(i,a)},listen(E){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(xw,g),c=E,()=>{i.removeEventListener(xw,g),c=null}},createHref(E){return e(i,E)},createURL:S,encodeLocation(E){let P=S(E);return{pathname:P.pathname,search:P.search,hash:P.hash}},push:v,replace:x,go(E){return a.go(E)}};return b}function RE(r,e,t="/"){return ek(r,e,t,!1)}function ek(r,e,t,n){let i=typeof e=="string"?vh(e):e,s=Ol(i.pathname||"/",t);if(s==null)return null;let a=IE(r);tk(a);let u=null;for(let c=0;u==null&&c<a.length;++c){let f=dk(s);u=hk(a[c],f,n)}return u}function IE(r,e=[],t=[],n=""){let i=(s,a,u)=>{let c={relativePath:u===void 0?s.path||"":u,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};c.relativePath.startsWith("/")&&(or(c.relativePath.startsWith(n),`Absolute route path "${c.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(n.length));let f=fa([n,c.relativePath]),m=t.concat(c);s.children&&s.children.length>0&&(or(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),IE(s.children,e,m,f)),!(s.path==null&&!s.index)&&e.push({path:f,score:lk(f,s.index),routesMeta:m})};return r.forEach((s,a)=>{var u;if(s.path===""||!((u=s.path)!=null&&u.includes("?")))i(s,a);else for(let c of kE(s.path))i(s,a,c)}),e}function kE(r){let e=r.split("/");if(e.length===0)return[];let[t,...n]=e,i=t.endsWith("?"),s=t.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let a=kE(n.join("/")),u=[];return u.push(...a.map(c=>c===""?s:[s,c].join("/"))),i&&u.push(...a),u.map(c=>r.startsWith("/")&&c===""?"/":c)}function tk(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:uk(e.routesMeta.map(n=>n.childrenIndex),t.routesMeta.map(n=>n.childrenIndex)))}var rk=/^:[\w-]+$/,nk=3,ik=2,sk=1,ok=10,ak=-2,Sw=r=>r==="*";function lk(r,e){let t=r.split("/"),n=t.length;return t.some(Sw)&&(n+=ak),e&&(n+=ik),t.filter(i=>!Sw(i)).reduce((i,s)=>i+(rk.test(s)?nk:s===""?sk:ok),n)}function uk(r,e){return r.length===e.length&&r.slice(0,-1).every((n,i)=>n===e[i])?r[r.length-1]-e[e.length-1]:0}function hk(r,e,t=!1){let{routesMeta:n}=r,i={},s="/",a=[];for(let u=0;u<n.length;++u){let c=n[u],f=u===n.length-1,m=s==="/"?e:e.slice(s.length)||"/",g=og({path:c.relativePath,caseSensitive:c.caseSensitive,end:f},m),v=c.route;if(!g&&f&&t&&!n[n.length-1].route.index&&(g=og({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},m)),!g)return null;Object.assign(i,g.params),a.push({params:i,pathname:fa([s,g.pathname]),pathnameBase:gk(fa([s,g.pathnameBase])),route:v}),g.pathnameBase!=="/"&&(s=fa([s,g.pathnameBase]))}return a}function og(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,n]=ck(r.path,r.caseSensitive,r.end),i=e.match(t);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:n.reduce((f,{paramName:m,isOptional:g},v)=>{if(m==="*"){let S=u[v]||"";a=s.slice(0,s.length-S.length).replace(/(.)\/+$/,"$1")}const x=u[v];return g&&!x?f[m]=void 0:f[m]=(x||"").replace(/%2F/g,"/"),f},{}),pathname:s,pathnameBase:a,pattern:r}}function ck(r,e=!1,t=!0){Us(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let n=[],i="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,u,c)=>(n.push({paramName:u,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(n.push({paramName:"*"}),i+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":r!==""&&r!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function dk(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Us(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function Ol(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,n=r.charAt(t);return n&&n!=="/"?null:r.slice(t)||"/"}function fk(r,e="/"){let{pathname:t,search:n="",hash:i=""}=typeof r=="string"?vh(r):r;return{pathname:t?t.startsWith("/")?t:pk(t,e):e,search:yk(n),hash:vk(i)}}function pk(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function Qy(r,e,t,n){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function mk(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function ME(r){let e=mk(r);return e.map((t,n)=>n===e.length-1?t.pathname:t.pathnameBase)}function DE(r,e,t,n=!1){let i;typeof r=="string"?i=vh(r):(i={...r},or(!i.pathname||!i.pathname.includes("?"),Qy("?","pathname","search",i)),or(!i.pathname||!i.pathname.includes("#"),Qy("#","pathname","hash",i)),or(!i.search||!i.search.includes("#"),Qy("#","search","hash",i)));let s=r===""||i.pathname==="",a=s?"/":i.pathname,u;if(a==null)u=t;else{let g=e.length-1;if(!n&&a.startsWith("..")){let v=a.split("/");for(;v[0]==="..";)v.shift(),g-=1;i.pathname=v.join("/")}u=g>=0?e[g]:"/"}let c=fk(i,u),f=a&&a!=="/"&&a.endsWith("/"),m=(s||a===".")&&t.endsWith("/");return!c.pathname.endsWith("/")&&(f||m)&&(c.pathname+="/"),c}var fa=r=>r.join("/").replace(/\/\/+/g,"/"),gk=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),yk=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,vk=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function _k(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var OE=["POST","PUT","PATCH","DELETE"];new Set(OE);var xk=["GET",...OE];new Set(xk);var sd=te.createContext(null);sd.displayName="DataRouter";var Bg=te.createContext(null);Bg.displayName="DataRouterState";var NE=te.createContext({isTransitioning:!1});NE.displayName="ViewTransition";var wk=te.createContext(new Map);wk.displayName="Fetchers";var Sk=te.createContext(null);Sk.displayName="Await";var ko=te.createContext(null);ko.displayName="Navigation";var dp=te.createContext(null);dp.displayName="Location";var Ta=te.createContext({outlet:null,matches:[],isDataRoute:!1});Ta.displayName="Route";var yx=te.createContext(null);yx.displayName="RouteError";function bk(r,{relative:e}={}){or(fp(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:n}=te.useContext(ko),{hash:i,pathname:s,search:a}=pp(r,{relative:e}),u=s;return t!=="/"&&(u=s==="/"?t:fa([t,s])),n.createHref({pathname:u,search:a,hash:i})}function fp(){return te.useContext(dp)!=null}function Vl(){return or(fp(),"useLocation() may be used only in the context of a <Router> component."),te.useContext(dp).location}var FE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function LE(r){te.useContext(ko).static||te.useLayoutEffect(r)}function od(){let{isDataRoute:r}=te.useContext(Ta);return r?Fk():Tk()}function Tk(){or(fp(),"useNavigate() may be used only in the context of a <Router> component.");let r=te.useContext(sd),{basename:e,navigator:t}=te.useContext(ko),{matches:n}=te.useContext(Ta),{pathname:i}=Vl(),s=JSON.stringify(ME(n)),a=te.useRef(!1);return LE(()=>{a.current=!0}),te.useCallback((c,f={})=>{if(Us(a.current,FE),!a.current)return;if(typeof c=="number"){t.go(c);return}let m=DE(c,JSON.parse(s),i,f.relative==="path");r==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:fa([e,m.pathname])),(f.replace?t.replace:t.push)(m,f.state,f)},[e,t,s,i,r])}te.createContext(null);function pp(r,{relative:e}={}){let{matches:t}=te.useContext(Ta),{pathname:n}=Vl(),i=JSON.stringify(ME(t));return te.useMemo(()=>DE(r,JSON.parse(i),n,e==="path"),[r,i,n,e])}function Ek(r,e){return BE(r,e)}function BE(r,e,t,n){var k;or(fp(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i,static:s}=te.useContext(ko),{matches:a}=te.useContext(Ta),u=a[a.length-1],c=u?u.params:{},f=u?u.pathname:"/",m=u?u.pathnameBase:"/",g=u&&u.route;{let R=g&&g.path||"";UE(f,!g||R.endsWith("*")||R.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${R}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${R}"> to <Route path="${R==="/"?"*":`${R}/*`}">.`)}let v=Vl(),x;if(e){let R=typeof e=="string"?vh(e):e;or(m==="/"||((k=R.pathname)==null?void 0:k.startsWith(m)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${R.pathname}" was given in the \`location\` prop.`),x=R}else x=v;let S=x.pathname||"/",b=S;if(m!=="/"){let R=m.replace(/^\//,"").split("/");b="/"+S.replace(/^\//,"").split("/").slice(R.length).join("/")}let E=!s&&t&&t.matches&&t.matches.length>0?t.matches:RE(r,{pathname:b});Us(g||E!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),Us(E==null||E[E.length-1].route.element!==void 0||E[E.length-1].route.Component!==void 0||E[E.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let P=Ik(E&&E.map(R=>Object.assign({},R,{params:Object.assign({},c,R.params),pathname:fa([m,i.encodeLocation?i.encodeLocation(R.pathname).pathname:R.pathname]),pathnameBase:R.pathnameBase==="/"?m:fa([m,i.encodeLocation?i.encodeLocation(R.pathnameBase).pathname:R.pathnameBase])})),a,t,n);return e&&P?te.createElement(dp.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},P):P}function Ak(){let r=Nk(),e=_k(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,n="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:n},s={padding:"2px 4px",backgroundColor:n},a=null;return console.error("Error handled by React Router default ErrorBoundary:",r),a=te.createElement(te.Fragment,null,te.createElement("p",null," Hey developer "),te.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",te.createElement("code",{style:s},"ErrorBoundary")," or"," ",te.createElement("code",{style:s},"errorElement")," prop on your route.")),te.createElement(te.Fragment,null,te.createElement("h2",null,"Unexpected Application Error!"),te.createElement("h3",{style:{fontStyle:"italic"}},e),t?te.createElement("pre",{style:i},t):null,a)}var Ck=te.createElement(Ak,null),Pk=class extends te.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?te.createElement(Ta.Provider,{value:this.props.routeContext},te.createElement(yx.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Rk({routeContext:r,match:e,children:t}){let n=te.useContext(sd);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),te.createElement(Ta.Provider,{value:r},t)}function Ik(r,e=[],t=null,n=null){if(r==null){if(!t)return null;if(t.errors)r=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let i=r,s=t==null?void 0:t.errors;if(s!=null){let c=i.findIndex(f=>f.route.id&&(s==null?void 0:s[f.route.id])!==void 0);or(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,c+1))}let a=!1,u=-1;if(t)for(let c=0;c<i.length;c++){let f=i[c];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=c),f.route.id){let{loaderData:m,errors:g}=t,v=f.route.loader&&!m.hasOwnProperty(f.route.id)&&(!g||g[f.route.id]===void 0);if(f.route.lazy||v){a=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((c,f,m)=>{let g,v=!1,x=null,S=null;t&&(g=s&&f.route.id?s[f.route.id]:void 0,x=f.route.errorElement||Ck,a&&(u<0&&m===0?(UE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,S=null):u===m&&(v=!0,S=f.route.hydrateFallbackElement||null)));let b=e.concat(i.slice(0,m+1)),E=()=>{let P;return g?P=x:v?P=S:f.route.Component?P=te.createElement(f.route.Component,null):f.route.element?P=f.route.element:P=c,te.createElement(Rk,{match:f,routeContext:{outlet:c,matches:b,isDataRoute:t!=null},children:P})};return t&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?te.createElement(Pk,{location:t.location,revalidation:t.revalidation,component:x,error:g,children:E(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):E()},null)}function vx(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function kk(r){let e=te.useContext(sd);return or(e,vx(r)),e}function Mk(r){let e=te.useContext(Bg);return or(e,vx(r)),e}function Dk(r){let e=te.useContext(Ta);return or(e,vx(r)),e}function _x(r){let e=Dk(r),t=e.matches[e.matches.length-1];return or(t.route.id,`${r} can only be used on routes that contain a unique "id"`),t.route.id}function Ok(){return _x("useRouteId")}function Nk(){var n;let r=te.useContext(yx),e=Mk("useRouteError"),t=_x("useRouteError");return r!==void 0?r:(n=e.errors)==null?void 0:n[t]}function Fk(){let{router:r}=kk("useNavigate"),e=_x("useNavigate"),t=te.useRef(!1);return LE(()=>{t.current=!0}),te.useCallback(async(i,s={})=>{Us(t.current,FE),t.current&&(typeof i=="number"?r.navigate(i):await r.navigate(i,{fromRouteId:e,...s}))},[r,e])}var bw={};function UE(r,e,t){!e&&!bw[r]&&(bw[r]=!0,Us(!1,t))}te.memo(Lk);function Lk({routes:r,future:e,state:t}){return BE(r,void 0,t,e)}function Qu(r){or(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Bk({basename:r="/",children:e=null,location:t,navigationType:n="POP",navigator:i,static:s=!1}){or(!fp(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=r.replace(/^\/*/,"/"),u=te.useMemo(()=>({basename:a,navigator:i,static:s,future:{}}),[a,i,s]);typeof t=="string"&&(t=vh(t));let{pathname:c="/",search:f="",hash:m="",state:g=null,key:v="default"}=t,x=te.useMemo(()=>{let S=Ol(c,a);return S==null?null:{location:{pathname:S,search:f,hash:m,state:g,key:v},navigationType:n}},[a,c,f,m,g,v,n]);return Us(x!=null,`<Router basename="${a}"> is not able to match the URL "${c}${f}${m}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:te.createElement(ko.Provider,{value:u},te.createElement(dp.Provider,{children:e,value:x}))}function Uk({children:r,location:e}){return Ek(X0(r),e)}function X0(r,e=[]){let t=[];return te.Children.forEach(r,(n,i)=>{if(!te.isValidElement(n))return;let s=[...e,i];if(n.type===te.Fragment){t.push.apply(t,X0(n.props.children,s));return}or(n.type===Qu,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),or(!n.props.index||!n.props.children,"An index route cannot have child routes.");let a={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=X0(n.props.children,s)),t.push(a)}),t}var jm="get",Hm="application/x-www-form-urlencoded";function Ug(r){return r!=null&&typeof r.tagName=="string"}function zk(r){return Ug(r)&&r.tagName.toLowerCase()==="button"}function Vk(r){return Ug(r)&&r.tagName.toLowerCase()==="form"}function Gk(r){return Ug(r)&&r.tagName.toLowerCase()==="input"}function jk(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function Hk(r,e){return r.button===0&&(!e||e==="_self")&&!jk(r)}var cm=null;function $k(){if(cm===null)try{new FormData(document.createElement("form"),0),cm=!1}catch{cm=!0}return cm}var Wk=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Zy(r){return r!=null&&!Wk.has(r)?(Us(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Hm}"`),null):r}function Xk(r,e){let t,n,i,s,a;if(Vk(r)){let u=r.getAttribute("action");n=u?Ol(u,e):null,t=r.getAttribute("method")||jm,i=Zy(r.getAttribute("enctype"))||Hm,s=new FormData(r)}else if(zk(r)||Gk(r)&&(r.type==="submit"||r.type==="image")){let u=r.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=r.getAttribute("formaction")||u.getAttribute("action");if(n=c?Ol(c,e):null,t=r.getAttribute("formmethod")||u.getAttribute("method")||jm,i=Zy(r.getAttribute("formenctype"))||Zy(u.getAttribute("enctype"))||Hm,s=new FormData(u,r),!$k()){let{name:f,type:m,value:g}=r;if(m==="image"){let v=f?`${f}.`:"";s.append(`${v}x`,"0"),s.append(`${v}y`,"0")}else f&&s.append(f,g)}}else{if(Ug(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=jm,n=null,i=Hm,a=r}return s&&i==="text/plain"&&(a=s,s=void 0),{action:n,method:t.toLowerCase(),encType:i,formData:s,body:a}}function xx(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function Yk(r,e){if(r.id in e)return e[r.id];try{let t=await import(r.module);return e[r.id]=t,t}catch(t){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function qk(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function Kk(r,e,t){let n=await Promise.all(r.map(async i=>{let s=e.routes[i.route.id];if(s){let a=await Yk(s,t);return a.links?a.links():[]}return[]}));return eM(n.flat(1).filter(qk).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function Tw(r,e,t,n,i,s){let a=(c,f)=>t[f]?c.route.id!==t[f].route.id:!0,u=(c,f)=>{var m;return t[f].pathname!==c.pathname||((m=t[f].route.path)==null?void 0:m.endsWith("*"))&&t[f].params["*"]!==c.params["*"]};return s==="assets"?e.filter((c,f)=>a(c,f)||u(c,f)):s==="data"?e.filter((c,f)=>{var g;let m=n.routes[c.route.id];if(!m||!m.hasLoader)return!1;if(a(c,f)||u(c,f))return!0;if(c.route.shouldRevalidate){let v=c.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((g=t[0])==null?void 0:g.params)||{},nextUrl:new URL(r,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function Qk(r,e){return Zk(r.map(t=>{let n=e.routes[t.route.id];if(!n)return[];let i=[n.module];return n.imports&&(i=i.concat(n.imports)),i}).flat(1))}function Zk(r){return[...new Set(r)]}function Jk(r){let e={},t=Object.keys(r).sort();for(let n of t)e[n]=r[n];return e}function eM(r,e){let t=new Set;return new Set(e),r.reduce((n,i)=>{let s=JSON.stringify(Jk(i));return t.has(s)||(t.add(s),n.push({key:s,link:i})),n},[])}function tM(r){let e=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function rM(){let r=te.useContext(sd);return xx(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function nM(){let r=te.useContext(Bg);return xx(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var wx=te.createContext(void 0);wx.displayName="FrameworkContext";function zE(){let r=te.useContext(wx);return xx(r,"You must render this element inside a <HydratedRouter> element"),r}function iM(r,e){let t=te.useContext(wx),[n,i]=te.useState(!1),[s,a]=te.useState(!1),{onFocus:u,onBlur:c,onMouseEnter:f,onMouseLeave:m,onTouchStart:g}=e,v=te.useRef(null);te.useEffect(()=>{if(r==="render"&&a(!0),r==="viewport"){let b=P=>{P.forEach(k=>{a(k.isIntersecting)})},E=new IntersectionObserver(b,{threshold:.5});return v.current&&E.observe(v.current),()=>{E.disconnect()}}},[r]),te.useEffect(()=>{if(n){let b=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(b)}}},[n]);let x=()=>{i(!0)},S=()=>{i(!1),a(!1)};return t?r!=="intent"?[s,v,{}]:[s,v,{onFocus:ff(u,x),onBlur:ff(c,S),onMouseEnter:ff(f,x),onMouseLeave:ff(m,S),onTouchStart:ff(g,x)}]:[!1,v,{}]}function ff(r,e){return t=>{r&&r(t),t.defaultPrevented||e(t)}}function sM({page:r,...e}){let{router:t}=rM(),n=te.useMemo(()=>RE(t.routes,r,t.basename),[t.routes,r,t.basename]);return n?te.createElement(aM,{page:r,matches:n,...e}):null}function oM(r){let{manifest:e,routeModules:t}=zE(),[n,i]=te.useState([]);return te.useEffect(()=>{let s=!1;return Kk(r,e,t).then(a=>{s||i(a)}),()=>{s=!0}},[r,e,t]),n}function aM({page:r,matches:e,...t}){let n=Vl(),{manifest:i,routeModules:s}=zE(),{loaderData:a,matches:u}=nM(),c=te.useMemo(()=>Tw(r,e,u,i,n,"data"),[r,e,u,i,n]),f=te.useMemo(()=>Tw(r,e,u,i,n,"assets"),[r,e,u,i,n]),m=te.useMemo(()=>{if(r===n.pathname+n.search+n.hash)return[];let x=new Set,S=!1;if(e.forEach(E=>{var k;let P=i.routes[E.route.id];!P||!P.hasLoader||(!c.some(R=>R.route.id===E.route.id)&&E.route.id in a&&((k=s[E.route.id])!=null&&k.shouldRevalidate)||P.hasClientLoader?S=!0:x.add(E.route.id))}),x.size===0)return[];let b=tM(r);return S&&x.size>0&&b.searchParams.set("_routes",e.filter(E=>x.has(E.route.id)).map(E=>E.route.id).join(",")),[b.pathname+b.search]},[a,n,i,c,e,r,s]),g=te.useMemo(()=>Qk(f,i),[f,i]),v=oM(f);return te.createElement(te.Fragment,null,m.map(x=>te.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...t})),g.map(x=>te.createElement("link",{key:x,rel:"modulepreload",href:x,...t})),v.map(({key:x,link:S})=>te.createElement("link",{key:x,...S})))}function lM(...r){return e=>{r.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var VE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{VE&&(window.__reactRouterVersion="7.1.5")}catch{}function uM({basename:r,children:e,window:t}){let n=te.useRef();n.current==null&&(n.current=QI({window:t,v5Compat:!0}));let i=n.current,[s,a]=te.useState({action:i.action,location:i.location}),u=te.useCallback(c=>{te.startTransition(()=>a(c))},[a]);return te.useLayoutEffect(()=>i.listen(u),[i,u]),te.createElement(Bk,{basename:r,children:e,location:s.location,navigationType:s.action,navigator:i})}var GE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,jE=te.forwardRef(function({onClick:e,discover:t="render",prefetch:n="none",relative:i,reloadDocument:s,replace:a,state:u,target:c,to:f,preventScrollReset:m,viewTransition:g,...v},x){let{basename:S}=te.useContext(ko),b=typeof f=="string"&&GE.test(f),E,P=!1;if(typeof f=="string"&&b&&(E=f,VE))try{let X=new URL(window.location.href),re=f.startsWith("//")?new URL(X.protocol+f):new URL(f),me=Ol(re.pathname,S);re.origin===X.origin&&me!=null?f=me+re.search+re.hash:P=!0}catch{Us(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let k=bk(f,{relative:i}),[R,L,D]=iM(n,v),H=fM(f,{replace:a,state:u,target:c,preventScrollReset:m,relative:i,viewTransition:g});function N(X){e&&e(X),X.defaultPrevented||H(X)}let G=te.createElement("a",{...v,...D,href:E||k,onClick:P||s?e:N,ref:lM(x,L),target:c,"data-discover":!b&&t==="render"?"true":void 0});return R&&!b?te.createElement(te.Fragment,null,G,te.createElement(sM,{page:k})):G});jE.displayName="Link";var hM=te.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:n="",end:i=!1,style:s,to:a,viewTransition:u,children:c,...f},m){let g=pp(a,{relative:f.relative}),v=Vl(),x=te.useContext(Bg),{navigator:S,basename:b}=te.useContext(ko),E=x!=null&&vM(g)&&u===!0,P=S.encodeLocation?S.encodeLocation(g).pathname:g.pathname,k=v.pathname,R=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;t||(k=k.toLowerCase(),R=R?R.toLowerCase():null,P=P.toLowerCase()),R&&b&&(R=Ol(R,b)||R);const L=P!=="/"&&P.endsWith("/")?P.length-1:P.length;let D=k===P||!i&&k.startsWith(P)&&k.charAt(L)==="/",H=R!=null&&(R===P||!i&&R.startsWith(P)&&R.charAt(P.length)==="/"),N={isActive:D,isPending:H,isTransitioning:E},G=D?e:void 0,X;typeof n=="function"?X=n(N):X=[n,D?"active":null,H?"pending":null,E?"transitioning":null].filter(Boolean).join(" ");let re=typeof s=="function"?s(N):s;return te.createElement(jE,{...f,"aria-current":G,className:X,ref:m,style:re,to:a,viewTransition:u},typeof c=="function"?c(N):c)});hM.displayName="NavLink";var cM=te.forwardRef(({discover:r="render",fetcherKey:e,navigate:t,reloadDocument:n,replace:i,state:s,method:a=jm,action:u,onSubmit:c,relative:f,preventScrollReset:m,viewTransition:g,...v},x)=>{let S=gM(),b=yM(u,{relative:f}),E=a.toLowerCase()==="get"?"get":"post",P=typeof u=="string"&&GE.test(u),k=R=>{if(c&&c(R),R.defaultPrevented)return;R.preventDefault();let L=R.nativeEvent.submitter,D=(L==null?void 0:L.getAttribute("formmethod"))||a;S(L||R.currentTarget,{fetcherKey:e,method:D,navigate:t,replace:i,state:s,relative:f,preventScrollReset:m,viewTransition:g})};return te.createElement("form",{ref:x,method:E,action:b,onSubmit:n?c:k,...v,"data-discover":!P&&r==="render"?"true":void 0})});cM.displayName="Form";function dM(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function HE(r){let e=te.useContext(sd);return or(e,dM(r)),e}function fM(r,{target:e,replace:t,state:n,preventScrollReset:i,relative:s,viewTransition:a}={}){let u=od(),c=Vl(),f=pp(r,{relative:s});return te.useCallback(m=>{if(Hk(m,e)){m.preventDefault();let g=t!==void 0?t:Wf(c)===Wf(f);u(r,{replace:g,state:n,preventScrollReset:i,relative:s,viewTransition:a})}},[c,u,f,t,n,e,r,i,s,a])}var pM=0,mM=()=>`__${String(++pM)}__`;function gM(){let{router:r}=HE("useSubmit"),{basename:e}=te.useContext(ko),t=Ok();return te.useCallback(async(n,i={})=>{let{action:s,method:a,encType:u,formData:c,body:f}=Xk(n,e);if(i.navigate===!1){let m=i.fetcherKey||mM();await r.fetch(m,t,i.action||s,{preventScrollReset:i.preventScrollReset,formData:c,body:f,formMethod:i.method||a,formEncType:i.encType||u,flushSync:i.flushSync})}else await r.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:c,body:f,formMethod:i.method||a,formEncType:i.encType||u,replace:i.replace,state:i.state,fromRouteId:t,flushSync:i.flushSync,viewTransition:i.viewTransition})},[r,e,t])}function yM(r,{relative:e}={}){let{basename:t}=te.useContext(ko),n=te.useContext(Ta);or(n,"useFormAction must be used inside a RouteContext");let[i]=n.matches.slice(-1),s={...pp(r||".",{relative:e})},a=Vl();if(r==null){s.search=a.search;let u=new URLSearchParams(s.search),c=u.getAll("index");if(c.some(m=>m==="")){u.delete("index"),c.filter(g=>g).forEach(g=>u.append("index",g));let m=u.toString();s.search=m?`?${m}`:""}}return(!r||r===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(s.pathname=s.pathname==="/"?t:fa([t,s.pathname])),Wf(s)}function vM(r,e={}){let t=te.useContext(NE);or(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=HE("useViewTransitionState"),i=pp(r,{relative:e.relative});if(!t.isTransitioning)return!1;let s=Ol(t.currentLocation.pathname,n)||t.currentLocation.pathname,a=Ol(t.nextLocation.pathname,n)||t.nextLocation.pathname;return og(i.pathname,a)!=null||og(i.pathname,s)!=null}new TextEncoder;const mp={padding:"10px 20px",borderRadius:"10px",backgroundColor:"#F1B24B",boxShadow:"0 0 10px rgba(0,0,0,0.1)",border:"none",cursor:"pointer",fontSize:"16px",transition:"all 0.2s ease",width:"100%",margin:"5px 0"},_M=({logo:r,title:e,description:t})=>{const n=od(),i=()=>{n("/quiz")};return fe.jsxs("div",{className:"landing-page",children:[fe.jsx("img",{src:r,alt:"Logo",className:"landing-logo"}),fe.jsxs("div",{className:"content-container",children:[fe.jsx("h1",{children:e}),fe.jsx("p",{children:t}),fe.jsx("button",{style:mp,onClick:i,children:"Start Quiz"})]})]})};var Jy={exports:{}},ev,Ew;function xM(){if(Ew)return ev;Ew=1;var r="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return ev=r,ev}var tv,Aw;function wM(){if(Aw)return tv;Aw=1;var r=xM();function e(){}function t(){}return t.resetWarningCache=e,tv=function(){function n(a,u,c,f,m,g){if(g!==r){var v=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw v.name="Invariant Violation",v}}n.isRequired=n;function i(){return n}var s={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:i,element:n,elementType:n,instanceOf:i,node:n,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:t,resetWarningCache:e};return s.PropTypes=s,s},tv}var Cw;function SM(){return Cw||(Cw=1,Jy.exports=wM()()),Jy.exports}var bM=SM();const ot=Lg(bM),$E=({text:r})=>fe.jsx("div",{style:{fontFamily:"Poppins, sans-serif",fontSize:"18px"},children:r.text});$E.propTypes={text:ot.shape({text:ot.string.isRequired}).isRequired};const WE=({text:r,onClick:e})=>{const[t,n]=te.useState(!1);return fe.jsx("button",{onClick:e,onMouseEnter:()=>n(!0),onMouseLeave:()=>n(!1),style:{width:255,height:66,backgroundColor:t?"#F1B24B":"#9FB3B9",border:`2px solid ${t?"#486C95":"#9FB3B9"}`,fontFamily:"Poppins, sans-serif",fontSize:"16px"},children:r})};WE.propTypes={text:ot.string.isRequired,onClick:ot.func.isRequired};const XE=({options:r,onOptionClick:e})=>fe.jsx("div",{className:"options-container",style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"10px",padding:"10px"},children:[...Array(4)].map((t,n)=>{var i;return fe.jsx(WE,{text:((i=r[n])==null?void 0:i.text)||"",onClick:()=>r[n]&&e(r[n])},n)})});XE.propTypes={options:ot.arrayOf(ot.shape({text:ot.string.isRequired,score:ot.arrayOf(ot.number).isRequired})).isRequired,onOptionClick:ot.func.isRequired};class YE extends ns.Component{constructor(t){super(t);$y(this,"handleOptionClick",t=>{this.setState(n=>{this.props.user.addScore(t.score);const i=n.currentQuestionIndex+1;return i>=n.questions.length?(this.props.navigate&&this.props.navigate("/results"),n):{currentQuestionIndex:i}})});this.state={isLoading:!0,currentQuestionIndex:0,questions:[],optionSets:[],user:t.user}}componentDidMount(){fetch(this.props.quizbank).then(t=>{if(!t.ok)throw new Error("Network response was not ok");return t.json()}).then(t=>{this.setState({isLoading:!1,questions:t.questions,optionSets:t.optionSets})}).catch(t=>{console.error("Error loading quiz data:",t),this.setState({isLoading:!1})})}render(){const{isLoading:t,questions:n,optionSets:i,currentQuestionIndex:s}=this.state,a={display:"flex",alignItems:"center",justifyContent:"center",padding:"20px"},u={width:"600px",height:"250px",borderRadius:"10px",backgroundColor:"white",boxShadow:"0 0 10px rgba(0,0,0,0.1)",display:"flex",flexDirection:"column",padding:"20px",boxSizing:"border-box",fontFamily:"Poppins, sans-serif"},c={flex:1,display:"flex",alignItems:"center",justifyContent:"center"},f={paddingBottom:"0px"};return t?fe.jsx("div",{style:a,children:fe.jsx("div",{style:u,children:"Loading..."})}):n.length===0||i.length===0?fe.jsx("div",{style:a,children:fe.jsx("div",{style:u,children:"No questions available"})}):fe.jsx("div",{style:a,children:fe.jsxs("div",{style:u,children:[fe.jsx("div",{style:c,children:fe.jsx($E,{text:n[s]})}),fe.jsx("div",{style:f,children:fe.jsx(XE,{options:i[s].options,onOptionClick:this.handleOptionClick})})]})})}}const TM=r=>{const e=od();return fe.jsx(YE,{...r,navigate:e})};YE.propTypes={quizbank:ot.string.isRequired,navigate:ot.func,user:ot.object.isRequired};var _h=(r=>(r[r.WEBGL_LEGACY=0]="WEBGL_LEGACY",r[r.WEBGL=1]="WEBGL",r[r.WEBGL2=2]="WEBGL2",r))(_h||{}),qE=(r=>(r[r.UNKNOWN=0]="UNKNOWN",r[r.WEBGL=1]="WEBGL",r[r.CANVAS=2]="CANVAS",r))(qE||{}),Y0=(r=>(r[r.COLOR=16384]="COLOR",r[r.DEPTH=256]="DEPTH",r[r.STENCIL=1024]="STENCIL",r))(Y0||{}),rt=(r=>(r[r.NORMAL=0]="NORMAL",r[r.ADD=1]="ADD",r[r.MULTIPLY=2]="MULTIPLY",r[r.SCREEN=3]="SCREEN",r[r.OVERLAY=4]="OVERLAY",r[r.DARKEN=5]="DARKEN",r[r.LIGHTEN=6]="LIGHTEN",r[r.COLOR_DODGE=7]="COLOR_DODGE",r[r.COLOR_BURN=8]="COLOR_BURN",r[r.HARD_LIGHT=9]="HARD_LIGHT",r[r.SOFT_LIGHT=10]="SOFT_LIGHT",r[r.DIFFERENCE=11]="DIFFERENCE",r[r.EXCLUSION=12]="EXCLUSION",r[r.HUE=13]="HUE",r[r.SATURATION=14]="SATURATION",r[r.COLOR=15]="COLOR",r[r.LUMINOSITY=16]="LUMINOSITY",r[r.NORMAL_NPM=17]="NORMAL_NPM",r[r.ADD_NPM=18]="ADD_NPM",r[r.SCREEN_NPM=19]="SCREEN_NPM",r[r.NONE=20]="NONE",r[r.SRC_OVER=0]="SRC_OVER",r[r.SRC_IN=21]="SRC_IN",r[r.SRC_OUT=22]="SRC_OUT",r[r.SRC_ATOP=23]="SRC_ATOP",r[r.DST_OVER=24]="DST_OVER",r[r.DST_IN=25]="DST_IN",r[r.DST_OUT=26]="DST_OUT",r[r.DST_ATOP=27]="DST_ATOP",r[r.ERASE=26]="ERASE",r[r.SUBTRACT=28]="SUBTRACT",r[r.XOR=29]="XOR",r))(rt||{}),Os=(r=>(r[r.POINTS=0]="POINTS",r[r.LINES=1]="LINES",r[r.LINE_LOOP=2]="LINE_LOOP",r[r.LINE_STRIP=3]="LINE_STRIP",r[r.TRIANGLES=4]="TRIANGLES",r[r.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",r[r.TRIANGLE_FAN=6]="TRIANGLE_FAN",r))(Os||{}),Re=(r=>(r[r.RGBA=6408]="RGBA",r[r.RGB=6407]="RGB",r[r.RG=33319]="RG",r[r.RED=6403]="RED",r[r.RGBA_INTEGER=36249]="RGBA_INTEGER",r[r.RGB_INTEGER=36248]="RGB_INTEGER",r[r.RG_INTEGER=33320]="RG_INTEGER",r[r.RED_INTEGER=36244]="RED_INTEGER",r[r.ALPHA=6406]="ALPHA",r[r.LUMINANCE=6409]="LUMINANCE",r[r.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",r[r.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",r[r.DEPTH_STENCIL=34041]="DEPTH_STENCIL",r))(Re||{}),zc=(r=>(r[r.TEXTURE_2D=3553]="TEXTURE_2D",r[r.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",r[r.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",r[r.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",r[r.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",r[r.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",r[r.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",r[r.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",r[r.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",r))(zc||{}),Je=(r=>(r[r.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",r[r.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",r[r.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",r[r.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",r[r.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",r[r.UNSIGNED_INT=5125]="UNSIGNED_INT",r[r.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",r[r.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",r[r.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",r[r.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",r[r.BYTE=5120]="BYTE",r[r.SHORT=5122]="SHORT",r[r.INT=5124]="INT",r[r.FLOAT=5126]="FLOAT",r[r.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",r[r.HALF_FLOAT=36193]="HALF_FLOAT",r))(Je||{}),Be=(r=>(r[r.FLOAT=0]="FLOAT",r[r.INT=1]="INT",r[r.UINT=2]="UINT",r))(Be||{}),ha=(r=>(r[r.NEAREST=0]="NEAREST",r[r.LINEAR=1]="LINEAR",r))(ha||{}),pa=(r=>(r[r.CLAMP=33071]="CLAMP",r[r.REPEAT=10497]="REPEAT",r[r.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",r))(pa||{}),Co=(r=>(r[r.OFF=0]="OFF",r[r.POW2=1]="POW2",r[r.ON=2]="ON",r[r.ON_MANUAL=3]="ON_MANUAL",r))(Co||{}),li=(r=>(r[r.NPM=0]="NPM",r[r.UNPACK=1]="UNPACK",r[r.PMA=2]="PMA",r[r.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",r[r.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",r[r.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA",r))(li||{}),yo=(r=>(r[r.NO=0]="NO",r[r.YES=1]="YES",r[r.AUTO=2]="AUTO",r[r.BLEND=0]="BLEND",r[r.CLEAR=1]="CLEAR",r[r.BLIT=2]="BLIT",r))(yo||{}),Sx=(r=>(r[r.AUTO=0]="AUTO",r[r.MANUAL=1]="MANUAL",r))(Sx||{}),es=(r=>(r.LOW="lowp",r.MEDIUM="mediump",r.HIGH="highp",r))(es||{}),Ur=(r=>(r[r.NONE=0]="NONE",r[r.SCISSOR=1]="SCISSOR",r[r.STENCIL=2]="STENCIL",r[r.SPRITE=3]="SPRITE",r[r.COLOR=4]="COLOR",r))(Ur||{}),kr=(r=>(r[r.NONE=0]="NONE",r[r.LOW=2]="LOW",r[r.MEDIUM=4]="MEDIUM",r[r.HIGH=8]="HIGH",r))(kr||{}),wo=(r=>(r[r.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",r[r.ARRAY_BUFFER=34962]="ARRAY_BUFFER",r[r.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",r))(wo||{});const EM={createCanvas:(r,e)=>{const t=document.createElement("canvas");return t.width=r,t.height=e,t},getCanvasRenderingContext2D:()=>CanvasRenderingContext2D,getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>document.baseURI??window.location.href,getFontFaceSet:()=>document.fonts,fetch:(r,e)=>fetch(r,e),parseXML:r=>new DOMParser().parseFromString(r,"text/xml")},Ue={ADAPTER:EM,RESOLUTION:1,CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1};var rv=/iPhone/i,Pw=/iPod/i,Rw=/iPad/i,Iw=/\biOS-universal(?:.+)Mac\b/i,nv=/\bAndroid(?:.+)Mobile\b/i,kw=/Android/i,_c=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,dm=/Silk/i,sa=/Windows Phone/i,Mw=/\bWindows(?:.+)ARM\b/i,Dw=/BlackBerry/i,Ow=/BB10/i,Nw=/Opera Mini/i,Fw=/\b(CriOS|Chrome)(?:.+)Mobile/i,Lw=/Mobile(?:.+)Firefox\b/i,Bw=function(r){return typeof r<"u"&&r.platform==="MacIntel"&&typeof r.maxTouchPoints=="number"&&r.maxTouchPoints>1&&typeof MSStream>"u"};function AM(r){return function(e){return e.test(r)}}function Uw(r){var e={userAgent:"",platform:"",maxTouchPoints:0};!r&&typeof navigator<"u"?e={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0}:typeof r=="string"?e.userAgent=r:r&&r.userAgent&&(e={userAgent:r.userAgent,platform:r.platform,maxTouchPoints:r.maxTouchPoints||0});var t=e.userAgent,n=t.split("[FBAN");typeof n[1]<"u"&&(t=n[0]),n=t.split("Twitter"),typeof n[1]<"u"&&(t=n[0]);var i=AM(t),s={apple:{phone:i(rv)&&!i(sa),ipod:i(Pw),tablet:!i(rv)&&(i(Rw)||Bw(e))&&!i(sa),universal:i(Iw),device:(i(rv)||i(Pw)||i(Rw)||i(Iw)||Bw(e))&&!i(sa)},amazon:{phone:i(_c),tablet:!i(_c)&&i(dm),device:i(_c)||i(dm)},android:{phone:!i(sa)&&i(_c)||!i(sa)&&i(nv),tablet:!i(sa)&&!i(_c)&&!i(nv)&&(i(dm)||i(kw)),device:!i(sa)&&(i(_c)||i(dm)||i(nv)||i(kw))||i(/\bokhttp\b/i)},windows:{phone:i(sa),tablet:i(Mw),device:i(sa)||i(Mw)},other:{blackberry:i(Dw),blackberry10:i(Ow),opera:i(Nw),firefox:i(Lw),chrome:i(Fw),device:i(Dw)||i(Ow)||i(Nw)||i(Lw)||i(Fw)},any:!1,phone:!1,tablet:!1};return s.any=s.apple.device||s.android.device||s.windows.device||s.other.device,s.phone=s.apple.phone||s.android.phone||s.windows.phone,s.tablet=s.apple.tablet||s.android.tablet||s.windows.tablet,s}const CM=Uw.default??Uw,ca=CM(globalThis.navigator);Ue.RETINA_PREFIX=/@([0-9\.]+)x/;Ue.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var iv={exports:{}},zw;function PM(){return zw||(zw=1,function(r){var e=Object.prototype.hasOwnProperty,t="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(t=!1));function i(c,f,m){this.fn=c,this.context=f,this.once=m||!1}function s(c,f,m,g,v){if(typeof m!="function")throw new TypeError("The listener must be a function");var x=new i(m,g||c,v),S=t?t+f:f;return c._events[S]?c._events[S].fn?c._events[S]=[c._events[S],x]:c._events[S].push(x):(c._events[S]=x,c._eventsCount++),c}function a(c,f){--c._eventsCount===0?c._events=new n:delete c._events[f]}function u(){this._events=new n,this._eventsCount=0}u.prototype.eventNames=function(){var f=[],m,g;if(this._eventsCount===0)return f;for(g in m=this._events)e.call(m,g)&&f.push(t?g.slice(1):g);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(m)):f},u.prototype.listeners=function(f){var m=t?t+f:f,g=this._events[m];if(!g)return[];if(g.fn)return[g.fn];for(var v=0,x=g.length,S=new Array(x);v<x;v++)S[v]=g[v].fn;return S},u.prototype.listenerCount=function(f){var m=t?t+f:f,g=this._events[m];return g?g.fn?1:g.length:0},u.prototype.emit=function(f,m,g,v,x,S){var b=t?t+f:f;if(!this._events[b])return!1;var E=this._events[b],P=arguments.length,k,R;if(E.fn){switch(E.once&&this.removeListener(f,E.fn,void 0,!0),P){case 1:return E.fn.call(E.context),!0;case 2:return E.fn.call(E.context,m),!0;case 3:return E.fn.call(E.context,m,g),!0;case 4:return E.fn.call(E.context,m,g,v),!0;case 5:return E.fn.call(E.context,m,g,v,x),!0;case 6:return E.fn.call(E.context,m,g,v,x,S),!0}for(R=1,k=new Array(P-1);R<P;R++)k[R-1]=arguments[R];E.fn.apply(E.context,k)}else{var L=E.length,D;for(R=0;R<L;R++)switch(E[R].once&&this.removeListener(f,E[R].fn,void 0,!0),P){case 1:E[R].fn.call(E[R].context);break;case 2:E[R].fn.call(E[R].context,m);break;case 3:E[R].fn.call(E[R].context,m,g);break;case 4:E[R].fn.call(E[R].context,m,g,v);break;default:if(!k)for(D=1,k=new Array(P-1);D<P;D++)k[D-1]=arguments[D];E[R].fn.apply(E[R].context,k)}}return!0},u.prototype.on=function(f,m,g){return s(this,f,m,g,!1)},u.prototype.once=function(f,m,g){return s(this,f,m,g,!0)},u.prototype.removeListener=function(f,m,g,v){var x=t?t+f:f;if(!this._events[x])return this;if(!m)return a(this,x),this;var S=this._events[x];if(S.fn)S.fn===m&&(!v||S.once)&&(!g||S.context===g)&&a(this,x);else{for(var b=0,E=[],P=S.length;b<P;b++)(S[b].fn!==m||v&&!S[b].once||g&&S[b].context!==g)&&E.push(S[b]);E.length?this._events[x]=E.length===1?E[0]:E:a(this,x)}return this},u.prototype.removeAllListeners=function(f){var m;return f?(m=t?t+f:f,this._events[m]&&a(this,m)):(this._events=new n,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=t,u.EventEmitter=u,r.exports=u}(iv)),iv.exports}var RM=PM();const gp=Lg(RM);var fm={exports:{}},Vw;function IM(){if(Vw)return fm.exports;Vw=1,fm.exports=r,fm.exports.default=r;function r(U,z,M){M=M||2;var $=z&&z.length,B=$?z[0]*M:U.length,O=e(U,0,B,M,!0),j=[];if(!O||O.next===O.prev)return j;var Q,ie,de,ye,be,Pe,ke;if($&&(O=c(U,z,O,M)),U.length>80*M){Q=de=U[0],ie=ye=U[1];for(var we=M;we<B;we+=M)be=U[we],Pe=U[we+1],be<Q&&(Q=be),Pe<ie&&(ie=Pe),be>de&&(de=be),Pe>ye&&(ye=Pe);ke=Math.max(de-Q,ye-ie),ke=ke!==0?32767/ke:0}return n(O,j,M,Q,ie,ke,0),j}function e(U,z,M,$,B){var O,j;if(B===xe(U,z,M,$)>0)for(O=z;O<M;O+=$)j=q(O,U[O],U[O+1],j);else for(O=M-$;O>=z;O-=$)j=q(O,U[O],U[O+1],j);return j&&L(j,j.next)&&(Z(j),j=j.next),j}function t(U,z){if(!U)return U;z||(z=U);var M=U,$;do if($=!1,!M.steiner&&(L(M,M.next)||R(M.prev,M,M.next)===0)){if(Z(M),M=z=M.prev,M===M.next)break;$=!0}else M=M.next;while($||M!==z);return z}function n(U,z,M,$,B,O,j){if(U){!j&&O&&x(U,$,B,O);for(var Q=U,ie,de;U.prev!==U.next;){if(ie=U.prev,de=U.next,O?s(U,$,B,O):i(U)){z.push(ie.i/M|0),z.push(U.i/M|0),z.push(de.i/M|0),Z(U),U=de.next,Q=de.next;continue}if(U=de,U===Q){j?j===1?(U=a(t(U),z,M),n(U,z,M,$,B,O,2)):j===2&&u(U,z,M,$,B,O):n(t(U),z,M,$,B,O,1);break}}}}function i(U){var z=U.prev,M=U,$=U.next;if(R(z,M,$)>=0)return!1;for(var B=z.x,O=M.x,j=$.x,Q=z.y,ie=M.y,de=$.y,ye=B<O?B<j?B:j:O<j?O:j,be=Q<ie?Q<de?Q:de:ie<de?ie:de,Pe=B>O?B>j?B:j:O>j?O:j,ke=Q>ie?Q>de?Q:de:ie>de?ie:de,we=$.next;we!==z;){if(we.x>=ye&&we.x<=Pe&&we.y>=be&&we.y<=ke&&P(B,Q,O,ie,j,de,we.x,we.y)&&R(we.prev,we,we.next)>=0)return!1;we=we.next}return!0}function s(U,z,M,$){var B=U.prev,O=U,j=U.next;if(R(B,O,j)>=0)return!1;for(var Q=B.x,ie=O.x,de=j.x,ye=B.y,be=O.y,Pe=j.y,ke=Q<ie?Q<de?Q:de:ie<de?ie:de,we=ye<be?ye<Pe?ye:Pe:be<Pe?be:Pe,De=Q>ie?Q>de?Q:de:ie>de?ie:de,Ve=ye>be?ye>Pe?ye:Pe:be>Pe?be:Pe,We=b(ke,we,z,M,$),ct=b(De,Ve,z,M,$),He=U.prevZ,Xe=U.nextZ;He&&He.z>=We&&Xe&&Xe.z<=ct;){if(He.x>=ke&&He.x<=De&&He.y>=we&&He.y<=Ve&&He!==B&&He!==j&&P(Q,ye,ie,be,de,Pe,He.x,He.y)&&R(He.prev,He,He.next)>=0||(He=He.prevZ,Xe.x>=ke&&Xe.x<=De&&Xe.y>=we&&Xe.y<=Ve&&Xe!==B&&Xe!==j&&P(Q,ye,ie,be,de,Pe,Xe.x,Xe.y)&&R(Xe.prev,Xe,Xe.next)>=0))return!1;Xe=Xe.nextZ}for(;He&&He.z>=We;){if(He.x>=ke&&He.x<=De&&He.y>=we&&He.y<=Ve&&He!==B&&He!==j&&P(Q,ye,ie,be,de,Pe,He.x,He.y)&&R(He.prev,He,He.next)>=0)return!1;He=He.prevZ}for(;Xe&&Xe.z<=ct;){if(Xe.x>=ke&&Xe.x<=De&&Xe.y>=we&&Xe.y<=Ve&&Xe!==B&&Xe!==j&&P(Q,ye,ie,be,de,Pe,Xe.x,Xe.y)&&R(Xe.prev,Xe,Xe.next)>=0)return!1;Xe=Xe.nextZ}return!0}function a(U,z,M){var $=U;do{var B=$.prev,O=$.next.next;!L(B,O)&&D(B,$,$.next,O)&&X(B,O)&&X(O,B)&&(z.push(B.i/M|0),z.push($.i/M|0),z.push(O.i/M|0),Z($),Z($.next),$=U=O),$=$.next}while($!==U);return t($)}function u(U,z,M,$,B,O){var j=U;do{for(var Q=j.next.next;Q!==j.prev;){if(j.i!==Q.i&&k(j,Q)){var ie=me(j,Q);j=t(j,j.next),ie=t(ie,ie.next),n(j,z,M,$,B,O,0),n(ie,z,M,$,B,O,0);return}Q=Q.next}j=j.next}while(j!==U)}function c(U,z,M,$){var B=[],O,j,Q,ie,de;for(O=0,j=z.length;O<j;O++)Q=z[O]*$,ie=O<j-1?z[O+1]*$:U.length,de=e(U,Q,ie,$,!1),de===de.next&&(de.steiner=!0),B.push(E(de));for(B.sort(f),O=0;O<B.length;O++)M=m(B[O],M);return M}function f(U,z){return U.x-z.x}function m(U,z){var M=g(U,z);if(!M)return z;var $=me(M,U);return t($,$.next),t(M,M.next)}function g(U,z){var M=z,$=U.x,B=U.y,O=-1/0,j;do{if(B<=M.y&&B>=M.next.y&&M.next.y!==M.y){var Q=M.x+(B-M.y)*(M.next.x-M.x)/(M.next.y-M.y);if(Q<=$&&Q>O&&(O=Q,j=M.x<M.next.x?M:M.next,Q===$))return j}M=M.next}while(M!==z);if(!j)return null;var ie=j,de=j.x,ye=j.y,be=1/0,Pe;M=j;do $>=M.x&&M.x>=de&&$!==M.x&&P(B<ye?$:O,B,de,ye,B<ye?O:$,B,M.x,M.y)&&(Pe=Math.abs(B-M.y)/($-M.x),X(M,U)&&(Pe<be||Pe===be&&(M.x>j.x||M.x===j.x&&v(j,M)))&&(j=M,be=Pe)),M=M.next;while(M!==ie);return j}function v(U,z){return R(U.prev,U,z.prev)<0&&R(z.next,U,U.next)<0}function x(U,z,M,$){var B=U;do B.z===0&&(B.z=b(B.x,B.y,z,M,$)),B.prevZ=B.prev,B.nextZ=B.next,B=B.next;while(B!==U);B.prevZ.nextZ=null,B.prevZ=null,S(B)}function S(U){var z,M,$,B,O,j,Q,ie,de=1;do{for(M=U,U=null,O=null,j=0;M;){for(j++,$=M,Q=0,z=0;z<de&&(Q++,$=$.nextZ,!!$);z++);for(ie=de;Q>0||ie>0&&$;)Q!==0&&(ie===0||!$||M.z<=$.z)?(B=M,M=M.nextZ,Q--):(B=$,$=$.nextZ,ie--),O?O.nextZ=B:U=B,B.prevZ=O,O=B;M=$}O.nextZ=null,de*=2}while(j>1);return U}function b(U,z,M,$,B){return U=(U-M)*B|0,z=(z-$)*B|0,U=(U|U<<8)&16711935,U=(U|U<<4)&252645135,U=(U|U<<2)&858993459,U=(U|U<<1)&1431655765,z=(z|z<<8)&16711935,z=(z|z<<4)&252645135,z=(z|z<<2)&858993459,z=(z|z<<1)&1431655765,U|z<<1}function E(U){var z=U,M=U;do(z.x<M.x||z.x===M.x&&z.y<M.y)&&(M=z),z=z.next;while(z!==U);return M}function P(U,z,M,$,B,O,j,Q){return(B-j)*(z-Q)>=(U-j)*(O-Q)&&(U-j)*($-Q)>=(M-j)*(z-Q)&&(M-j)*(O-Q)>=(B-j)*($-Q)}function k(U,z){return U.next.i!==z.i&&U.prev.i!==z.i&&!G(U,z)&&(X(U,z)&&X(z,U)&&re(U,z)&&(R(U.prev,U,z.prev)||R(U,z.prev,z))||L(U,z)&&R(U.prev,U,U.next)>0&&R(z.prev,z,z.next)>0)}function R(U,z,M){return(z.y-U.y)*(M.x-z.x)-(z.x-U.x)*(M.y-z.y)}function L(U,z){return U.x===z.x&&U.y===z.y}function D(U,z,M,$){var B=N(R(U,z,M)),O=N(R(U,z,$)),j=N(R(M,$,U)),Q=N(R(M,$,z));return!!(B!==O&&j!==Q||B===0&&H(U,M,z)||O===0&&H(U,$,z)||j===0&&H(M,U,$)||Q===0&&H(M,z,$))}function H(U,z,M){return z.x<=Math.max(U.x,M.x)&&z.x>=Math.min(U.x,M.x)&&z.y<=Math.max(U.y,M.y)&&z.y>=Math.min(U.y,M.y)}function N(U){return U>0?1:U<0?-1:0}function G(U,z){var M=U;do{if(M.i!==U.i&&M.next.i!==U.i&&M.i!==z.i&&M.next.i!==z.i&&D(M,M.next,U,z))return!0;M=M.next}while(M!==U);return!1}function X(U,z){return R(U.prev,U,U.next)<0?R(U,z,U.next)>=0&&R(U,U.prev,z)>=0:R(U,z,U.prev)<0||R(U,U.next,z)<0}function re(U,z){var M=U,$=!1,B=(U.x+z.x)/2,O=(U.y+z.y)/2;do M.y>O!=M.next.y>O&&M.next.y!==M.y&&B<(M.next.x-M.x)*(O-M.y)/(M.next.y-M.y)+M.x&&($=!$),M=M.next;while(M!==U);return $}function me(U,z){var M=new le(U.i,U.x,U.y),$=new le(z.i,z.x,z.y),B=U.next,O=z.prev;return U.next=z,z.prev=U,M.next=B,B.prev=M,$.next=M,M.prev=$,O.next=$,$.prev=O,$}function q(U,z,M,$){var B=new le(U,z,M);return $?(B.next=$.next,B.prev=$,$.next.prev=B,$.next=B):(B.prev=B,B.next=B),B}function Z(U){U.next.prev=U.prev,U.prev.next=U.next,U.prevZ&&(U.prevZ.nextZ=U.nextZ),U.nextZ&&(U.nextZ.prevZ=U.prevZ)}function le(U,z,M){this.i=U,this.x=z,this.y=M,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}r.deviation=function(U,z,M,$){var B=z&&z.length,O=B?z[0]*M:U.length,j=Math.abs(xe(U,0,O,M));if(B)for(var Q=0,ie=z.length;Q<ie;Q++){var de=z[Q]*M,ye=Q<ie-1?z[Q+1]*M:U.length;j-=Math.abs(xe(U,de,ye,M))}var be=0;for(Q=0;Q<$.length;Q+=3){var Pe=$[Q]*M,ke=$[Q+1]*M,we=$[Q+2]*M;be+=Math.abs((U[Pe]-U[we])*(U[ke+1]-U[Pe+1])-(U[Pe]-U[ke])*(U[we+1]-U[Pe+1]))}return j===0&&be===0?0:Math.abs((be-j)/j)};function xe(U,z,M,$){for(var B=0,O=z,j=M-$;O<M;O+=$)B+=(U[j]-U[O])*(U[O+1]+U[j+1]),j=O;return B}return r.flatten=function(U){for(var z=U[0][0].length,M={vertices:[],holes:[],dimensions:z},$=0,B=0;B<U.length;B++){for(var O=0;O<U[B].length;O++)for(var j=0;j<z;j++)M.vertices.push(U[B][O][j]);B>0&&($+=U[B-1].length,M.holes.push($))}return M},fm.exports}var kM=IM();const MM=Lg(kM);var Hu={},Sf={exports:{}};/*! https://mths.be/punycode v1.4.1 by @mathias */var DM=Sf.exports,Gw;function OM(){return Gw||(Gw=1,function(r,e){(function(t){var n=e&&!e.nodeType&&e,i=r&&!r.nodeType&&r,s=typeof sg=="object"&&sg;(s.global===s||s.window===s||s.self===s)&&(t=s);var a,u=2147483647,c=36,f=1,m=26,g=38,v=700,x=72,S=128,b="-",E=/^xn--/,P=/[^\x20-\x7E]/,k=/[\x2E\u3002\uFF0E\uFF61]/g,R={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},L=c-f,D=Math.floor,H=String.fromCharCode,N;function G(B){throw new RangeError(R[B])}function X(B,O){for(var j=B.length,Q=[];j--;)Q[j]=O(B[j]);return Q}function re(B,O){var j=B.split("@"),Q="";j.length>1&&(Q=j[0]+"@",B=j[1]),B=B.replace(k,".");var ie=B.split("."),de=X(ie,O).join(".");return Q+de}function me(B){for(var O=[],j=0,Q=B.length,ie,de;j<Q;)ie=B.charCodeAt(j++),ie>=55296&&ie<=56319&&j<Q?(de=B.charCodeAt(j++),(de&64512)==56320?O.push(((ie&1023)<<10)+(de&1023)+65536):(O.push(ie),j--)):O.push(ie);return O}function q(B){return X(B,function(O){var j="";return O>65535&&(O-=65536,j+=H(O>>>10&1023|55296),O=56320|O&1023),j+=H(O),j}).join("")}function Z(B){return B-48<10?B-22:B-65<26?B-65:B-97<26?B-97:c}function le(B,O){return B+22+75*(B<26)-((O!=0)<<5)}function xe(B,O,j){var Q=0;for(B=j?D(B/v):B>>1,B+=D(B/O);B>L*m>>1;Q+=c)B=D(B/L);return D(Q+(L+1)*B/(B+g))}function U(B){var O=[],j=B.length,Q,ie=0,de=S,ye=x,be,Pe,ke,we,De,Ve,We,ct,He;for(be=B.lastIndexOf(b),be<0&&(be=0),Pe=0;Pe<be;++Pe)B.charCodeAt(Pe)>=128&&G("not-basic"),O.push(B.charCodeAt(Pe));for(ke=be>0?be+1:0;ke<j;){for(we=ie,De=1,Ve=c;ke>=j&&G("invalid-input"),We=Z(B.charCodeAt(ke++)),(We>=c||We>D((u-ie)/De))&&G("overflow"),ie+=We*De,ct=Ve<=ye?f:Ve>=ye+m?m:Ve-ye,!(We<ct);Ve+=c)He=c-ct,De>D(u/He)&&G("overflow"),De*=He;Q=O.length+1,ye=xe(ie-we,Q,we==0),D(ie/Q)>u-de&&G("overflow"),de+=D(ie/Q),ie%=Q,O.splice(ie++,0,de)}return q(O)}function z(B){var O,j,Q,ie,de,ye,be,Pe,ke,we,De,Ve=[],We,ct,He,Xe;for(B=me(B),We=B.length,O=S,j=0,de=x,ye=0;ye<We;++ye)De=B[ye],De<128&&Ve.push(H(De));for(Q=ie=Ve.length,ie&&Ve.push(b);Q<We;){for(be=u,ye=0;ye<We;++ye)De=B[ye],De>=O&&De<be&&(be=De);for(ct=Q+1,be-O>D((u-j)/ct)&&G("overflow"),j+=(be-O)*ct,O=be,ye=0;ye<We;++ye)if(De=B[ye],De<O&&++j>u&&G("overflow"),De==O){for(Pe=j,ke=c;we=ke<=de?f:ke>=de+m?m:ke-de,!(Pe<we);ke+=c)Xe=Pe-we,He=c-we,Ve.push(H(le(we+Xe%He,0))),Pe=D(Xe/He);Ve.push(H(le(Pe,0))),de=xe(j,ct,Q==ie),j=0,++Q}++j,++O}return Ve.join("")}function M(B){return re(B,function(O){return E.test(O)?U(O.slice(4).toLowerCase()):O})}function $(B){return re(B,function(O){return P.test(O)?"xn--"+z(O):O})}if(a={version:"1.4.1",ucs2:{decode:me,encode:q},decode:U,encode:z,toASCII:$,toUnicode:M},n&&i)if(r.exports==n)i.exports=a;else for(N in a)a.hasOwnProperty(N)&&(n[N]=a[N]);else t.punycode=a})(DM)}(Sf,Sf.exports)),Sf.exports}var sv,jw;function ad(){return jw||(jw=1,sv=TypeError),sv}const NM={},FM=Object.freeze(Object.defineProperty({__proto__:null,default:NM},Symbol.toStringTag,{value:"Module"})),LM=PE(FM);var ov,Hw;function zg(){if(Hw)return ov;Hw=1;var r=typeof Map=="function"&&Map.prototype,e=Object.getOwnPropertyDescriptor&&r?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,t=r&&e&&typeof e.get=="function"?e.get:null,n=r&&Map.prototype.forEach,i=typeof Set=="function"&&Set.prototype,s=Object.getOwnPropertyDescriptor&&i?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,a=i&&s&&typeof s.get=="function"?s.get:null,u=i&&Set.prototype.forEach,c=typeof WeakMap=="function"&&WeakMap.prototype,f=c?WeakMap.prototype.has:null,m=typeof WeakSet=="function"&&WeakSet.prototype,g=m?WeakSet.prototype.has:null,v=typeof WeakRef=="function"&&WeakRef.prototype,x=v?WeakRef.prototype.deref:null,S=Boolean.prototype.valueOf,b=Object.prototype.toString,E=Function.prototype.toString,P=String.prototype.match,k=String.prototype.slice,R=String.prototype.replace,L=String.prototype.toUpperCase,D=String.prototype.toLowerCase,H=RegExp.prototype.test,N=Array.prototype.concat,G=Array.prototype.join,X=Array.prototype.slice,re=Math.floor,me=typeof BigInt=="function"?BigInt.prototype.valueOf:null,q=Object.getOwnPropertySymbols,Z=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,le=typeof Symbol=="function"&&typeof Symbol.iterator=="object",xe=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===le||!0)?Symbol.toStringTag:null,U=Object.prototype.propertyIsEnumerable,z=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(oe){return oe.__proto__}:null);function M(oe,ue){if(oe===1/0||oe===-1/0||oe!==oe||oe&&oe>-1e3&&oe<1e3||H.call(/e/,ue))return ue;var ft=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof oe=="number"){var Tt=oe<0?-re(-oe):re(oe);if(Tt!==oe){var Ct=String(Tt),it=k.call(ue,Ct.length+1);return R.call(Ct,ft,"$&_")+"."+R.call(R.call(it,/([0-9]{3})/g,"$&_"),/_$/,"")}}return R.call(ue,ft,"$&_")}var $=LM,B=$.custom,O=ct(B)?B:null,j={__proto__:null,double:'"',single:"'"},Q={__proto__:null,double:/(["\\])/g,single:/(['\\])/g};ov=function oe(ue,ft,Tt,Ct){var it=ft||{};if(Ft(it,"quoteStyle")&&!Ft(j,it.quoteStyle))throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Ft(it,"maxStringLength")&&(typeof it.maxStringLength=="number"?it.maxStringLength<0&&it.maxStringLength!==1/0:it.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var Zr=Ft(it,"customInspect")?it.customInspect:!0;if(typeof Zr!="boolean"&&Zr!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Ft(it,"indent")&&it.indent!==null&&it.indent!=="	"&&!(parseInt(it.indent,10)===it.indent&&it.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Ft(it,"numericSeparator")&&typeof it.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var Ui=it.numericSeparator;if(typeof ue>"u")return"undefined";if(ue===null)return"null";if(typeof ue=="boolean")return ue?"true":"false";if(typeof ue=="string")return Ea(ue,it);if(typeof ue=="number"){if(ue===0)return 1/0/ue>0?"0":"-0";var Dr=String(ue);return Ui?M(ue,Dr):Dr}if(typeof ue=="bigint"){var zn=String(ue)+"n";return Ui?M(ue,zn):zn}var Ra=typeof it.depth>"u"?5:it.depth;if(typeof Tt>"u"&&(Tt=0),Tt>=Ra&&Ra>0&&typeof ue=="object")return be(ue)?"[Array]":"[Object]";var mi=Eh(it,Tt);if(typeof Ct>"u")Ct=[];else if(Ar(Ct,ue)>=0)return"[Circular]";function zr(as,Oo,Rh){if(Oo&&(Ct=X.call(Ct),Ct.push(Oo)),Rh){var ql={depth:it.depth};return Ft(it,"quoteStyle")&&(ql.quoteStyle=it.quoteStyle),oe(as,ql,Tt+1,Ct)}return oe(as,it,Tt+1,Ct)}if(typeof ue=="function"&&!ke(ue)){var Ia=Li(ue),js=Pa(ue,zr);return"[Function"+(Ia?": "+Ia:" (anonymous)")+"]"+(js.length>0?" { "+G.call(js,", ")+" }":"")}if(ct(ue)){var ka=le?R.call(String(ue),/^(Symbol\(.*\))_[^)]*$/,"$1"):Z.call(ue);return typeof ue=="object"&&!le?Vs(ka):ka}if(Th(ue)){for(var gi="<"+D.call(String(ue.nodeName)),Ma=ue.attributes||[],Vn=0;Vn<Ma.length;Vn++)gi+=" "+Ma[Vn].name+"="+ie(de(Ma[Vn].value),"double",it);return gi+=">",ue.childNodes&&ue.childNodes.length&&(gi+="..."),gi+="</"+D.call(String(ue.nodeName))+">",gi}if(be(ue)){if(ue.length===0)return"[]";var Hs=Pa(ue,zr);return mi&&!cd(Hs)?"["+Ca(Hs,mi)+"]":"[ "+G.call(Hs,", ")+" ]"}if(we(ue)){var $s=Pa(ue,zr);return!("cause"in Error.prototype)&&"cause"in ue&&!U.call(ue,"cause")?"{ ["+String(ue)+"] "+G.call(N.call("[cause]: "+zr(ue.cause),$s),", ")+" }":$s.length===0?"["+String(ue)+"]":"{ ["+String(ue)+"] "+G.call($s,", ")+" }"}if(typeof ue=="object"&&Zr){if(O&&typeof ue[O]=="function"&&$)return $(ue,{depth:Ra-Tt});if(Zr!=="symbol"&&typeof ue.inspect=="function")return ue.inspect()}if(Cr(ue)){var os=[];return n&&n.call(ue,function(as,Oo){os.push(zr(Oo,ue,!0)+" => "+zr(as,ue))}),Gs("Map",t.call(ue),os,mi)}if(En(ue)){var Ah=[];return u&&u.call(ue,function(as){Ah.push(zr(as,ue))}),Gs("Set",a.call(ue),Ah,mi)}if(Bi(ue))return ss("WeakMap");if(bh(ue))return ss("WeakSet");if(is(ue))return ss("WeakRef");if(Ve(ue))return Vs(zr(Number(ue)));if(He(ue))return Vs(zr(me.call(ue)));if(We(ue))return Vs(S.call(ue));if(De(ue))return Vs(zr(String(ue)));if(typeof window<"u"&&ue===window)return"{ [object Window] }";if(typeof globalThis<"u"&&ue===globalThis||typeof sg<"u"&&ue===sg)return"{ [object globalThis] }";if(!Pe(ue)&&!ke(ue)){var Wl=Pa(ue,zr),Ch=z?z(ue)===Object.prototype:ue instanceof Object||ue.constructor===Object,yi=ue instanceof Object?"":"null prototype",Xl=!Ch&&xe&&Object(ue)===ue&&xe in ue?k.call(Xt(ue),8,-1):yi?"Object":"",Ph=Ch||typeof ue.constructor!="function"?"":ue.constructor.name?ue.constructor.name+" ":"",Yl=Ph+(Xl||yi?"["+G.call(N.call([],Xl||[],yi||[]),": ")+"] ":"");return Wl.length===0?Yl+"{}":mi?Yl+"{"+Ca(Wl,mi)+"}":Yl+"{ "+G.call(Wl,", ")+" }"}return String(ue)};function ie(oe,ue,ft){var Tt=ft.quoteStyle||ue,Ct=j[Tt];return Ct+oe+Ct}function de(oe){return R.call(String(oe),/"/g,"&quot;")}function ye(oe){return!xe||!(typeof oe=="object"&&(xe in oe||typeof oe[xe]<"u"))}function be(oe){return Xt(oe)==="[object Array]"&&ye(oe)}function Pe(oe){return Xt(oe)==="[object Date]"&&ye(oe)}function ke(oe){return Xt(oe)==="[object RegExp]"&&ye(oe)}function we(oe){return Xt(oe)==="[object Error]"&&ye(oe)}function De(oe){return Xt(oe)==="[object String]"&&ye(oe)}function Ve(oe){return Xt(oe)==="[object Number]"&&ye(oe)}function We(oe){return Xt(oe)==="[object Boolean]"&&ye(oe)}function ct(oe){if(le)return oe&&typeof oe=="object"&&oe instanceof Symbol;if(typeof oe=="symbol")return!0;if(!oe||typeof oe!="object"||!Z)return!1;try{return Z.call(oe),!0}catch{}return!1}function He(oe){if(!oe||typeof oe!="object"||!me)return!1;try{return me.call(oe),!0}catch{}return!1}var Xe=Object.prototype.hasOwnProperty||function(oe){return oe in this};function Ft(oe,ue){return Xe.call(oe,ue)}function Xt(oe){return b.call(oe)}function Li(oe){if(oe.name)return oe.name;var ue=P.call(E.call(oe),/^function\s*([\w$]+)/);return ue?ue[1]:null}function Ar(oe,ue){if(oe.indexOf)return oe.indexOf(ue);for(var ft=0,Tt=oe.length;ft<Tt;ft++)if(oe[ft]===ue)return ft;return-1}function Cr(oe){if(!t||!oe||typeof oe!="object")return!1;try{t.call(oe);try{a.call(oe)}catch{return!0}return oe instanceof Map}catch{}return!1}function Bi(oe){if(!f||!oe||typeof oe!="object")return!1;try{f.call(oe,f);try{g.call(oe,g)}catch{return!0}return oe instanceof WeakMap}catch{}return!1}function is(oe){if(!x||!oe||typeof oe!="object")return!1;try{return x.call(oe),!0}catch{}return!1}function En(oe){if(!a||!oe||typeof oe!="object")return!1;try{a.call(oe);try{t.call(oe)}catch{return!0}return oe instanceof Set}catch{}return!1}function bh(oe){if(!g||!oe||typeof oe!="object")return!1;try{g.call(oe,g);try{f.call(oe,f)}catch{return!0}return oe instanceof WeakSet}catch{}return!1}function Th(oe){return!oe||typeof oe!="object"?!1:typeof HTMLElement<"u"&&oe instanceof HTMLElement?!0:typeof oe.nodeName=="string"&&typeof oe.getAttribute=="function"}function Ea(oe,ue){if(oe.length>ue.maxStringLength){var ft=oe.length-ue.maxStringLength,Tt="... "+ft+" more character"+(ft>1?"s":"");return Ea(k.call(oe,0,ue.maxStringLength),ue)+Tt}var Ct=Q[ue.quoteStyle||"single"];Ct.lastIndex=0;var it=R.call(R.call(oe,Ct,"\\$1"),/[\x00-\x1f]/g,Aa);return ie(it,"single",ue)}function Aa(oe){var ue=oe.charCodeAt(0),ft={8:"b",9:"t",10:"n",12:"f",13:"r"}[ue];return ft?"\\"+ft:"\\x"+(ue<16?"0":"")+L.call(ue.toString(16))}function Vs(oe){return"Object("+oe+")"}function ss(oe){return oe+" { ? }"}function Gs(oe,ue,ft,Tt){var Ct=Tt?Ca(ft,Tt):G.call(ft,", ");return oe+" ("+ue+") {"+Ct+"}"}function cd(oe){for(var ue=0;ue<oe.length;ue++)if(Ar(oe[ue],`
`)>=0)return!1;return!0}function Eh(oe,ue){var ft;if(oe.indent==="	")ft="	";else if(typeof oe.indent=="number"&&oe.indent>0)ft=G.call(Array(oe.indent+1)," ");else return null;return{base:ft,prev:G.call(Array(ue+1),ft)}}function Ca(oe,ue){if(oe.length===0)return"";var ft=`
`+ue.prev+ue.base;return ft+G.call(oe,","+ft)+`
`+ue.prev}function Pa(oe,ue){var ft=be(oe),Tt=[];if(ft){Tt.length=oe.length;for(var Ct=0;Ct<oe.length;Ct++)Tt[Ct]=Ft(oe,Ct)?ue(oe[Ct],oe):""}var it=typeof q=="function"?q(oe):[],Zr;if(le){Zr={};for(var Ui=0;Ui<it.length;Ui++)Zr["$"+it[Ui]]=it[Ui]}for(var Dr in oe)Ft(oe,Dr)&&(ft&&String(Number(Dr))===Dr&&Dr<oe.length||le&&Zr["$"+Dr]instanceof Symbol||(H.call(/[^\w$]/,Dr)?Tt.push(ue(Dr,oe)+": "+ue(oe[Dr],oe)):Tt.push(Dr+": "+ue(oe[Dr],oe))));if(typeof q=="function")for(var zn=0;zn<it.length;zn++)U.call(oe,it[zn])&&Tt.push("["+ue(it[zn])+"]: "+ue(oe[it[zn]],oe));return Tt}return ov}var av,$w;function BM(){if($w)return av;$w=1;var r=zg(),e=ad(),t=function(u,c,f){for(var m=u,g;(g=m.next)!=null;m=g)if(g.key===c)return m.next=g.next,f||(g.next=u.next,u.next=g),g},n=function(u,c){if(u){var f=t(u,c);return f&&f.value}},i=function(u,c,f){var m=t(u,c);m?m.value=f:u.next={key:c,next:u.next,value:f}},s=function(u,c){return u?!!t(u,c):!1},a=function(u,c){if(u)return t(u,c,!0)};return av=function(){var c,f={assert:function(m){if(!f.has(m))throw new e("Side channel does not contain "+r(m))},delete:function(m){var g=c&&c.next,v=a(c,m);return v&&g&&g===v&&(c=void 0),!!v},get:function(m){return n(c,m)},has:function(m){return s(c,m)},set:function(m,g){c||(c={next:void 0}),i(c,m,g)}};return f},av}var lv,Ww;function KE(){return Ww||(Ww=1,lv=Object),lv}var uv,Xw;function UM(){return Xw||(Xw=1,uv=Error),uv}var hv,Yw;function zM(){return Yw||(Yw=1,hv=EvalError),hv}var cv,qw;function VM(){return qw||(qw=1,cv=RangeError),cv}var dv,Kw;function GM(){return Kw||(Kw=1,dv=ReferenceError),dv}var fv,Qw;function jM(){return Qw||(Qw=1,fv=SyntaxError),fv}var pv,Zw;function HM(){return Zw||(Zw=1,pv=URIError),pv}var mv,Jw;function $M(){return Jw||(Jw=1,mv=Math.abs),mv}var gv,eS;function WM(){return eS||(eS=1,gv=Math.floor),gv}var yv,tS;function XM(){return tS||(tS=1,yv=Math.max),yv}var vv,rS;function YM(){return rS||(rS=1,vv=Math.min),vv}var _v,nS;function qM(){return nS||(nS=1,_v=Math.pow),_v}var xv,iS;function KM(){return iS||(iS=1,xv=Math.round),xv}var wv,sS;function QM(){return sS||(sS=1,wv=Number.isNaN||function(e){return e!==e}),wv}var Sv,oS;function ZM(){if(oS)return Sv;oS=1;var r=QM();return Sv=function(t){return r(t)||t===0?t:t<0?-1:1},Sv}var bv,aS;function JM(){return aS||(aS=1,bv=Object.getOwnPropertyDescriptor),bv}var Tv,lS;function QE(){if(lS)return Tv;lS=1;var r=JM();if(r)try{r([],"length")}catch{r=null}return Tv=r,Tv}var Ev,uS;function e2(){if(uS)return Ev;uS=1;var r=Object.defineProperty||!1;if(r)try{r({},"a",{value:1})}catch{r=!1}return Ev=r,Ev}var Av,hS;function t2(){return hS||(hS=1,Av=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},t=Symbol("test"),n=Object(t);if(typeof t=="string"||Object.prototype.toString.call(t)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;e[t]=i;for(var s in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var a=Object.getOwnPropertySymbols(e);if(a.length!==1||a[0]!==t||!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var u=Object.getOwnPropertyDescriptor(e,t);if(u.value!==i||u.enumerable!==!0)return!1}return!0}),Av}var Cv,cS;function r2(){if(cS)return Cv;cS=1;var r=typeof Symbol<"u"&&Symbol,e=t2();return Cv=function(){return typeof r!="function"||typeof Symbol!="function"||typeof r("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:e()},Cv}var Pv,dS;function ZE(){return dS||(dS=1,Pv=typeof Reflect<"u"&&Reflect.getPrototypeOf||null),Pv}var Rv,fS;function JE(){if(fS)return Rv;fS=1;var r=KE();return Rv=r.getPrototypeOf||null,Rv}var Iv,pS;function n2(){if(pS)return Iv;pS=1;var r="Function.prototype.bind called on incompatible ",e=Object.prototype.toString,t=Math.max,n="[object Function]",i=function(c,f){for(var m=[],g=0;g<c.length;g+=1)m[g]=c[g];for(var v=0;v<f.length;v+=1)m[v+c.length]=f[v];return m},s=function(c,f){for(var m=[],g=f,v=0;g<c.length;g+=1,v+=1)m[v]=c[g];return m},a=function(u,c){for(var f="",m=0;m<u.length;m+=1)f+=u[m],m+1<u.length&&(f+=c);return f};return Iv=function(c){var f=this;if(typeof f!="function"||e.apply(f)!==n)throw new TypeError(r+f);for(var m=s(arguments,1),g,v=function(){if(this instanceof g){var P=f.apply(this,i(m,arguments));return Object(P)===P?P:this}return f.apply(c,i(m,arguments))},x=t(0,f.length-m.length),S=[],b=0;b<x;b++)S[b]="$"+b;if(g=Function("binder","return function ("+a(S,",")+"){ return binder.apply(this,arguments); }")(v),f.prototype){var E=function(){};E.prototype=f.prototype,g.prototype=new E,E.prototype=null}return g},Iv}var kv,mS;function Vg(){if(mS)return kv;mS=1;var r=n2();return kv=Function.prototype.bind||r,kv}var Mv,gS;function bx(){return gS||(gS=1,Mv=Function.prototype.call),Mv}var Dv,yS;function eA(){return yS||(yS=1,Dv=Function.prototype.apply),Dv}var Ov,vS;function i2(){return vS||(vS=1,Ov=typeof Reflect<"u"&&Reflect&&Reflect.apply),Ov}var Nv,_S;function s2(){if(_S)return Nv;_S=1;var r=Vg(),e=eA(),t=bx(),n=i2();return Nv=n||r.call(t,e),Nv}var Fv,xS;function tA(){if(xS)return Fv;xS=1;var r=Vg(),e=ad(),t=bx(),n=s2();return Fv=function(s){if(s.length<1||typeof s[0]!="function")throw new e("a function is required");return n(r,t,s)},Fv}var Lv,wS;function o2(){if(wS)return Lv;wS=1;var r=tA(),e=QE(),t;try{t=[].__proto__===Array.prototype}catch(a){if(!a||typeof a!="object"||!("code"in a)||a.code!=="ERR_PROTO_ACCESS")throw a}var n=!!t&&e&&e(Object.prototype,"__proto__"),i=Object,s=i.getPrototypeOf;return Lv=n&&typeof n.get=="function"?r([n.get]):typeof s=="function"?function(u){return s(u==null?u:i(u))}:!1,Lv}var Bv,SS;function a2(){if(SS)return Bv;SS=1;var r=ZE(),e=JE(),t=o2();return Bv=r?function(i){return r(i)}:e?function(i){if(!i||typeof i!="object"&&typeof i!="function")throw new TypeError("getProto: not an object");return e(i)}:t?function(i){return t(i)}:null,Bv}var Uv,bS;function l2(){if(bS)return Uv;bS=1;var r=Function.prototype.call,e=Object.prototype.hasOwnProperty,t=Vg();return Uv=t.call(r,e),Uv}var zv,TS;function Tx(){if(TS)return zv;TS=1;var r,e=KE(),t=UM(),n=zM(),i=VM(),s=GM(),a=jM(),u=ad(),c=HM(),f=$M(),m=WM(),g=XM(),v=YM(),x=qM(),S=KM(),b=ZM(),E=Function,P=function(ke){try{return E('"use strict"; return ('+ke+").constructor;")()}catch{}},k=QE(),R=e2(),L=function(){throw new u},D=k?function(){try{return arguments.callee,L}catch{try{return k(arguments,"callee").get}catch{return L}}}():L,H=r2()(),N=a2(),G=JE(),X=ZE(),re=eA(),me=bx(),q={},Z=typeof Uint8Array>"u"||!N?r:N(Uint8Array),le={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?r:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?r:ArrayBuffer,"%ArrayIteratorPrototype%":H&&N?N([][Symbol.iterator]()):r,"%AsyncFromSyncIteratorPrototype%":r,"%AsyncFunction%":q,"%AsyncGenerator%":q,"%AsyncGeneratorFunction%":q,"%AsyncIteratorPrototype%":q,"%Atomics%":typeof Atomics>"u"?r:Atomics,"%BigInt%":typeof BigInt>"u"?r:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?r:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?r:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?r:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":t,"%eval%":eval,"%EvalError%":n,"%Float32Array%":typeof Float32Array>"u"?r:Float32Array,"%Float64Array%":typeof Float64Array>"u"?r:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?r:FinalizationRegistry,"%Function%":E,"%GeneratorFunction%":q,"%Int8Array%":typeof Int8Array>"u"?r:Int8Array,"%Int16Array%":typeof Int16Array>"u"?r:Int16Array,"%Int32Array%":typeof Int32Array>"u"?r:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":H&&N?N(N([][Symbol.iterator]())):r,"%JSON%":typeof JSON=="object"?JSON:r,"%Map%":typeof Map>"u"?r:Map,"%MapIteratorPrototype%":typeof Map>"u"||!H||!N?r:N(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":e,"%Object.getOwnPropertyDescriptor%":k,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?r:Promise,"%Proxy%":typeof Proxy>"u"?r:Proxy,"%RangeError%":i,"%ReferenceError%":s,"%Reflect%":typeof Reflect>"u"?r:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?r:Set,"%SetIteratorPrototype%":typeof Set>"u"||!H||!N?r:N(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?r:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":H&&N?N(""[Symbol.iterator]()):r,"%Symbol%":H?Symbol:r,"%SyntaxError%":a,"%ThrowTypeError%":D,"%TypedArray%":Z,"%TypeError%":u,"%Uint8Array%":typeof Uint8Array>"u"?r:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?r:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?r:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?r:Uint32Array,"%URIError%":c,"%WeakMap%":typeof WeakMap>"u"?r:WeakMap,"%WeakRef%":typeof WeakRef>"u"?r:WeakRef,"%WeakSet%":typeof WeakSet>"u"?r:WeakSet,"%Function.prototype.call%":me,"%Function.prototype.apply%":re,"%Object.defineProperty%":R,"%Object.getPrototypeOf%":G,"%Math.abs%":f,"%Math.floor%":m,"%Math.max%":g,"%Math.min%":v,"%Math.pow%":x,"%Math.round%":S,"%Math.sign%":b,"%Reflect.getPrototypeOf%":X};if(N)try{null.error}catch(ke){var xe=N(N(ke));le["%Error.prototype%"]=xe}var U=function ke(we){var De;if(we==="%AsyncFunction%")De=P("async function () {}");else if(we==="%GeneratorFunction%")De=P("function* () {}");else if(we==="%AsyncGeneratorFunction%")De=P("async function* () {}");else if(we==="%AsyncGenerator%"){var Ve=ke("%AsyncGeneratorFunction%");Ve&&(De=Ve.prototype)}else if(we==="%AsyncIteratorPrototype%"){var We=ke("%AsyncGenerator%");We&&N&&(De=N(We.prototype))}return le[we]=De,De},z={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},M=Vg(),$=l2(),B=M.call(me,Array.prototype.concat),O=M.call(re,Array.prototype.splice),j=M.call(me,String.prototype.replace),Q=M.call(me,String.prototype.slice),ie=M.call(me,RegExp.prototype.exec),de=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,ye=/\\(\\)?/g,be=function(we){var De=Q(we,0,1),Ve=Q(we,-1);if(De==="%"&&Ve!=="%")throw new a("invalid intrinsic syntax, expected closing `%`");if(Ve==="%"&&De!=="%")throw new a("invalid intrinsic syntax, expected opening `%`");var We=[];return j(we,de,function(ct,He,Xe,Ft){We[We.length]=Xe?j(Ft,ye,"$1"):He||ct}),We},Pe=function(we,De){var Ve=we,We;if($(z,Ve)&&(We=z[Ve],Ve="%"+We[0]+"%"),$(le,Ve)){var ct=le[Ve];if(ct===q&&(ct=U(Ve)),typeof ct>"u"&&!De)throw new u("intrinsic "+we+" exists, but is not available. Please file an issue!");return{alias:We,name:Ve,value:ct}}throw new a("intrinsic "+we+" does not exist!")};return zv=function(we,De){if(typeof we!="string"||we.length===0)throw new u("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof De!="boolean")throw new u('"allowMissing" argument must be a boolean');if(ie(/^%?[^%]*%?$/,we)===null)throw new a("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var Ve=be(we),We=Ve.length>0?Ve[0]:"",ct=Pe("%"+We+"%",De),He=ct.name,Xe=ct.value,Ft=!1,Xt=ct.alias;Xt&&(We=Xt[0],O(Ve,B([0,1],Xt)));for(var Li=1,Ar=!0;Li<Ve.length;Li+=1){var Cr=Ve[Li],Bi=Q(Cr,0,1),is=Q(Cr,-1);if((Bi==='"'||Bi==="'"||Bi==="`"||is==='"'||is==="'"||is==="`")&&Bi!==is)throw new a("property names with quotes must have matching quotes");if((Cr==="constructor"||!Ar)&&(Ft=!0),We+="."+Cr,He="%"+We+"%",$(le,He))Xe=le[He];else if(Xe!=null){if(!(Cr in Xe)){if(!De)throw new u("base intrinsic for "+we+" exists, but the property is not available.");return}if(k&&Li+1>=Ve.length){var En=k(Xe,Cr);Ar=!!En,Ar&&"get"in En&&!("originalValue"in En.get)?Xe=En.get:Xe=Xe[Cr]}else Ar=$(Xe,Cr),Xe=Xe[Cr];Ar&&!Ft&&(le[He]=Xe)}}return Xe},zv}var Vv,ES;function rA(){if(ES)return Vv;ES=1;var r=Tx(),e=tA(),t=e([r("%String.prototype.indexOf%")]);return Vv=function(i,s){var a=r(i,!!s);return typeof a=="function"&&t(i,".prototype.")>-1?e([a]):a},Vv}var Gv,AS;function nA(){if(AS)return Gv;AS=1;var r=Tx(),e=rA(),t=zg(),n=ad(),i=r("%Map%",!0),s=e("Map.prototype.get",!0),a=e("Map.prototype.set",!0),u=e("Map.prototype.has",!0),c=e("Map.prototype.delete",!0),f=e("Map.prototype.size",!0);return Gv=!!i&&function(){var g,v={assert:function(x){if(!v.has(x))throw new n("Side channel does not contain "+t(x))},delete:function(x){if(g){var S=c(g,x);return f(g)===0&&(g=void 0),S}return!1},get:function(x){if(g)return s(g,x)},has:function(x){return g?u(g,x):!1},set:function(x,S){g||(g=new i),a(g,x,S)}};return v},Gv}var jv,CS;function u2(){if(CS)return jv;CS=1;var r=Tx(),e=rA(),t=zg(),n=nA(),i=ad(),s=r("%WeakMap%",!0),a=e("WeakMap.prototype.get",!0),u=e("WeakMap.prototype.set",!0),c=e("WeakMap.prototype.has",!0),f=e("WeakMap.prototype.delete",!0);return jv=s?function(){var g,v,x={assert:function(S){if(!x.has(S))throw new i("Side channel does not contain "+t(S))},delete:function(S){if(s&&S&&(typeof S=="object"||typeof S=="function")){if(g)return f(g,S)}else if(n&&v)return v.delete(S);return!1},get:function(S){return s&&S&&(typeof S=="object"||typeof S=="function")&&g?a(g,S):v&&v.get(S)},has:function(S){return s&&S&&(typeof S=="object"||typeof S=="function")&&g?c(g,S):!!v&&v.has(S)},set:function(S,b){s&&S&&(typeof S=="object"||typeof S=="function")?(g||(g=new s),u(g,S,b)):n&&(v||(v=n()),v.set(S,b))}};return x}:n,jv}var Hv,PS;function h2(){if(PS)return Hv;PS=1;var r=ad(),e=zg(),t=BM(),n=nA(),i=u2(),s=i||n||t;return Hv=function(){var u,c={assert:function(f){if(!c.has(f))throw new r("Side channel does not contain "+e(f))},delete:function(f){return!!u&&u.delete(f)},get:function(f){return u&&u.get(f)},has:function(f){return!!u&&u.has(f)},set:function(f,m){u||(u=s()),u.set(f,m)}};return c},Hv}var $v,RS;function Ex(){if(RS)return $v;RS=1;var r=String.prototype.replace,e=/%20/g,t={RFC1738:"RFC1738",RFC3986:"RFC3986"};return $v={default:t.RFC3986,formatters:{RFC1738:function(n){return r.call(n,e,"+")},RFC3986:function(n){return String(n)}},RFC1738:t.RFC1738,RFC3986:t.RFC3986},$v}var Wv,IS;function iA(){if(IS)return Wv;IS=1;var r=Ex(),e=Object.prototype.hasOwnProperty,t=Array.isArray,n=function(){for(var E=[],P=0;P<256;++P)E.push("%"+((P<16?"0":"")+P.toString(16)).toUpperCase());return E}(),i=function(P){for(;P.length>1;){var k=P.pop(),R=k.obj[k.prop];if(t(R)){for(var L=[],D=0;D<R.length;++D)typeof R[D]<"u"&&L.push(R[D]);k.obj[k.prop]=L}}},s=function(P,k){for(var R=k&&k.plainObjects?{__proto__:null}:{},L=0;L<P.length;++L)typeof P[L]<"u"&&(R[L]=P[L]);return R},a=function E(P,k,R){if(!k)return P;if(typeof k!="object"&&typeof k!="function"){if(t(P))P.push(k);else if(P&&typeof P=="object")(R&&(R.plainObjects||R.allowPrototypes)||!e.call(Object.prototype,k))&&(P[k]=!0);else return[P,k];return P}if(!P||typeof P!="object")return[P].concat(k);var L=P;return t(P)&&!t(k)&&(L=s(P,R)),t(P)&&t(k)?(k.forEach(function(D,H){if(e.call(P,H)){var N=P[H];N&&typeof N=="object"&&D&&typeof D=="object"?P[H]=E(N,D,R):P.push(D)}else P[H]=D}),P):Object.keys(k).reduce(function(D,H){var N=k[H];return e.call(D,H)?D[H]=E(D[H],N,R):D[H]=N,D},L)},u=function(P,k){return Object.keys(k).reduce(function(R,L){return R[L]=k[L],R},P)},c=function(E,P,k){var R=E.replace(/\+/g," ");if(k==="iso-8859-1")return R.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(R)}catch{return R}},f=1024,m=function(P,k,R,L,D){if(P.length===0)return P;var H=P;if(typeof P=="symbol"?H=Symbol.prototype.toString.call(P):typeof P!="string"&&(H=String(P)),R==="iso-8859-1")return escape(H).replace(/%u[0-9a-f]{4}/gi,function(Z){return"%26%23"+parseInt(Z.slice(2),16)+"%3B"});for(var N="",G=0;G<H.length;G+=f){for(var X=H.length>=f?H.slice(G,G+f):H,re=[],me=0;me<X.length;++me){var q=X.charCodeAt(me);if(q===45||q===46||q===95||q===126||q>=48&&q<=57||q>=65&&q<=90||q>=97&&q<=122||D===r.RFC1738&&(q===40||q===41)){re[re.length]=X.charAt(me);continue}if(q<128){re[re.length]=n[q];continue}if(q<2048){re[re.length]=n[192|q>>6]+n[128|q&63];continue}if(q<55296||q>=57344){re[re.length]=n[224|q>>12]+n[128|q>>6&63]+n[128|q&63];continue}me+=1,q=65536+((q&1023)<<10|X.charCodeAt(me)&1023),re[re.length]=n[240|q>>18]+n[128|q>>12&63]+n[128|q>>6&63]+n[128|q&63]}N+=re.join("")}return N},g=function(P){for(var k=[{obj:{o:P},prop:"o"}],R=[],L=0;L<k.length;++L)for(var D=k[L],H=D.obj[D.prop],N=Object.keys(H),G=0;G<N.length;++G){var X=N[G],re=H[X];typeof re=="object"&&re!==null&&R.indexOf(re)===-1&&(k.push({obj:H,prop:X}),R.push(re))}return i(k),P},v=function(P){return Object.prototype.toString.call(P)==="[object RegExp]"},x=function(P){return!P||typeof P!="object"?!1:!!(P.constructor&&P.constructor.isBuffer&&P.constructor.isBuffer(P))},S=function(P,k){return[].concat(P,k)},b=function(P,k){if(t(P)){for(var R=[],L=0;L<P.length;L+=1)R.push(k(P[L]));return R}return k(P)};return Wv={arrayToObject:s,assign:u,combine:S,compact:g,decode:c,encode:m,isBuffer:x,isRegExp:v,maybeMap:b,merge:a},Wv}var Xv,kS;function c2(){if(kS)return Xv;kS=1;var r=h2(),e=iA(),t=Ex(),n=Object.prototype.hasOwnProperty,i={brackets:function(E){return E+"[]"},comma:"comma",indices:function(E,P){return E+"["+P+"]"},repeat:function(E){return E}},s=Array.isArray,a=Array.prototype.push,u=function(b,E){a.apply(b,s(E)?E:[E])},c=Date.prototype.toISOString,f=t.default,m={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,commaRoundTrip:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:e.encode,encodeValuesOnly:!1,filter:void 0,format:f,formatter:t.formatters[f],indices:!1,serializeDate:function(E){return c.call(E)},skipNulls:!1,strictNullHandling:!1},g=function(E){return typeof E=="string"||typeof E=="number"||typeof E=="boolean"||typeof E=="symbol"||typeof E=="bigint"},v={},x=function b(E,P,k,R,L,D,H,N,G,X,re,me,q,Z,le,xe,U,z){for(var M=E,$=z,B=0,O=!1;($=$.get(v))!==void 0&&!O;){var j=$.get(E);if(B+=1,typeof j<"u"){if(j===B)throw new RangeError("Cyclic object value");O=!0}typeof $.get(v)>"u"&&(B=0)}if(typeof X=="function"?M=X(P,M):M instanceof Date?M=q(M):k==="comma"&&s(M)&&(M=e.maybeMap(M,function(He){return He instanceof Date?q(He):He})),M===null){if(D)return G&&!xe?G(P,m.encoder,U,"key",Z):P;M=""}if(g(M)||e.isBuffer(M)){if(G){var Q=xe?P:G(P,m.encoder,U,"key",Z);return[le(Q)+"="+le(G(M,m.encoder,U,"value",Z))]}return[le(P)+"="+le(String(M))]}var ie=[];if(typeof M>"u")return ie;var de;if(k==="comma"&&s(M))xe&&G&&(M=e.maybeMap(M,G)),de=[{value:M.length>0?M.join(",")||null:void 0}];else if(s(X))de=X;else{var ye=Object.keys(M);de=re?ye.sort(re):ye}var be=N?String(P).replace(/\./g,"%2E"):String(P),Pe=R&&s(M)&&M.length===1?be+"[]":be;if(L&&s(M)&&M.length===0)return Pe+"[]";for(var ke=0;ke<de.length;++ke){var we=de[ke],De=typeof we=="object"&&we&&typeof we.value<"u"?we.value:M[we];if(!(H&&De===null)){var Ve=me&&N?String(we).replace(/\./g,"%2E"):String(we),We=s(M)?typeof k=="function"?k(Pe,Ve):Pe:Pe+(me?"."+Ve:"["+Ve+"]");z.set(E,B);var ct=r();ct.set(v,z),u(ie,b(De,We,k,R,L,D,H,N,k==="comma"&&xe&&s(M)?null:G,X,re,me,q,Z,le,xe,U,ct))}}return ie},S=function(E){if(!E)return m;if(typeof E.allowEmptyArrays<"u"&&typeof E.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof E.encodeDotInKeys<"u"&&typeof E.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(E.encoder!==null&&typeof E.encoder<"u"&&typeof E.encoder!="function")throw new TypeError("Encoder has to be a function.");var P=E.charset||m.charset;if(typeof E.charset<"u"&&E.charset!=="utf-8"&&E.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var k=t.default;if(typeof E.format<"u"){if(!n.call(t.formatters,E.format))throw new TypeError("Unknown format option provided.");k=E.format}var R=t.formatters[k],L=m.filter;(typeof E.filter=="function"||s(E.filter))&&(L=E.filter);var D;if(E.arrayFormat in i?D=E.arrayFormat:"indices"in E?D=E.indices?"indices":"repeat":D=m.arrayFormat,"commaRoundTrip"in E&&typeof E.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var H=typeof E.allowDots>"u"?E.encodeDotInKeys===!0?!0:m.allowDots:!!E.allowDots;return{addQueryPrefix:typeof E.addQueryPrefix=="boolean"?E.addQueryPrefix:m.addQueryPrefix,allowDots:H,allowEmptyArrays:typeof E.allowEmptyArrays=="boolean"?!!E.allowEmptyArrays:m.allowEmptyArrays,arrayFormat:D,charset:P,charsetSentinel:typeof E.charsetSentinel=="boolean"?E.charsetSentinel:m.charsetSentinel,commaRoundTrip:!!E.commaRoundTrip,delimiter:typeof E.delimiter>"u"?m.delimiter:E.delimiter,encode:typeof E.encode=="boolean"?E.encode:m.encode,encodeDotInKeys:typeof E.encodeDotInKeys=="boolean"?E.encodeDotInKeys:m.encodeDotInKeys,encoder:typeof E.encoder=="function"?E.encoder:m.encoder,encodeValuesOnly:typeof E.encodeValuesOnly=="boolean"?E.encodeValuesOnly:m.encodeValuesOnly,filter:L,format:k,formatter:R,serializeDate:typeof E.serializeDate=="function"?E.serializeDate:m.serializeDate,skipNulls:typeof E.skipNulls=="boolean"?E.skipNulls:m.skipNulls,sort:typeof E.sort=="function"?E.sort:null,strictNullHandling:typeof E.strictNullHandling=="boolean"?E.strictNullHandling:m.strictNullHandling}};return Xv=function(b,E){var P=b,k=S(E),R,L;typeof k.filter=="function"?(L=k.filter,P=L("",P)):s(k.filter)&&(L=k.filter,R=L);var D=[];if(typeof P!="object"||P===null)return"";var H=i[k.arrayFormat],N=H==="comma"&&k.commaRoundTrip;R||(R=Object.keys(P)),k.sort&&R.sort(k.sort);for(var G=r(),X=0;X<R.length;++X){var re=R[X],me=P[re];k.skipNulls&&me===null||u(D,x(me,re,H,N,k.allowEmptyArrays,k.strictNullHandling,k.skipNulls,k.encodeDotInKeys,k.encode?k.encoder:null,k.filter,k.sort,k.allowDots,k.serializeDate,k.format,k.formatter,k.encodeValuesOnly,k.charset,G))}var q=D.join(k.delimiter),Z=k.addQueryPrefix===!0?"?":"";return k.charsetSentinel&&(k.charset==="iso-8859-1"?Z+="utf8=%26%2310003%3B&":Z+="utf8=%E2%9C%93&"),q.length>0?Z+q:""},Xv}var Yv,MS;function d2(){if(MS)return Yv;MS=1;var r=iA(),e=Object.prototype.hasOwnProperty,t=Array.isArray,n={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:r.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1,throwOnLimitExceeded:!1},i=function(v){return v.replace(/&#(\d+);/g,function(x,S){return String.fromCharCode(parseInt(S,10))})},s=function(v,x,S){if(v&&typeof v=="string"&&x.comma&&v.indexOf(",")>-1)return v.split(",");if(x.throwOnLimitExceeded&&S>=x.arrayLimit)throw new RangeError("Array limit exceeded. Only "+x.arrayLimit+" element"+(x.arrayLimit===1?"":"s")+" allowed in an array.");return v},a="utf8=%26%2310003%3B",u="utf8=%E2%9C%93",c=function(x,S){var b={__proto__:null},E=S.ignoreQueryPrefix?x.replace(/^\?/,""):x;E=E.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var P=S.parameterLimit===1/0?void 0:S.parameterLimit,k=E.split(S.delimiter,S.throwOnLimitExceeded?P+1:P);if(S.throwOnLimitExceeded&&k.length>P)throw new RangeError("Parameter limit exceeded. Only "+P+" parameter"+(P===1?"":"s")+" allowed.");var R=-1,L,D=S.charset;if(S.charsetSentinel)for(L=0;L<k.length;++L)k[L].indexOf("utf8=")===0&&(k[L]===u?D="utf-8":k[L]===a&&(D="iso-8859-1"),R=L,L=k.length);for(L=0;L<k.length;++L)if(L!==R){var H=k[L],N=H.indexOf("]="),G=N===-1?H.indexOf("="):N+1,X,re;G===-1?(X=S.decoder(H,n.decoder,D,"key"),re=S.strictNullHandling?null:""):(X=S.decoder(H.slice(0,G),n.decoder,D,"key"),re=r.maybeMap(s(H.slice(G+1),S,t(b[X])?b[X].length:0),function(q){return S.decoder(q,n.decoder,D,"value")})),re&&S.interpretNumericEntities&&D==="iso-8859-1"&&(re=i(String(re))),H.indexOf("[]=")>-1&&(re=t(re)?[re]:re);var me=e.call(b,X);me&&S.duplicates==="combine"?b[X]=r.combine(b[X],re):(!me||S.duplicates==="last")&&(b[X]=re)}return b},f=function(v,x,S,b){var E=0;if(v.length>0&&v[v.length-1]==="[]"){var P=v.slice(0,-1).join("");E=Array.isArray(x)&&x[P]?x[P].length:0}for(var k=b?x:s(x,S,E),R=v.length-1;R>=0;--R){var L,D=v[R];if(D==="[]"&&S.parseArrays)L=S.allowEmptyArrays&&(k===""||S.strictNullHandling&&k===null)?[]:r.combine([],k);else{L=S.plainObjects?{__proto__:null}:{};var H=D.charAt(0)==="["&&D.charAt(D.length-1)==="]"?D.slice(1,-1):D,N=S.decodeDotInKeys?H.replace(/%2E/g,"."):H,G=parseInt(N,10);!S.parseArrays&&N===""?L={0:k}:!isNaN(G)&&D!==N&&String(G)===N&&G>=0&&S.parseArrays&&G<=S.arrayLimit?(L=[],L[G]=k):N!=="__proto__"&&(L[N]=k)}k=L}return k},m=function(x,S,b,E){if(x){var P=b.allowDots?x.replace(/\.([^.[]+)/g,"[$1]"):x,k=/(\[[^[\]]*])/,R=/(\[[^[\]]*])/g,L=b.depth>0&&k.exec(P),D=L?P.slice(0,L.index):P,H=[];if(D){if(!b.plainObjects&&e.call(Object.prototype,D)&&!b.allowPrototypes)return;H.push(D)}for(var N=0;b.depth>0&&(L=R.exec(P))!==null&&N<b.depth;){if(N+=1,!b.plainObjects&&e.call(Object.prototype,L[1].slice(1,-1))&&!b.allowPrototypes)return;H.push(L[1])}if(L){if(b.strictDepth===!0)throw new RangeError("Input depth exceeded depth option of "+b.depth+" and strictDepth is true");H.push("["+P.slice(L.index)+"]")}return f(H,S,b,E)}},g=function(x){if(!x)return n;if(typeof x.allowEmptyArrays<"u"&&typeof x.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof x.decodeDotInKeys<"u"&&typeof x.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(x.decoder!==null&&typeof x.decoder<"u"&&typeof x.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof x.charset<"u"&&x.charset!=="utf-8"&&x.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");if(typeof x.throwOnLimitExceeded<"u"&&typeof x.throwOnLimitExceeded!="boolean")throw new TypeError("`throwOnLimitExceeded` option must be a boolean");var S=typeof x.charset>"u"?n.charset:x.charset,b=typeof x.duplicates>"u"?n.duplicates:x.duplicates;if(b!=="combine"&&b!=="first"&&b!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var E=typeof x.allowDots>"u"?x.decodeDotInKeys===!0?!0:n.allowDots:!!x.allowDots;return{allowDots:E,allowEmptyArrays:typeof x.allowEmptyArrays=="boolean"?!!x.allowEmptyArrays:n.allowEmptyArrays,allowPrototypes:typeof x.allowPrototypes=="boolean"?x.allowPrototypes:n.allowPrototypes,allowSparse:typeof x.allowSparse=="boolean"?x.allowSparse:n.allowSparse,arrayLimit:typeof x.arrayLimit=="number"?x.arrayLimit:n.arrayLimit,charset:S,charsetSentinel:typeof x.charsetSentinel=="boolean"?x.charsetSentinel:n.charsetSentinel,comma:typeof x.comma=="boolean"?x.comma:n.comma,decodeDotInKeys:typeof x.decodeDotInKeys=="boolean"?x.decodeDotInKeys:n.decodeDotInKeys,decoder:typeof x.decoder=="function"?x.decoder:n.decoder,delimiter:typeof x.delimiter=="string"||r.isRegExp(x.delimiter)?x.delimiter:n.delimiter,depth:typeof x.depth=="number"||x.depth===!1?+x.depth:n.depth,duplicates:b,ignoreQueryPrefix:x.ignoreQueryPrefix===!0,interpretNumericEntities:typeof x.interpretNumericEntities=="boolean"?x.interpretNumericEntities:n.interpretNumericEntities,parameterLimit:typeof x.parameterLimit=="number"?x.parameterLimit:n.parameterLimit,parseArrays:x.parseArrays!==!1,plainObjects:typeof x.plainObjects=="boolean"?x.plainObjects:n.plainObjects,strictDepth:typeof x.strictDepth=="boolean"?!!x.strictDepth:n.strictDepth,strictNullHandling:typeof x.strictNullHandling=="boolean"?x.strictNullHandling:n.strictNullHandling,throwOnLimitExceeded:typeof x.throwOnLimitExceeded=="boolean"?x.throwOnLimitExceeded:!1}};return Yv=function(v,x){var S=g(x);if(v===""||v===null||typeof v>"u")return S.plainObjects?{__proto__:null}:{};for(var b=typeof v=="string"?c(v,S):v,E=S.plainObjects?{__proto__:null}:{},P=Object.keys(b),k=0;k<P.length;++k){var R=P[k],L=m(R,b[R],S,typeof v=="string");E=r.merge(E,L,S)}return S.allowSparse===!0?E:r.compact(E)},Yv}var qv,DS;function f2(){if(DS)return qv;DS=1;var r=c2(),e=d2(),t=Ex();return qv={formats:t,parse:e,stringify:r},qv}var OS;function p2(){if(OS)return Hu;OS=1;var r=OM();function e(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var t=/^([a-z0-9.+-]+:)/i,n=/:[0-9]*$/,i=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,s=["<",">",'"',"`"," ","\r",`
`,"	"],a=["{","}","|","\\","^","`"].concat(s),u=["'"].concat(a),c=["%","/","?",";","#"].concat(u),f=["/","?","#"],m=255,g=/^[+a-z0-9A-Z_-]{0,63}$/,v=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,x={javascript:!0,"javascript:":!0},S={javascript:!0,"javascript:":!0},b={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},E=f2();function P(D,H,N){if(D&&typeof D=="object"&&D instanceof e)return D;var G=new e;return G.parse(D,H,N),G}e.prototype.parse=function(D,H,N){if(typeof D!="string")throw new TypeError("Parameter 'url' must be a string, not "+typeof D);var G=D.indexOf("?"),X=G!==-1&&G<D.indexOf("#")?"?":"#",re=D.split(X),me=/\\/g;re[0]=re[0].replace(me,"/"),D=re.join(X);var q=D;if(q=q.trim(),!N&&D.split("#").length===1){var Z=i.exec(q);if(Z)return this.path=q,this.href=q,this.pathname=Z[1],Z[2]?(this.search=Z[2],H?this.query=E.parse(this.search.substr(1)):this.query=this.search.substr(1)):H&&(this.search="",this.query={}),this}var le=t.exec(q);if(le){le=le[0];var xe=le.toLowerCase();this.protocol=xe,q=q.substr(le.length)}if(N||le||q.match(/^\/\/[^@/]+@[^@/]+/)){var U=q.substr(0,2)==="//";U&&!(le&&S[le])&&(q=q.substr(2),this.slashes=!0)}if(!S[le]&&(U||le&&!b[le])){for(var z=-1,M=0;M<f.length;M++){var $=q.indexOf(f[M]);$!==-1&&(z===-1||$<z)&&(z=$)}var B,O;z===-1?O=q.lastIndexOf("@"):O=q.lastIndexOf("@",z),O!==-1&&(B=q.slice(0,O),q=q.slice(O+1),this.auth=decodeURIComponent(B)),z=-1;for(var M=0;M<c.length;M++){var $=q.indexOf(c[M]);$!==-1&&(z===-1||$<z)&&(z=$)}z===-1&&(z=q.length),this.host=q.slice(0,z),q=q.slice(z),this.parseHost(),this.hostname=this.hostname||"";var j=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!j)for(var Q=this.hostname.split(/\./),M=0,ie=Q.length;M<ie;M++){var de=Q[M];if(de&&!de.match(g)){for(var ye="",be=0,Pe=de.length;be<Pe;be++)de.charCodeAt(be)>127?ye+="x":ye+=de[be];if(!ye.match(g)){var ke=Q.slice(0,M),we=Q.slice(M+1),De=de.match(v);De&&(ke.push(De[1]),we.unshift(De[2])),we.length&&(q="/"+we.join(".")+q),this.hostname=ke.join(".");break}}}this.hostname.length>m?this.hostname="":this.hostname=this.hostname.toLowerCase(),j||(this.hostname=r.toASCII(this.hostname));var Ve=this.port?":"+this.port:"",We=this.hostname||"";this.host=We+Ve,this.href+=this.host,j&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),q[0]!=="/"&&(q="/"+q))}if(!x[xe])for(var M=0,ie=u.length;M<ie;M++){var ct=u[M];if(q.indexOf(ct)!==-1){var He=encodeURIComponent(ct);He===ct&&(He=escape(ct)),q=q.split(ct).join(He)}}var Xe=q.indexOf("#");Xe!==-1&&(this.hash=q.substr(Xe),q=q.slice(0,Xe));var Ft=q.indexOf("?");if(Ft!==-1?(this.search=q.substr(Ft),this.query=q.substr(Ft+1),H&&(this.query=E.parse(this.query)),q=q.slice(0,Ft)):H&&(this.search="",this.query={}),q&&(this.pathname=q),b[xe]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var Ve=this.pathname||"",Xt=this.search||"";this.path=Ve+Xt}return this.href=this.format(),this};function k(D){return typeof D=="string"&&(D=P(D)),D instanceof e?D.format():e.prototype.format.call(D)}e.prototype.format=function(){var D=this.auth||"";D&&(D=encodeURIComponent(D),D=D.replace(/%3A/i,":"),D+="@");var H=this.protocol||"",N=this.pathname||"",G=this.hash||"",X=!1,re="";this.host?X=D+this.host:this.hostname&&(X=D+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(X+=":"+this.port)),this.query&&typeof this.query=="object"&&Object.keys(this.query).length&&(re=E.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var me=this.search||re&&"?"+re||"";return H&&H.substr(-1)!==":"&&(H+=":"),this.slashes||(!H||b[H])&&X!==!1?(X="//"+(X||""),N&&N.charAt(0)!=="/"&&(N="/"+N)):X||(X=""),G&&G.charAt(0)!=="#"&&(G="#"+G),me&&me.charAt(0)!=="?"&&(me="?"+me),N=N.replace(/[?#]/g,function(q){return encodeURIComponent(q)}),me=me.replace("#","%23"),H+X+N+me+G};function R(D,H){return P(D,!1,!0).resolve(H)}e.prototype.resolve=function(D){return this.resolveObject(P(D,!1,!0)).format()};function L(D,H){return D?P(D,!1,!0).resolveObject(H):H}return e.prototype.resolveObject=function(D){if(typeof D=="string"){var H=new e;H.parse(D,!1,!0),D=H}for(var N=new e,G=Object.keys(this),X=0;X<G.length;X++){var re=G[X];N[re]=this[re]}if(N.hash=D.hash,D.href==="")return N.href=N.format(),N;if(D.slashes&&!D.protocol){for(var me=Object.keys(D),q=0;q<me.length;q++){var Z=me[q];Z!=="protocol"&&(N[Z]=D[Z])}return b[N.protocol]&&N.hostname&&!N.pathname&&(N.pathname="/",N.path=N.pathname),N.href=N.format(),N}if(D.protocol&&D.protocol!==N.protocol){if(!b[D.protocol]){for(var le=Object.keys(D),xe=0;xe<le.length;xe++){var U=le[xe];N[U]=D[U]}return N.href=N.format(),N}if(N.protocol=D.protocol,!D.host&&!S[D.protocol]){for(var ie=(D.pathname||"").split("/");ie.length&&!(D.host=ie.shift()););D.host||(D.host=""),D.hostname||(D.hostname=""),ie[0]!==""&&ie.unshift(""),ie.length<2&&ie.unshift(""),N.pathname=ie.join("/")}else N.pathname=D.pathname;if(N.search=D.search,N.query=D.query,N.host=D.host||"",N.auth=D.auth,N.hostname=D.hostname||D.host,N.port=D.port,N.pathname||N.search){var z=N.pathname||"",M=N.search||"";N.path=z+M}return N.slashes=N.slashes||D.slashes,N.href=N.format(),N}var $=N.pathname&&N.pathname.charAt(0)==="/",B=D.host||D.pathname&&D.pathname.charAt(0)==="/",O=B||$||N.host&&D.pathname,j=O,Q=N.pathname&&N.pathname.split("/")||[],ie=D.pathname&&D.pathname.split("/")||[],de=N.protocol&&!b[N.protocol];if(de&&(N.hostname="",N.port=null,N.host&&(Q[0]===""?Q[0]=N.host:Q.unshift(N.host)),N.host="",D.protocol&&(D.hostname=null,D.port=null,D.host&&(ie[0]===""?ie[0]=D.host:ie.unshift(D.host)),D.host=null),O=O&&(ie[0]===""||Q[0]==="")),B)N.host=D.host||D.host===""?D.host:N.host,N.hostname=D.hostname||D.hostname===""?D.hostname:N.hostname,N.search=D.search,N.query=D.query,Q=ie;else if(ie.length)Q||(Q=[]),Q.pop(),Q=Q.concat(ie),N.search=D.search,N.query=D.query;else if(D.search!=null){if(de){N.host=Q.shift(),N.hostname=N.host;var ye=N.host&&N.host.indexOf("@")>0?N.host.split("@"):!1;ye&&(N.auth=ye.shift(),N.hostname=ye.shift(),N.host=N.hostname)}return N.search=D.search,N.query=D.query,(N.pathname!==null||N.search!==null)&&(N.path=(N.pathname?N.pathname:"")+(N.search?N.search:"")),N.href=N.format(),N}if(!Q.length)return N.pathname=null,N.search?N.path="/"+N.search:N.path=null,N.href=N.format(),N;for(var be=Q.slice(-1)[0],Pe=(N.host||D.host||Q.length>1)&&(be==="."||be==="..")||be==="",ke=0,we=Q.length;we>=0;we--)be=Q[we],be==="."?Q.splice(we,1):be===".."?(Q.splice(we,1),ke++):ke&&(Q.splice(we,1),ke--);if(!O&&!j)for(;ke--;ke)Q.unshift("..");O&&Q[0]!==""&&(!Q[0]||Q[0].charAt(0)!=="/")&&Q.unshift(""),Pe&&Q.join("/").substr(-1)!=="/"&&Q.push("");var De=Q[0]===""||Q[0]&&Q[0].charAt(0)==="/";if(de){N.hostname=De?"":Q.length?Q.shift():"",N.host=N.hostname;var ye=N.host&&N.host.indexOf("@")>0?N.host.split("@"):!1;ye&&(N.auth=ye.shift(),N.hostname=ye.shift(),N.host=N.hostname)}return O=O||N.host&&Q.length,O&&!De&&Q.unshift(""),Q.length>0?N.pathname=Q.join("/"):(N.pathname=null,N.path=null),(N.pathname!==null||N.search!==null)&&(N.path=(N.pathname?N.pathname:"")+(N.search?N.search:"")),N.auth=D.auth||N.auth,N.slashes=N.slashes||D.slashes,N.href=N.format(),N},e.prototype.parseHost=function(){var D=this.host,H=n.exec(D);H&&(H=H[0],H!==":"&&(this.port=H.substr(1)),D=D.substr(0,D.length-H.length)),D&&(this.hostname=D)},Hu.parse=P,Hu.resolve=R,Hu.resolveObject=L,Hu.format=k,Hu.Url=e,Hu}p2();const NS={};function mt(r,e,t=3){if(NS[e])return;let n=new Error().stack;typeof n>"u"?console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${r}`):(n=n.split(`
`).splice(t).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",`${e}
Deprecated since v${r}`),console.warn(n),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${r}`),console.warn(n))),NS[e]=!0}function Ps(r){if(typeof r!="string")throw new TypeError(`Path must be a string. Received ${JSON.stringify(r)}`)}function pf(r){return r.split("?")[0].split("#")[0]}function m2(r){return r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function g2(r,e,t){return r.replace(new RegExp(m2(e),"g"),t)}function y2(r,e){let t="",n=0,i=-1,s=0,a=-1;for(let u=0;u<=r.length;++u){if(u<r.length)a=r.charCodeAt(u);else{if(a===47)break;a=47}if(a===47){if(!(i===u-1||s===1))if(i!==u-1&&s===2){if(t.length<2||n!==2||t.charCodeAt(t.length-1)!==46||t.charCodeAt(t.length-2)!==46){if(t.length>2){const c=t.lastIndexOf("/");if(c!==t.length-1){c===-1?(t="",n=0):(t=t.slice(0,c),n=t.length-1-t.lastIndexOf("/")),i=u,s=0;continue}}else if(t.length===2||t.length===1){t="",n=0,i=u,s=0;continue}}}else t.length>0?t+=`/${r.slice(i+1,u)}`:t=r.slice(i+1,u),n=u-i-1;i=u,s=0}else a===46&&s!==-1?++s:s=-1}return t}const Kr={toPosix(r){return g2(r,"\\","/")},isUrl(r){return/^https?:/.test(this.toPosix(r))},isDataUrl(r){return/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(r)},isBlobUrl(r){return r.startsWith("blob:")},hasProtocol(r){return/^[^/:]+:/.test(this.toPosix(r))},getProtocol(r){Ps(r),r=this.toPosix(r);const e=/^file:\/\/\//.exec(r);if(e)return e[0];const t=/^[^/:]+:\/{0,2}/.exec(r);return t?t[0]:""},toAbsolute(r,e,t){if(Ps(r),this.isDataUrl(r)||this.isBlobUrl(r))return r;const n=pf(this.toPosix(e??Ue.ADAPTER.getBaseUrl())),i=pf(this.toPosix(t??this.rootname(n)));return r=this.toPosix(r),r.startsWith("/")?Kr.join(i,r.slice(1)):this.isAbsolute(r)?r:this.join(n,r)},normalize(r){if(Ps(r),r.length===0)return".";if(this.isDataUrl(r)||this.isBlobUrl(r))return r;r=this.toPosix(r);let e="";const t=r.startsWith("/");this.hasProtocol(r)&&(e=this.rootname(r),r=r.slice(e.length));const n=r.endsWith("/");return r=y2(r),r.length>0&&n&&(r+="/"),t?`/${r}`:e+r},isAbsolute(r){return Ps(r),r=this.toPosix(r),this.hasProtocol(r)?!0:r.startsWith("/")},join(...r){if(r.length===0)return".";let e;for(let t=0;t<r.length;++t){const n=r[t];if(Ps(n),n.length>0)if(e===void 0)e=n;else{const i=r[t-1]??"";this.joinExtensions.includes(this.extname(i).toLowerCase())?e+=`/../${n}`:e+=`/${n}`}}return e===void 0?".":this.normalize(e)},dirname(r){if(Ps(r),r.length===0)return".";r=this.toPosix(r);let e=r.charCodeAt(0);const t=e===47;let n=-1,i=!0;const s=this.getProtocol(r),a=r;r=r.slice(s.length);for(let u=r.length-1;u>=1;--u)if(e=r.charCodeAt(u),e===47){if(!i){n=u;break}}else i=!1;return n===-1?t?"/":this.isUrl(a)?s+r:s:t&&n===1?"//":s+r.slice(0,n)},rootname(r){Ps(r),r=this.toPosix(r);let e="";if(r.startsWith("/")?e="/":e=this.getProtocol(r),this.isUrl(r)){const t=r.indexOf("/",e.length);t!==-1?e=r.slice(0,t):e=r,e.endsWith("/")||(e+="/")}return e},basename(r,e){Ps(r),e&&Ps(e),r=pf(this.toPosix(r));let t=0,n=-1,i=!0,s;if(e!==void 0&&e.length>0&&e.length<=r.length){if(e.length===r.length&&e===r)return"";let a=e.length-1,u=-1;for(s=r.length-1;s>=0;--s){const c=r.charCodeAt(s);if(c===47){if(!i){t=s+1;break}}else u===-1&&(i=!1,u=s+1),a>=0&&(c===e.charCodeAt(a)?--a===-1&&(n=s):(a=-1,n=u))}return t===n?n=u:n===-1&&(n=r.length),r.slice(t,n)}for(s=r.length-1;s>=0;--s)if(r.charCodeAt(s)===47){if(!i){t=s+1;break}}else n===-1&&(i=!1,n=s+1);return n===-1?"":r.slice(t,n)},extname(r){Ps(r),r=pf(this.toPosix(r));let e=-1,t=0,n=-1,i=!0,s=0;for(let a=r.length-1;a>=0;--a){const u=r.charCodeAt(a);if(u===47){if(!i){t=a+1;break}continue}n===-1&&(i=!1,n=a+1),u===46?e===-1?e=a:s!==1&&(s=1):e!==-1&&(s=-1)}return e===-1||n===-1||s===0||s===1&&e===n-1&&e===t+1?"":r.slice(e,n)},parse(r){Ps(r);const e={root:"",dir:"",base:"",ext:"",name:""};if(r.length===0)return e;r=pf(this.toPosix(r));let t=r.charCodeAt(0);const n=this.isAbsolute(r);let i;e.root=this.rootname(r),n||this.hasProtocol(r)?i=1:i=0;let s=-1,a=0,u=-1,c=!0,f=r.length-1,m=0;for(;f>=i;--f){if(t=r.charCodeAt(f),t===47){if(!c){a=f+1;break}continue}u===-1&&(c=!1,u=f+1),t===46?s===-1?s=f:m!==1&&(m=1):s!==-1&&(m=-1)}return s===-1||u===-1||m===0||m===1&&s===u-1&&s===a+1?u!==-1&&(a===0&&n?e.base=e.name=r.slice(1,u):e.base=e.name=r.slice(a,u)):(a===0&&n?(e.name=r.slice(1,s),e.base=r.slice(1,u)):(e.name=r.slice(a,s),e.base=r.slice(a,u)),e.ext=r.slice(s,u)),e.dir=this.dirname(r),e},sep:"/",delimiter:":",joinExtensions:[".html"]};let Kv;async function v2(){return Kv??(Kv=(async()=>{var s;const r=document.createElement("canvas").getContext("webgl");if(!r)return li.UNPACK;const e=await new Promise(a=>{const u=document.createElement("video");u.onloadeddata=()=>a(u),u.onerror=()=>a(null),u.autoplay=!1,u.crossOrigin="anonymous",u.preload="auto",u.src="data:video/webm;base64,GkXfo59ChoEBQveBAULygQRC84EIQoKEd2VibUKHgQJChYECGFOAZwEAAAAAAAHTEU2bdLpNu4tTq4QVSalmU6yBoU27i1OrhBZUrmtTrIHGTbuMU6uEElTDZ1OsggEXTbuMU6uEHFO7a1OsggG97AEAAAAAAABZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmoCrXsYMPQkBNgIRMYXZmV0GETGF2ZkSJiEBEAAAAAAAAFlSua8yuAQAAAAAAAEPXgQFzxYgAAAAAAAAAAZyBACK1nIN1bmSIgQCGhVZfVlA5g4EBI+ODhAJiWgDglLCBArqBApqBAlPAgQFVsIRVuYEBElTDZ9Vzc9JjwItjxYgAAAAAAAAAAWfInEWjh0VOQ09ERVJEh49MYXZjIGxpYnZweC12cDlnyKJFo4hEVVJBVElPTkSHlDAwOjAwOjAwLjA0MDAwMDAwMAAAH0O2dcfngQCgwqGggQAAAIJJg0IAABAAFgA4JBwYSgAAICAAEb///4r+AAB1oZ2mm+6BAaWWgkmDQgAAEAAWADgkHBhKAAAgIABIQBxTu2uRu4+zgQC3iveBAfGCAXHwgQM=",u.load()});if(!e)return li.UNPACK;const t=r.createTexture();r.bindTexture(r.TEXTURE_2D,t);const n=r.createFramebuffer();r.bindFramebuffer(r.FRAMEBUFFER,n),r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,t,0),r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),r.pixelStorei(r.UNPACK_COLORSPACE_CONVERSION_WEBGL,r.NONE),r.texImage2D(r.TEXTURE_2D,0,r.RGBA,r.RGBA,r.UNSIGNED_BYTE,e);const i=new Uint8Array(4);return r.readPixels(0,0,1,1,r.RGBA,r.UNSIGNED_BYTE,i),r.deleteFramebuffer(n),r.deleteTexture(t),(s=r.getExtension("WEBGL_lose_context"))==null||s.loseContext(),i[0]<=i[3]?li.PMA:li.UNPACK})()),Kv}let Qv;function _2(){return typeof Qv>"u"&&(Qv=function(){var e;const r={stencil:!0,failIfMajorPerformanceCaveat:Ue.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!Ue.ADAPTER.getWebGLRenderingContext())return!1;const t=Ue.ADAPTER.createCanvas();let n=t.getContext("webgl",r)||t.getContext("experimental-webgl",r);const i=!!((e=n==null?void 0:n.getContextAttributes())!=null&&e.stencil);if(n){const s=n.getExtension("WEBGL_lose_context");s&&s.loseContext()}return n=null,i}catch{return!1}}()),Qv}var x2={grad:.9,turn:360,rad:360/(2*Math.PI)},oa=function(r){return typeof r=="string"?r.length>0:typeof r=="number"},Yr=function(r,e,t){return e===void 0&&(e=0),t===void 0&&(t=Math.pow(10,e)),Math.round(t*r)/t+0},ts=function(r,e,t){return e===void 0&&(e=0),t===void 0&&(t=1),r>t?t:r>e?r:e},sA=function(r){return(r=isFinite(r)?r%360:0)>0?r:r+360},FS=function(r){return{r:ts(r.r,0,255),g:ts(r.g,0,255),b:ts(r.b,0,255),a:ts(r.a)}},Zv=function(r){return{r:Yr(r.r),g:Yr(r.g),b:Yr(r.b),a:Yr(r.a,3)}},w2=/^#([0-9a-f]{3,8})$/i,pm=function(r){var e=r.toString(16);return e.length<2?"0"+e:e},oA=function(r){var e=r.r,t=r.g,n=r.b,i=r.a,s=Math.max(e,t,n),a=s-Math.min(e,t,n),u=a?s===e?(t-n)/a:s===t?2+(n-e)/a:4+(e-t)/a:0;return{h:60*(u<0?u+6:u),s:s?a/s*100:0,v:s/255*100,a:i}},aA=function(r){var e=r.h,t=r.s,n=r.v,i=r.a;e=e/360*6,t/=100,n/=100;var s=Math.floor(e),a=n*(1-t),u=n*(1-(e-s)*t),c=n*(1-(1-e+s)*t),f=s%6;return{r:255*[n,u,a,a,c,n][f],g:255*[c,n,n,u,a,a][f],b:255*[a,a,c,n,n,u][f],a:i}},LS=function(r){return{h:sA(r.h),s:ts(r.s,0,100),l:ts(r.l,0,100),a:ts(r.a)}},BS=function(r){return{h:Yr(r.h),s:Yr(r.s),l:Yr(r.l),a:Yr(r.a,3)}},US=function(r){return aA((t=(e=r).s,{h:e.h,s:(t*=((n=e.l)<50?n:100-n)/100)>0?2*t/(n+t)*100:0,v:n+t,a:e.a}));var e,t,n},Ff=function(r){return{h:(e=oA(r)).h,s:(i=(200-(t=e.s))*(n=e.v)/100)>0&&i<200?t*n/100/(i<=100?i:200-i)*100:0,l:i/2,a:e.a};var e,t,n,i},S2=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,b2=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,T2=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,E2=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,q0={string:[[function(r){var e=w2.exec(r);return e?(r=e[1]).length<=4?{r:parseInt(r[0]+r[0],16),g:parseInt(r[1]+r[1],16),b:parseInt(r[2]+r[2],16),a:r.length===4?Yr(parseInt(r[3]+r[3],16)/255,2):1}:r.length===6||r.length===8?{r:parseInt(r.substr(0,2),16),g:parseInt(r.substr(2,2),16),b:parseInt(r.substr(4,2),16),a:r.length===8?Yr(parseInt(r.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(r){var e=T2.exec(r)||E2.exec(r);return e?e[2]!==e[4]||e[4]!==e[6]?null:FS({r:Number(e[1])/(e[2]?100/255:1),g:Number(e[3])/(e[4]?100/255:1),b:Number(e[5])/(e[6]?100/255:1),a:e[7]===void 0?1:Number(e[7])/(e[8]?100:1)}):null},"rgb"],[function(r){var e=S2.exec(r)||b2.exec(r);if(!e)return null;var t,n,i=LS({h:(t=e[1],n=e[2],n===void 0&&(n="deg"),Number(t)*(x2[n]||1)),s:Number(e[3]),l:Number(e[4]),a:e[5]===void 0?1:Number(e[5])/(e[6]?100:1)});return US(i)},"hsl"]],object:[[function(r){var e=r.r,t=r.g,n=r.b,i=r.a,s=i===void 0?1:i;return oa(e)&&oa(t)&&oa(n)?FS({r:Number(e),g:Number(t),b:Number(n),a:Number(s)}):null},"rgb"],[function(r){var e=r.h,t=r.s,n=r.l,i=r.a,s=i===void 0?1:i;if(!oa(e)||!oa(t)||!oa(n))return null;var a=LS({h:Number(e),s:Number(t),l:Number(n),a:Number(s)});return US(a)},"hsl"],[function(r){var e=r.h,t=r.s,n=r.v,i=r.a,s=i===void 0?1:i;if(!oa(e)||!oa(t)||!oa(n))return null;var a=function(u){return{h:sA(u.h),s:ts(u.s,0,100),v:ts(u.v,0,100),a:ts(u.a)}}({h:Number(e),s:Number(t),v:Number(n),a:Number(s)});return aA(a)},"hsv"]]},zS=function(r,e){for(var t=0;t<e.length;t++){var n=e[t][0](r);if(n)return[n,e[t][1]]}return[null,void 0]},A2=function(r){return typeof r=="string"?zS(r.trim(),q0.string):typeof r=="object"&&r!==null?zS(r,q0.object):[null,void 0]},Jv=function(r,e){var t=Ff(r);return{h:t.h,s:ts(t.s+100*e,0,100),l:t.l,a:t.a}},e0=function(r){return(299*r.r+587*r.g+114*r.b)/1e3/255},VS=function(r,e){var t=Ff(r);return{h:t.h,s:t.s,l:ts(t.l+100*e,0,100),a:t.a}},K0=function(){function r(e){this.parsed=A2(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return r.prototype.isValid=function(){return this.parsed!==null},r.prototype.brightness=function(){return Yr(e0(this.rgba),2)},r.prototype.isDark=function(){return e0(this.rgba)<.5},r.prototype.isLight=function(){return e0(this.rgba)>=.5},r.prototype.toHex=function(){return e=Zv(this.rgba),t=e.r,n=e.g,i=e.b,a=(s=e.a)<1?pm(Yr(255*s)):"","#"+pm(t)+pm(n)+pm(i)+a;var e,t,n,i,s,a},r.prototype.toRgb=function(){return Zv(this.rgba)},r.prototype.toRgbString=function(){return e=Zv(this.rgba),t=e.r,n=e.g,i=e.b,(s=e.a)<1?"rgba("+t+", "+n+", "+i+", "+s+")":"rgb("+t+", "+n+", "+i+")";var e,t,n,i,s},r.prototype.toHsl=function(){return BS(Ff(this.rgba))},r.prototype.toHslString=function(){return e=BS(Ff(this.rgba)),t=e.h,n=e.s,i=e.l,(s=e.a)<1?"hsla("+t+", "+n+"%, "+i+"%, "+s+")":"hsl("+t+", "+n+"%, "+i+"%)";var e,t,n,i,s},r.prototype.toHsv=function(){return e=oA(this.rgba),{h:Yr(e.h),s:Yr(e.s),v:Yr(e.v),a:Yr(e.a,3)};var e},r.prototype.invert=function(){return ho({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},r.prototype.saturate=function(e){return e===void 0&&(e=.1),ho(Jv(this.rgba,e))},r.prototype.desaturate=function(e){return e===void 0&&(e=.1),ho(Jv(this.rgba,-e))},r.prototype.grayscale=function(){return ho(Jv(this.rgba,-1))},r.prototype.lighten=function(e){return e===void 0&&(e=.1),ho(VS(this.rgba,e))},r.prototype.darken=function(e){return e===void 0&&(e=.1),ho(VS(this.rgba,-e))},r.prototype.rotate=function(e){return e===void 0&&(e=15),this.hue(this.hue()+e)},r.prototype.alpha=function(e){return typeof e=="number"?ho({r:(t=this.rgba).r,g:t.g,b:t.b,a:e}):Yr(this.rgba.a,3);var t},r.prototype.hue=function(e){var t=Ff(this.rgba);return typeof e=="number"?ho({h:e,s:t.s,l:t.l,a:t.a}):Yr(t.h)},r.prototype.isEqual=function(e){return this.toHex()===ho(e).toHex()},r}(),ho=function(r){return r instanceof K0?r:new K0(r)},GS=[],C2=function(r){r.forEach(function(e){GS.indexOf(e)<0&&(e(K0,q0),GS.push(e))})};function P2(r,e){var t={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},n={};for(var i in t)n[t[i]]=i;var s={};r.prototype.toName=function(a){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var u,c,f=n[this.toHex()];if(f)return f;if(a!=null&&a.closest){var m=this.toRgb(),g=1/0,v="black";if(!s.length)for(var x in t)s[x]=new r(t[x]).toRgb();for(var S in t){var b=(u=m,c=s[S],Math.pow(u.r-c.r,2)+Math.pow(u.g-c.g,2)+Math.pow(u.b-c.b,2));b<g&&(g=b,v=S)}return v}},e.string.push([function(a){var u=a.toLowerCase(),c=u==="transparent"?"#0000":t[u];return c?new r(c).toRgb():null},"name"])}C2([P2]);const Ec=class $m{constructor(e=16777215){this._value=null,this._components=new Float32Array(4),this._components.fill(1),this._int=16777215,this.value=e}get red(){return this._components[0]}get green(){return this._components[1]}get blue(){return this._components[2]}get alpha(){return this._components[3]}setValue(e){return this.value=e,this}set value(e){if(e instanceof $m)this._value=this.cloneSource(e._value),this._int=e._int,this._components.set(e._components);else{if(e===null)throw new Error("Cannot set PIXI.Color#value to null");(this._value===null||!this.isSourceEqual(this._value,e))&&(this.normalize(e),this._value=this.cloneSource(e))}}get value(){return this._value}cloneSource(e){return typeof e=="string"||typeof e=="number"||e instanceof Number||e===null?e:Array.isArray(e)||ArrayBuffer.isView(e)?e.slice(0):typeof e=="object"&&e!==null?{...e}:e}isSourceEqual(e,t){const n=typeof e;if(n!==typeof t)return!1;if(n==="number"||n==="string"||e instanceof Number)return e===t;if(Array.isArray(e)&&Array.isArray(t)||ArrayBuffer.isView(e)&&ArrayBuffer.isView(t))return e.length!==t.length?!1:e.every((i,s)=>i===t[s]);if(e!==null&&t!==null){const i=Object.keys(e),s=Object.keys(t);return i.length!==s.length?!1:i.every(a=>e[a]===t[a])}return e===t}toRgba(){const[e,t,n,i]=this._components;return{r:e,g:t,b:n,a:i}}toRgb(){const[e,t,n]=this._components;return{r:e,g:t,b:n}}toRgbaString(){const[e,t,n]=this.toUint8RgbArray();return`rgba(${e},${t},${n},${this.alpha})`}toUint8RgbArray(e){const[t,n,i]=this._components;return e=e??[],e[0]=Math.round(t*255),e[1]=Math.round(n*255),e[2]=Math.round(i*255),e}toRgbArray(e){e=e??[];const[t,n,i]=this._components;return e[0]=t,e[1]=n,e[2]=i,e}toNumber(){return this._int}toLittleEndianNumber(){const e=this._int;return(e>>16)+(e&65280)+((e&255)<<16)}multiply(e){const[t,n,i,s]=$m.temp.setValue(e)._components;return this._components[0]*=t,this._components[1]*=n,this._components[2]*=i,this._components[3]*=s,this.refreshInt(),this._value=null,this}premultiply(e,t=!0){return t&&(this._components[0]*=e,this._components[1]*=e,this._components[2]*=e),this._components[3]=e,this.refreshInt(),this._value=null,this}toPremultiplied(e,t=!0){if(e===1)return(255<<24)+this._int;if(e===0)return t?0:this._int;let n=this._int>>16&255,i=this._int>>8&255,s=this._int&255;return t&&(n=n*e+.5|0,i=i*e+.5|0,s=s*e+.5|0),(e*255<<24)+(n<<16)+(i<<8)+s}toHex(){const e=this._int.toString(16);return`#${"000000".substring(0,6-e.length)+e}`}toHexa(){const e=Math.round(this._components[3]*255).toString(16);return this.toHex()+"00".substring(0,2-e.length)+e}setAlpha(e){return this._components[3]=this._clamp(e),this}round(e){const[t,n,i]=this._components;return this._components[0]=Math.round(t*e)/e,this._components[1]=Math.round(n*e)/e,this._components[2]=Math.round(i*e)/e,this.refreshInt(),this._value=null,this}toArray(e){e=e??[];const[t,n,i,s]=this._components;return e[0]=t,e[1]=n,e[2]=i,e[3]=s,e}normalize(e){let t,n,i,s;if((typeof e=="number"||e instanceof Number)&&e>=0&&e<=16777215){const a=e;t=(a>>16&255)/255,n=(a>>8&255)/255,i=(a&255)/255,s=1}else if((Array.isArray(e)||e instanceof Float32Array)&&e.length>=3&&e.length<=4)e=this._clamp(e),[t,n,i,s=1]=e;else if((e instanceof Uint8Array||e instanceof Uint8ClampedArray)&&e.length>=3&&e.length<=4)e=this._clamp(e,0,255),[t,n,i,s=255]=e,t/=255,n/=255,i/=255,s/=255;else if(typeof e=="string"||typeof e=="object"){if(typeof e=="string"){const u=$m.HEX_PATTERN.exec(e);u&&(e=`#${u[2]}`)}const a=ho(e);a.isValid()&&({r:t,g:n,b:i,a:s}=a.rgba,t/=255,n/=255,i/=255)}if(t!==void 0)this._components[0]=t,this._components[1]=n,this._components[2]=i,this._components[3]=s,this.refreshInt();else throw new Error(`Unable to convert color ${e}`)}refreshInt(){this._clamp(this._components);const[e,t,n]=this._components;this._int=(e*255<<16)+(t*255<<8)+(n*255|0)}_clamp(e,t=0,n=1){return typeof e=="number"?Math.min(Math.max(e,t),n):(e.forEach((i,s)=>{e[s]=Math.min(Math.max(i,t),n)}),e)}};Ec.shared=new Ec,Ec.temp=new Ec,Ec.HEX_PATTERN=/^(#|0x)?(([a-f0-9]{3}){1,2}([a-f0-9]{2})?)$/i;let Ht=Ec;function R2(r){return mt("7.2.0","utils.hex2string is deprecated, use Color#toHex instead"),Ht.shared.setValue(r).toHex()}function I2(r){return mt("7.2.0","utils.rgb2hex is deprecated, use Color#toNumber instead"),Ht.shared.setValue(r).toNumber()}function k2(){const r=[],e=[];for(let n=0;n<32;n++)r[n]=n,e[n]=n;r[rt.NORMAL_NPM]=rt.NORMAL,r[rt.ADD_NPM]=rt.ADD,r[rt.SCREEN_NPM]=rt.SCREEN,e[rt.NORMAL]=rt.NORMAL_NPM,e[rt.ADD]=rt.ADD_NPM,e[rt.SCREEN]=rt.SCREEN_NPM;const t=[];return t.push(e),t.push(r),t}const lA=k2();function uA(r,e){return lA[e?1:0][r]}function M2(r,e=null){const t=r*6;if(e=e||new Uint16Array(t),e.length!==t)throw new Error(`Out buffer length is incorrect, got ${e.length} and expected ${t}`);for(let n=0,i=0;n<t;n+=6,i+=4)e[n+0]=i+0,e[n+1]=i+1,e[n+2]=i+2,e[n+3]=i+0,e[n+4]=i+2,e[n+5]=i+3;return e}function hA(r){if(r.BYTES_PER_ELEMENT===4)return r instanceof Float32Array?"Float32Array":r instanceof Uint32Array?"Uint32Array":"Int32Array";if(r.BYTES_PER_ELEMENT===2){if(r instanceof Uint16Array)return"Uint16Array"}else if(r.BYTES_PER_ELEMENT===1&&r instanceof Uint8Array)return"Uint8Array";return null}function ag(r){return r+=r===0?1:0,--r,r|=r>>>1,r|=r>>>2,r|=r>>>4,r|=r>>>8,r|=r>>>16,r+1}function jS(r){return!(r&r-1)&&!!r}function HS(r){let e=(r>65535?1:0)<<4;r>>>=e;let t=(r>255?1:0)<<3;return r>>>=t,e|=t,t=(r>15?1:0)<<2,r>>>=t,e|=t,t=(r>3?1:0)<<1,r>>>=t,e|=t,e|r>>1}function Vc(r,e,t){const n=r.length;let i;if(e>=n||t===0)return;t=e+t>n?n-e:t;const s=n-t;for(i=e;i<s;++i)r[i]=r[i+t];r.length=s}function Al(r){return r===0?0:r<0?-1:1}let D2=0;function gh(){return++D2}const Q0=class{constructor(r,e,t,n){this.left=r,this.top=e,this.right=t,this.bottom=n}get width(){return this.right-this.left}get height(){return this.bottom-this.top}isEmpty(){return this.left===this.right||this.top===this.bottom}};Q0.EMPTY=new Q0(0,0,0,0);let $S=Q0;const WS={},co=Object.create(null),xl=Object.create(null);class O2{constructor(e,t,n){this._canvas=Ue.ADAPTER.createCanvas(),this._context=this._canvas.getContext("2d"),this.resolution=n||Ue.RESOLUTION,this.resize(e,t)}clear(){this._checkDestroyed(),this._context.setTransform(1,0,0,1,0,0),this._context.clearRect(0,0,this._canvas.width,this._canvas.height)}resize(e,t){this._checkDestroyed(),this._canvas.width=Math.round(e*this.resolution),this._canvas.height=Math.round(t*this.resolution)}destroy(){this._context=null,this._canvas=null}get width(){return this._checkDestroyed(),this._canvas.width}set width(e){this._checkDestroyed(),this._canvas.width=Math.round(e)}get height(){return this._checkDestroyed(),this._canvas.height}set height(e){this._checkDestroyed(),this._canvas.height=Math.round(e)}get canvas(){return this._checkDestroyed(),this._canvas}get context(){return this._checkDestroyed(),this._context}_checkDestroyed(){if(this._canvas===null)throw new TypeError("The CanvasRenderTarget has already been destroyed")}}function XS(r,e,t){for(let n=0,i=4*t*e;n<e;++n,i+=4)if(r[i+3]!==0)return!1;return!0}function YS(r,e,t,n,i){const s=4*e;for(let a=n,u=n*s+4*t;a<=i;++a,u+=s)if(r[u+3]!==0)return!1;return!0}function N2(r){const{width:e,height:t}=r,n=r.getContext("2d",{willReadFrequently:!0});if(n===null)throw new TypeError("Failed to get canvas 2D context");const i=n.getImageData(0,0,e,t).data;let s=0,a=0,u=e-1,c=t-1;for(;a<t&&XS(i,e,a);)++a;if(a===t)return $S.EMPTY;for(;XS(i,e,c);)--c;for(;YS(i,e,s,a,c);)++s;for(;YS(i,e,u,a,c);)--u;return++u,++c,new $S(s,a,u,c)}function F2(r){const e=N2(r),{width:t,height:n}=e;let i=null;if(!e.isEmpty()){const s=r.getContext("2d");if(s===null)throw new TypeError("Failed to get canvas 2D context");i=s.getImageData(e.left,e.top,t,n)}return{width:t,height:n,data:i}}function L2(r,e=globalThis.location){if(r.startsWith("data:"))return"";e=e||globalThis.location;const t=new URL(r,document.baseURI);return t.hostname!==e.hostname||t.port!==e.port||t.protocol!==e.protocol?"anonymous":""}function ya(r,e=1){var n;const t=(n=Ue.RETINA_PREFIX)==null?void 0:n.exec(r);return t?parseFloat(t[1]):e}var Ne=(r=>(r.Renderer="renderer",r.Application="application",r.RendererSystem="renderer-webgl-system",r.RendererPlugin="renderer-webgl-plugin",r.CanvasRendererSystem="renderer-canvas-system",r.CanvasRendererPlugin="renderer-canvas-plugin",r.Asset="asset",r.LoadParser="load-parser",r.ResolveParser="resolve-parser",r.CacheParser="cache-parser",r.DetectionParser="detection-parser",r))(Ne||{});const Z0=r=>{if(typeof r=="function"||typeof r=="object"&&r.extension){if(!r.extension)throw new Error("Extension class must have an extension object");r={...typeof r.extension!="object"?{type:r.extension}:r.extension,ref:r}}if(typeof r=="object")r={...r};else throw new Error("Invalid extension type");return typeof r.type=="string"&&(r.type=[r.type]),r},qS=(r,e)=>Z0(r).priority??e,qe={_addHandlers:{},_removeHandlers:{},_queue:{},remove(...r){return r.map(Z0).forEach(e=>{e.type.forEach(t=>{var n,i;return(i=(n=this._removeHandlers)[t])==null?void 0:i.call(n,e)})}),this},add(...r){return r.map(Z0).forEach(e=>{e.type.forEach(t=>{var s,a;const n=this._addHandlers,i=this._queue;n[t]?(s=n[t])==null||s.call(n,e):(i[t]=i[t]||[],(a=i[t])==null||a.push(e))})}),this},handle(r,e,t){var a;const n=this._addHandlers,i=this._removeHandlers;if(n[r]||i[r])throw new Error(`Extension type ${r} already has a handler`);n[r]=e,i[r]=t;const s=this._queue;return s[r]&&((a=s[r])==null||a.forEach(u=>e(u)),delete s[r]),this},handleByMap(r,e){return this.handle(r,t=>{t.name&&(e[t.name]=t.ref)},t=>{t.name&&delete e[t.name]})},handleByList(r,e,t=-1){return this.handle(r,n=>{e.includes(n.ref)||(e.push(n.ref),e.sort((i,s)=>qS(s,t)-qS(i,t)))},n=>{const i=e.indexOf(n.ref);i!==-1&&e.splice(i,1)})}};class J0{constructor(e){typeof e=="number"?this.rawBinaryData=new ArrayBuffer(e):e instanceof Uint8Array?this.rawBinaryData=e.buffer:this.rawBinaryData=e,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}get int8View(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View}get uint8View(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View}get int16View(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View}get uint16View(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View}get int32View(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View}view(e){return this[`${e}View`]}destroy(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null}static sizeOf(e){switch(e){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(`${e} isn't a valid view type`)}}}const B2=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function U2(r){let e="";for(let t=0;t<r;++t)t>0&&(e+=`
else `),t<r-1&&(e+=`if(test == ${t}.0){}`);return e}function z2(r,e){if(r===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");const t=e.createShader(e.FRAGMENT_SHADER);for(;;){const n=B2.replace(/%forloop%/gi,U2(r));if(e.shaderSource(t,n),e.compileShader(t),!e.getShaderParameter(t,e.COMPILE_STATUS))r=r/2|0;else break}return r}const t0=0,r0=1,n0=2,i0=3,s0=4,o0=5;class Mo{constructor(){this.data=0,this.blendMode=rt.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}get blend(){return!!(this.data&1<<t0)}set blend(e){!!(this.data&1<<t0)!==e&&(this.data^=1<<t0)}get offsets(){return!!(this.data&1<<r0)}set offsets(e){!!(this.data&1<<r0)!==e&&(this.data^=1<<r0)}get culling(){return!!(this.data&1<<n0)}set culling(e){!!(this.data&1<<n0)!==e&&(this.data^=1<<n0)}get depthTest(){return!!(this.data&1<<i0)}set depthTest(e){!!(this.data&1<<i0)!==e&&(this.data^=1<<i0)}get depthMask(){return!!(this.data&1<<o0)}set depthMask(e){!!(this.data&1<<o0)!==e&&(this.data^=1<<o0)}get clockwiseFrontFace(){return!!(this.data&1<<s0)}set clockwiseFrontFace(e){!!(this.data&1<<s0)!==e&&(this.data^=1<<s0)}get blendMode(){return this._blendMode}set blendMode(e){this.blend=e!==rt.NONE,this._blendMode=e}get polygonOffset(){return this._polygonOffset}set polygonOffset(e){this.offsets=!!e,this._polygonOffset=e}static for2d(){const e=new Mo;return e.depthTest=!1,e.blend=!0,e}}Mo.prototype.toString=function(){return`[@pixi/core:State blendMode=${this.blendMode} clockwiseFrontFace=${this.clockwiseFrontFace} culling=${this.culling} depthMask=${this.depthMask} polygonOffset=${this.polygonOffset}]`};const e_=[];function cA(r,e){if(!r)return null;let t="";if(typeof r=="string"){const n=/\.(\w{3,4})(?:$|\?|#)/i.exec(r);n&&(t=n[1].toLowerCase())}for(let n=e_.length-1;n>=0;--n){const i=e_[n];if(i.test&&i.test(r,t))return new i(r,e)}throw new Error("Unrecognized source type to auto-detect Resource")}class Ls{constructor(e){this.items=[],this._name=e,this._aliasCount=0}emit(e,t,n,i,s,a,u,c){if(arguments.length>8)throw new Error("max arguments reached");const{name:f,items:m}=this;this._aliasCount++;for(let g=0,v=m.length;g<v;g++)m[g][f](e,t,n,i,s,a,u,c);return m===this.items&&this._aliasCount--,this}ensureNonAliasedItems(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))}add(e){return e[this._name]&&(this.ensureNonAliasedItems(),this.remove(e),this.items.push(e)),this}remove(e){const t=this.items.indexOf(e);return t!==-1&&(this.ensureNonAliasedItems(),this.items.splice(t,1)),this}contains(e){return this.items.includes(e)}removeAll(){return this.ensureNonAliasedItems(),this.items.length=0,this}destroy(){this.removeAll(),this.items.length=0,this._name=""}get empty(){return this.items.length===0}get name(){return this._name}}Object.defineProperties(Ls.prototype,{dispatch:{value:Ls.prototype.emit},run:{value:Ls.prototype.emit}});class Xf{constructor(e=0,t=0){this._width=e,this._height=t,this.destroyed=!1,this.internal=!1,this.onResize=new Ls("setRealSize"),this.onUpdate=new Ls("update"),this.onError=new Ls("onError")}bind(e){this.onResize.add(e),this.onUpdate.add(e),this.onError.add(e),(this._width||this._height)&&this.onResize.emit(this._width,this._height)}unbind(e){this.onResize.remove(e),this.onUpdate.remove(e),this.onError.remove(e)}resize(e,t){(e!==this._width||t!==this._height)&&(this._width=e,this._height=t,this.onResize.emit(e,t))}get valid(){return!!this._width&&!!this._height}update(){this.destroyed||this.onUpdate.emit()}load(){return Promise.resolve(this)}get width(){return this._width}get height(){return this._height}style(e,t,n){return!1}dispose(){}destroy(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)}static test(e,t){return!1}}class Gg extends Xf{constructor(e,t){const{width:n,height:i}=t||{};if(!n||!i)throw new Error("BufferResource width or height invalid");super(n,i),this.data=e,this.unpackAlignment=t.unpackAlignment??4}upload(e,t,n){const i=e.gl;i.pixelStorei(i.UNPACK_ALIGNMENT,this.unpackAlignment),i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.alphaMode===li.UNPACK);const s=t.realWidth,a=t.realHeight;return n.width===s&&n.height===a?i.texSubImage2D(t.target,0,0,0,s,a,t.format,n.type,this.data):(n.width=s,n.height=a,i.texImage2D(t.target,0,n.internalFormat,s,a,0,t.format,n.type,this.data)),!0}dispose(){this.data=null}static test(e){return e===null||e instanceof Int8Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array}}const V2={scaleMode:ha.NEAREST,alphaMode:li.NPM},t_=class Ac extends gp{constructor(e=null,t=null){super(),t=Object.assign({},Ac.defaultOptions,t);const{alphaMode:n,mipmap:i,anisotropicLevel:s,scaleMode:a,width:u,height:c,wrapMode:f,format:m,type:g,target:v,resolution:x,resourceOptions:S}=t;e&&!(e instanceof Xf)&&(e=cA(e,S),e.internal=!0),this.resolution=x||Ue.RESOLUTION,this.width=Math.round((u||0)*this.resolution)/this.resolution,this.height=Math.round((c||0)*this.resolution)/this.resolution,this._mipmap=i,this.anisotropicLevel=s,this._wrapMode=f,this._scaleMode=a,this.format=m,this.type=g,this.target=v,this.alphaMode=n,this.uid=gh(),this.touched=0,this.isPowerOfTwo=!1,this._refreshPOT(),this._glTextures={},this.dirtyId=0,this.dirtyStyleId=0,this.cacheId=null,this.valid=u>0&&c>0,this.textureCacheIds=[],this.destroyed=!1,this.resource=null,this._batchEnabled=0,this._batchLocation=0,this.parentTextureArray=null,this.setResource(e)}get realWidth(){return Math.round(this.width*this.resolution)}get realHeight(){return Math.round(this.height*this.resolution)}get mipmap(){return this._mipmap}set mipmap(e){this._mipmap!==e&&(this._mipmap=e,this.dirtyStyleId++)}get scaleMode(){return this._scaleMode}set scaleMode(e){this._scaleMode!==e&&(this._scaleMode=e,this.dirtyStyleId++)}get wrapMode(){return this._wrapMode}set wrapMode(e){this._wrapMode!==e&&(this._wrapMode=e,this.dirtyStyleId++)}setStyle(e,t){let n;return e!==void 0&&e!==this.scaleMode&&(this.scaleMode=e,n=!0),t!==void 0&&t!==this.mipmap&&(this.mipmap=t,n=!0),n&&this.dirtyStyleId++,this}setSize(e,t,n){return n=n||this.resolution,this.setRealSize(e*n,t*n,n)}setRealSize(e,t,n){return this.resolution=n||this.resolution,this.width=Math.round(e)/this.resolution,this.height=Math.round(t)/this.resolution,this._refreshPOT(),this.update(),this}_refreshPOT(){this.isPowerOfTwo=jS(this.realWidth)&&jS(this.realHeight)}setResolution(e){const t=this.resolution;return t===e?this:(this.resolution=e,this.valid&&(this.width=Math.round(this.width*t)/e,this.height=Math.round(this.height*t)/e,this.emit("update",this)),this._refreshPOT(),this)}setResource(e){if(this.resource===e)return this;if(this.resource)throw new Error("Resource can be set only once");return e.bind(this),this.resource=e,this}update(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))}onError(e){this.emit("error",this,e)}destroy(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete xl[this.cacheId],delete co[this.cacheId],this.cacheId=null),this.valid=!1,this.dispose(),Ac.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0,this.emit("destroyed",this),this.removeAllListeners()}dispose(){this.emit("dispose",this)}castToBaseTexture(){return this}static from(e,t,n=Ue.STRICT_TEXTURE_CACHE){const i=typeof e=="string";let s=null;if(i)s=e;else{if(!e._pixiId){const u=(t==null?void 0:t.pixiIdPrefix)||"pixiid";e._pixiId=`${u}_${gh()}`}s=e._pixiId}let a=xl[s];if(i&&n&&!a)throw new Error(`The cacheId "${s}" does not exist in BaseTextureCache.`);return a||(a=new Ac(e,t),a.cacheId=s,Ac.addToCache(a,s)),a}static fromBuffer(e,t,n,i){e=e||new Float32Array(t*n*4);const s=new Gg(e,{width:t,height:n,...i==null?void 0:i.resourceOptions});let a,u;return e instanceof Float32Array?(a=Re.RGBA,u=Je.FLOAT):e instanceof Int32Array?(a=Re.RGBA_INTEGER,u=Je.INT):e instanceof Uint32Array?(a=Re.RGBA_INTEGER,u=Je.UNSIGNED_INT):e instanceof Int16Array?(a=Re.RGBA_INTEGER,u=Je.SHORT):e instanceof Uint16Array?(a=Re.RGBA_INTEGER,u=Je.UNSIGNED_SHORT):e instanceof Int8Array?(a=Re.RGBA,u=Je.BYTE):(a=Re.RGBA,u=Je.UNSIGNED_BYTE),s.internal=!0,new Ac(s,Object.assign({},V2,{type:u,format:a},i))}static addToCache(e,t){t&&(e.textureCacheIds.includes(t)||e.textureCacheIds.push(t),xl[t]&&xl[t]!==e&&console.warn(`BaseTexture added to the cache with an id [${t}] that already had an entry`),xl[t]=e)}static removeFromCache(e){if(typeof e=="string"){const t=xl[e];if(t){const n=t.textureCacheIds.indexOf(e);return n>-1&&t.textureCacheIds.splice(n,1),delete xl[e],t}}else if(e!=null&&e.textureCacheIds){for(let t=0;t<e.textureCacheIds.length;++t)delete xl[e.textureCacheIds[t]];return e.textureCacheIds.length=0,e}return null}};t_.defaultOptions={mipmap:Co.POW2,anisotropicLevel:0,scaleMode:ha.LINEAR,wrapMode:pa.CLAMP,alphaMode:li.UNPACK,target:zc.TEXTURE_2D,format:Re.RGBA,type:Je.UNSIGNED_BYTE},t_._globalBatch=0;let lt=t_;class r_{constructor(){this.texArray=null,this.blend=0,this.type=Os.TRIANGLES,this.start=0,this.size=0,this.data=null}}let G2=0;class Er{constructor(e,t=!0,n=!1){this.data=e||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=n,this.static=t,this.id=G2++,this.disposeRunner=new Ls("disposeBuffer")}update(e){e instanceof Array&&(e=new Float32Array(e)),this.data=e||this.data,this._updateID++}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.data=null}set index(e){this.type=e?wo.ELEMENT_ARRAY_BUFFER:wo.ARRAY_BUFFER}get index(){return this.type===wo.ELEMENT_ARRAY_BUFFER}static from(e){return e instanceof Array&&(e=new Float32Array(e)),new Er(e)}}class lg{constructor(e,t=0,n=!1,i=Je.FLOAT,s,a,u,c=1){this.buffer=e,this.size=t,this.normalized=n,this.type=i,this.stride=s,this.start=a,this.instance=u,this.divisor=c}destroy(){this.buffer=null}static from(e,t,n,i,s){return new lg(e,t,n,i,s)}}const j2={Float32Array,Uint32Array,Int32Array,Uint8Array};function H2(r,e){let t=0,n=0;const i={};for(let c=0;c<r.length;c++)n+=e[c],t+=r[c].length;const s=new ArrayBuffer(t*4);let a=null,u=0;for(let c=0;c<r.length;c++){const f=e[c],m=r[c],g=hA(m);i[g]||(i[g]=new j2[g](s)),a=i[g];for(let v=0;v<m.length;v++){const x=(v/f|0)*n+u,S=v%f;a[x+S]=m[v]}u+=f}return new Float32Array(s)}const KS={5126:4,5123:2,5121:1};let $2=0;const W2={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array};class Nl{constructor(e=[],t={}){this.buffers=e,this.indexBuffer=null,this.attributes=t,this.glVertexArrayObjects={},this.id=$2++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new Ls("disposeGeometry"),this.refCount=0}addAttribute(e,t,n=0,i=!1,s,a,u,c=!1){if(!t)throw new Error("You must pass a buffer when creating an attribute");t instanceof Er||(t instanceof Array&&(t=new Float32Array(t)),t=new Er(t));const f=e.split("|");if(f.length>1){for(let g=0;g<f.length;g++)this.addAttribute(f[g],t,n,i,s);return this}let m=this.buffers.indexOf(t);return m===-1&&(this.buffers.push(t),m=this.buffers.length-1),this.attributes[e]=new lg(m,n,i,s,a,u,c),this.instanced=this.instanced||c,this}getAttribute(e){return this.attributes[e]}getBuffer(e){return this.buffers[this.getAttribute(e).buffer]}addIndex(e){return e instanceof Er||(e instanceof Array&&(e=new Uint16Array(e)),e=new Er(e)),e.type=wo.ELEMENT_ARRAY_BUFFER,this.indexBuffer=e,this.buffers.includes(e)||this.buffers.push(e),this}getIndex(){return this.indexBuffer}interleave(){if(this.buffers.length===1||this.buffers.length===2&&this.indexBuffer)return this;const e=[],t=[],n=new Er;let i;for(i in this.attributes){const s=this.attributes[i],a=this.buffers[s.buffer];e.push(a.data),t.push(s.size*KS[s.type]/4),s.buffer=0}for(n.data=H2(e,t),i=0;i<this.buffers.length;i++)this.buffers[i]!==this.indexBuffer&&this.buffers[i].destroy();return this.buffers=[n],this.indexBuffer&&this.buffers.push(this.indexBuffer),this}getSize(){for(const e in this.attributes){const t=this.attributes[e];return this.buffers[t.buffer].data.length/(t.stride/4||t.size)}return 0}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null}clone(){const e=new Nl;for(let t=0;t<this.buffers.length;t++)e.buffers[t]=new Er(this.buffers[t].data.slice(0));for(const t in this.attributes){const n=this.attributes[t];e.attributes[t]=new lg(n.buffer,n.size,n.normalized,n.type,n.stride,n.start,n.instance)}return this.indexBuffer&&(e.indexBuffer=e.buffers[this.buffers.indexOf(this.indexBuffer)],e.indexBuffer.type=wo.ELEMENT_ARRAY_BUFFER),e}static merge(e){const t=new Nl,n=[],i=[],s=[];let a;for(let u=0;u<e.length;u++){a=e[u];for(let c=0;c<a.buffers.length;c++)i[c]=i[c]||0,i[c]+=a.buffers[c].data.length,s[c]=0}for(let u=0;u<a.buffers.length;u++)n[u]=new W2[hA(a.buffers[u].data)](i[u]),t.buffers[u]=new Er(n[u]);for(let u=0;u<e.length;u++){a=e[u];for(let c=0;c<a.buffers.length;c++)n[c].set(a.buffers[c].data,s[c]),s[c]+=a.buffers[c].data.length}if(t.attributes=a.attributes,a.indexBuffer){t.indexBuffer=t.buffers[a.buffers.indexOf(a.indexBuffer)],t.indexBuffer.type=wo.ELEMENT_ARRAY_BUFFER;let u=0,c=0,f=0,m=0;for(let g=0;g<a.buffers.length;g++)if(a.buffers[g]!==a.indexBuffer){m=g;break}for(const g in a.attributes){const v=a.attributes[g];(v.buffer|0)===m&&(c+=v.size*KS[v.type]/4)}for(let g=0;g<e.length;g++){const v=e[g].indexBuffer.data;for(let x=0;x<v.length;x++)t.indexBuffer.data[x+f]+=u;u+=e[g].buffers[m].data.length/c,f+=v.length}}return t}}class dA extends Nl{constructor(e=!1){super(),this._buffer=new Er(null,e,!1),this._indexBuffer=new Er(null,e,!0),this.addAttribute("aVertexPosition",this._buffer,2,!1,Je.FLOAT).addAttribute("aTextureCoord",this._buffer,2,!1,Je.FLOAT).addAttribute("aColor",this._buffer,4,!0,Je.UNSIGNED_BYTE).addAttribute("aTextureId",this._buffer,1,!0,Je.FLOAT).addIndex(this._indexBuffer)}}const ug=Math.PI*2,X2=180/Math.PI,Y2=Math.PI/180;var an=(r=>(r[r.POLY=0]="POLY",r[r.RECT=1]="RECT",r[r.CIRC=2]="CIRC",r[r.ELIP=3]="ELIP",r[r.RREC=4]="RREC",r))(an||{});class gt{constructor(e=0,t=0){this.x=0,this.y=0,this.x=e,this.y=t}clone(){return new gt(this.x,this.y)}copyFrom(e){return this.set(e.x,e.y),this}copyTo(e){return e.set(this.x,this.y),e}equals(e){return e.x===this.x&&e.y===this.y}set(e=0,t=e){return this.x=e,this.y=t,this}}gt.prototype.toString=function(){return`[@pixi/math:Point x=${this.x} y=${this.y}]`};const mm=[new gt,new gt,new gt,new gt];class ht{constructor(e=0,t=0,n=0,i=0){this.x=Number(e),this.y=Number(t),this.width=Number(n),this.height=Number(i),this.type=an.RECT}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}static get EMPTY(){return new ht(0,0,0,0)}clone(){return new ht(this.x,this.y,this.width,this.height)}copyFrom(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this}copyTo(e){return e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e}contains(e,t){return this.width<=0||this.height<=0?!1:e>=this.x&&e<this.x+this.width&&t>=this.y&&t<this.y+this.height}intersects(e,t){if(!t){const G=this.x<e.x?e.x:this.x;if((this.right>e.right?e.right:this.right)<=G)return!1;const X=this.y<e.y?e.y:this.y;return(this.bottom>e.bottom?e.bottom:this.bottom)>X}const n=this.left,i=this.right,s=this.top,a=this.bottom;if(i<=n||a<=s)return!1;const u=mm[0].set(e.left,e.top),c=mm[1].set(e.left,e.bottom),f=mm[2].set(e.right,e.top),m=mm[3].set(e.right,e.bottom);if(f.x<=u.x||c.y<=u.y)return!1;const g=Math.sign(t.a*t.d-t.b*t.c);if(g===0||(t.apply(u,u),t.apply(c,c),t.apply(f,f),t.apply(m,m),Math.max(u.x,c.x,f.x,m.x)<=n||Math.min(u.x,c.x,f.x,m.x)>=i||Math.max(u.y,c.y,f.y,m.y)<=s||Math.min(u.y,c.y,f.y,m.y)>=a))return!1;const v=g*(c.y-u.y),x=g*(u.x-c.x),S=v*n+x*s,b=v*i+x*s,E=v*n+x*a,P=v*i+x*a;if(Math.max(S,b,E,P)<=v*u.x+x*u.y||Math.min(S,b,E,P)>=v*m.x+x*m.y)return!1;const k=g*(u.y-f.y),R=g*(f.x-u.x),L=k*n+R*s,D=k*i+R*s,H=k*n+R*a,N=k*i+R*a;return!(Math.max(L,D,H,N)<=k*u.x+R*u.y||Math.min(L,D,H,N)>=k*m.x+R*m.y)}pad(e=0,t=e){return this.x-=e,this.y-=t,this.width+=e*2,this.height+=t*2,this}fit(e){const t=Math.max(this.x,e.x),n=Math.min(this.x+this.width,e.x+e.width),i=Math.max(this.y,e.y),s=Math.min(this.y+this.height,e.y+e.height);return this.x=t,this.width=Math.max(n-t,0),this.y=i,this.height=Math.max(s-i,0),this}ceil(e=1,t=.001){const n=Math.ceil((this.x+this.width-t)*e)/e,i=Math.ceil((this.y+this.height-t)*e)/e;return this.x=Math.floor((this.x+t)*e)/e,this.y=Math.floor((this.y+t)*e)/e,this.width=n-this.x,this.height=i-this.y,this}enlarge(e){const t=Math.min(this.x,e.x),n=Math.max(this.x+this.width,e.x+e.width),i=Math.min(this.y,e.y),s=Math.max(this.y+this.height,e.y+e.height);return this.x=t,this.width=n-t,this.y=i,this.height=s-i,this}}ht.prototype.toString=function(){return`[@pixi/math:Rectangle x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`};class jg{constructor(e=0,t=0,n=0){this.x=e,this.y=t,this.radius=n,this.type=an.CIRC}clone(){return new jg(this.x,this.y,this.radius)}contains(e,t){if(this.radius<=0)return!1;const n=this.radius*this.radius;let i=this.x-e,s=this.y-t;return i*=i,s*=s,i+s<=n}getBounds(){return new ht(this.x-this.radius,this.y-this.radius,this.radius*2,this.radius*2)}}jg.prototype.toString=function(){return`[@pixi/math:Circle x=${this.x} y=${this.y} radius=${this.radius}]`};class Hg{constructor(e=0,t=0,n=0,i=0){this.x=e,this.y=t,this.width=n,this.height=i,this.type=an.ELIP}clone(){return new Hg(this.x,this.y,this.width,this.height)}contains(e,t){if(this.width<=0||this.height<=0)return!1;let n=(e-this.x)/this.width,i=(t-this.y)/this.height;return n*=n,i*=i,n+i<=1}getBounds(){return new ht(this.x-this.width,this.y-this.height,this.width,this.height)}}Hg.prototype.toString=function(){return`[@pixi/math:Ellipse x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`};class uh{constructor(...e){let t=Array.isArray(e[0])?e[0]:e;if(typeof t[0]!="number"){const n=[];for(let i=0,s=t.length;i<s;i++)n.push(t[i].x,t[i].y);t=n}this.points=t,this.type=an.POLY,this.closeStroke=!0}clone(){const e=this.points.slice(),t=new uh(e);return t.closeStroke=this.closeStroke,t}contains(e,t){let n=!1;const i=this.points.length/2;for(let s=0,a=i-1;s<i;a=s++){const u=this.points[s*2],c=this.points[s*2+1],f=this.points[a*2],m=this.points[a*2+1];c>t!=m>t&&e<(f-u)*((t-c)/(m-c))+u&&(n=!n)}return n}}uh.prototype.toString=function(){return`[@pixi/math:PolygoncloseStroke=${this.closeStroke}points=${this.points.reduce((r,e)=>`${r}, ${e}`,"")}]`};class $g{constructor(e=0,t=0,n=0,i=0,s=20){this.x=e,this.y=t,this.width=n,this.height=i,this.radius=s,this.type=an.RREC}clone(){return new $g(this.x,this.y,this.width,this.height,this.radius)}contains(e,t){if(this.width<=0||this.height<=0)return!1;if(e>=this.x&&e<=this.x+this.width&&t>=this.y&&t<=this.y+this.height){const n=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(t>=this.y+n&&t<=this.y+this.height-n||e>=this.x+n&&e<=this.x+this.width-n)return!0;let i=e-(this.x+n),s=t-(this.y+n);const a=n*n;if(i*i+s*s<=a||(i=e-(this.x+this.width-n),i*i+s*s<=a)||(s=t-(this.y+this.height-n),i*i+s*s<=a)||(i=e-(this.x+n),i*i+s*s<=a))return!0}return!1}}$g.prototype.toString=function(){return`[@pixi/math:RoundedRectangle x=${this.x} y=${this.y}width=${this.width} height=${this.height} radius=${this.radius}]`};class Wt{constructor(e=1,t=0,n=0,i=1,s=0,a=0){this.array=null,this.a=e,this.b=t,this.c=n,this.d=i,this.tx=s,this.ty=a}fromArray(e){this.a=e[0],this.b=e[1],this.c=e[3],this.d=e[4],this.tx=e[2],this.ty=e[5]}set(e,t,n,i,s,a){return this.a=e,this.b=t,this.c=n,this.d=i,this.tx=s,this.ty=a,this}toArray(e,t){this.array||(this.array=new Float32Array(9));const n=t||this.array;return e?(n[0]=this.a,n[1]=this.b,n[2]=0,n[3]=this.c,n[4]=this.d,n[5]=0,n[6]=this.tx,n[7]=this.ty,n[8]=1):(n[0]=this.a,n[1]=this.c,n[2]=this.tx,n[3]=this.b,n[4]=this.d,n[5]=this.ty,n[6]=0,n[7]=0,n[8]=1),n}apply(e,t){t=t||new gt;const n=e.x,i=e.y;return t.x=this.a*n+this.c*i+this.tx,t.y=this.b*n+this.d*i+this.ty,t}applyInverse(e,t){t=t||new gt;const n=1/(this.a*this.d+this.c*-this.b),i=e.x,s=e.y;return t.x=this.d*n*i+-this.c*n*s+(this.ty*this.c-this.tx*this.d)*n,t.y=this.a*n*s+-this.b*n*i+(-this.ty*this.a+this.tx*this.b)*n,t}translate(e,t){return this.tx+=e,this.ty+=t,this}scale(e,t){return this.a*=e,this.d*=t,this.c*=e,this.b*=t,this.tx*=e,this.ty*=t,this}rotate(e){const t=Math.cos(e),n=Math.sin(e),i=this.a,s=this.c,a=this.tx;return this.a=i*t-this.b*n,this.b=i*n+this.b*t,this.c=s*t-this.d*n,this.d=s*n+this.d*t,this.tx=a*t-this.ty*n,this.ty=a*n+this.ty*t,this}append(e){const t=this.a,n=this.b,i=this.c,s=this.d;return this.a=e.a*t+e.b*i,this.b=e.a*n+e.b*s,this.c=e.c*t+e.d*i,this.d=e.c*n+e.d*s,this.tx=e.tx*t+e.ty*i+this.tx,this.ty=e.tx*n+e.ty*s+this.ty,this}setTransform(e,t,n,i,s,a,u,c,f){return this.a=Math.cos(u+f)*s,this.b=Math.sin(u+f)*s,this.c=-Math.sin(u-c)*a,this.d=Math.cos(u-c)*a,this.tx=e-(n*this.a+i*this.c),this.ty=t-(n*this.b+i*this.d),this}prepend(e){const t=this.tx;if(e.a!==1||e.b!==0||e.c!==0||e.d!==1){const n=this.a,i=this.c;this.a=n*e.a+this.b*e.c,this.b=n*e.b+this.b*e.d,this.c=i*e.a+this.d*e.c,this.d=i*e.b+this.d*e.d}return this.tx=t*e.a+this.ty*e.c+e.tx,this.ty=t*e.b+this.ty*e.d+e.ty,this}decompose(e){const t=this.a,n=this.b,i=this.c,s=this.d,a=e.pivot,u=-Math.atan2(-i,s),c=Math.atan2(n,t),f=Math.abs(u+c);return f<1e-5||Math.abs(ug-f)<1e-5?(e.rotation=c,e.skew.x=e.skew.y=0):(e.rotation=0,e.skew.x=u,e.skew.y=c),e.scale.x=Math.sqrt(t*t+n*n),e.scale.y=Math.sqrt(i*i+s*s),e.position.x=this.tx+(a.x*t+a.y*i),e.position.y=this.ty+(a.x*n+a.y*s),e}invert(){const e=this.a,t=this.b,n=this.c,i=this.d,s=this.tx,a=e*i-t*n;return this.a=i/a,this.b=-t/a,this.c=-n/a,this.d=e/a,this.tx=(n*this.ty-i*s)/a,this.ty=-(e*this.ty-t*s)/a,this}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){const e=new Wt;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyTo(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyFrom(e){return this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty,this}static get IDENTITY(){return new Wt}static get TEMP_MATRIX(){return new Wt}}Wt.prototype.toString=function(){return`[@pixi/math:Matrix a=${this.a} b=${this.b} c=${this.c} d=${this.d} tx=${this.tx} ty=${this.ty}]`};const Zu=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],Ju=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],eh=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],th=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],n_=[],fA=[],gm=Math.sign;function q2(){for(let r=0;r<16;r++){const e=[];n_.push(e);for(let t=0;t<16;t++){const n=gm(Zu[r]*Zu[t]+eh[r]*Ju[t]),i=gm(Ju[r]*Zu[t]+th[r]*Ju[t]),s=gm(Zu[r]*eh[t]+eh[r]*th[t]),a=gm(Ju[r]*eh[t]+th[r]*th[t]);for(let u=0;u<16;u++)if(Zu[u]===n&&Ju[u]===i&&eh[u]===s&&th[u]===a){e.push(u);break}}}for(let r=0;r<16;r++){const e=new Wt;e.set(Zu[r],Ju[r],eh[r],th[r],0,0),fA.push(e)}}q2();const rr={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:r=>Zu[r],uY:r=>Ju[r],vX:r=>eh[r],vY:r=>th[r],inv:r=>r&8?r&15:-r&7,add:(r,e)=>n_[r][e],sub:(r,e)=>n_[r][rr.inv(e)],rotate180:r=>r^4,isVertical:r=>(r&3)===2,byDirection:(r,e)=>Math.abs(r)*2<=Math.abs(e)?e>=0?rr.S:rr.N:Math.abs(e)*2<=Math.abs(r)?r>0?rr.E:rr.W:e>0?r>0?rr.SE:rr.SW:r>0?rr.NE:rr.NW,matrixAppendRotationInv:(r,e,t=0,n=0)=>{const i=fA[rr.inv(e)];i.tx=t,i.ty=n,r.append(i)}};class _o{constructor(e,t,n=0,i=0){this._x=n,this._y=i,this.cb=e,this.scope=t}clone(e=this.cb,t=this.scope){return new _o(e,t,this._x,this._y)}set(e=0,t=e){return(this._x!==e||this._y!==t)&&(this._x=e,this._y=t,this.cb.call(this.scope)),this}copyFrom(e){return(this._x!==e.x||this._y!==e.y)&&(this._x=e.x,this._y=e.y,this.cb.call(this.scope)),this}copyTo(e){return e.set(this._x,this._y),e}equals(e){return e.x===this._x&&e.y===this._y}get x(){return this._x}set x(e){this._x!==e&&(this._x=e,this.cb.call(this.scope))}get y(){return this._y}set y(e){this._y!==e&&(this._y=e,this.cb.call(this.scope))}}_o.prototype.toString=function(){return`[@pixi/math:ObservablePoint x=${this.x} y=${this.y} scope=${this.scope}]`};const i_=class{constructor(){this.worldTransform=new Wt,this.localTransform=new Wt,this.position=new _o(this.onChange,this,0,0),this.scale=new _o(this.onChange,this,1,1),this.pivot=new _o(this.onChange,this,0,0),this.skew=new _o(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}onChange(){this._localID++}updateSkew(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++}updateLocalTransform(){const r=this.localTransform;this._localID!==this._currentLocalID&&(r.a=this._cx*this.scale.x,r.b=this._sx*this.scale.x,r.c=this._cy*this.scale.y,r.d=this._sy*this.scale.y,r.tx=this.position.x-(this.pivot.x*r.a+this.pivot.y*r.c),r.ty=this.position.y-(this.pivot.x*r.b+this.pivot.y*r.d),this._currentLocalID=this._localID,this._parentID=-1)}updateTransform(r){const e=this.localTransform;if(this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==r._worldID){const t=r.worldTransform,n=this.worldTransform;n.a=e.a*t.a+e.b*t.c,n.b=e.a*t.b+e.b*t.d,n.c=e.c*t.a+e.d*t.c,n.d=e.c*t.b+e.d*t.d,n.tx=e.tx*t.a+e.ty*t.c+t.tx,n.ty=e.tx*t.b+e.ty*t.d+t.ty,this._parentID=r._worldID,this._worldID++}}setFromMatrix(r){r.decompose(this),this._localID++}get rotation(){return this._rotation}set rotation(r){this._rotation!==r&&(this._rotation=r,this.updateSkew())}};i_.IDENTITY=new i_;let Wg=i_;Wg.prototype.toString=function(){return`[@pixi/math:Transform position=(${this.position.x}, ${this.position.y}) rotation=${this.rotation} scale=(${this.scale.x}, ${this.scale.y}) skew=(${this.skew.x}, ${this.skew.y}) ]`};var K2=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor *= texture2D(uSampler, vTextureCoord);
}`,Q2=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void){
   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
   vTextureCoord = aTextureCoord;
}
`;function QS(r,e,t){const n=r.createShader(e);return r.shaderSource(n,t),r.compileShader(n),n}function a0(r){const e=new Array(r);for(let t=0;t<e.length;t++)e[t]=!1;return e}function pA(r,e){switch(r){case"float":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"uvec2":return new Uint32Array(2*e);case"uvec3":return new Uint32Array(3*e);case"uvec4":return new Uint32Array(4*e);case"bool":return!1;case"bvec2":return a0(2*e);case"bvec3":return a0(3*e);case"bvec4":return a0(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}const Gc=[{test:r=>r.type==="float"&&r.size===1&&!r.isArray,code:r=>`
            if(uv["${r}"] !== ud["${r}"].value)
            {
                ud["${r}"].value = uv["${r}"]
                gl.uniform1f(ud["${r}"].location, uv["${r}"])
            }
            `},{test:(r,e)=>(r.type==="sampler2D"||r.type==="samplerCube"||r.type==="sampler2DArray")&&r.size===1&&!r.isArray&&(e==null||e.castToBaseTexture!==void 0),code:r=>`t = syncData.textureCount++;

            renderer.texture.bind(uv["${r}"], t);

            if(ud["${r}"].value !== t)
            {
                ud["${r}"].value = t;
                gl.uniform1i(ud["${r}"].location, t);
; // eslint-disable-line max-len
            }`},{test:(r,e)=>r.type==="mat3"&&r.size===1&&!r.isArray&&e.a!==void 0,code:r=>`
            gl.uniformMatrix3fv(ud["${r}"].location, false, uv["${r}"].toArray(true));
            `,codeUbo:r=>`
                var ${r}_matrix = uv.${r}.toArray(true);

                data[offset] = ${r}_matrix[0];
                data[offset+1] = ${r}_matrix[1];
                data[offset+2] = ${r}_matrix[2];
        
                data[offset + 4] = ${r}_matrix[3];
                data[offset + 5] = ${r}_matrix[4];
                data[offset + 6] = ${r}_matrix[5];
        
                data[offset + 8] = ${r}_matrix[6];
                data[offset + 9] = ${r}_matrix[7];
                data[offset + 10] = ${r}_matrix[8];
            `},{test:(r,e)=>r.type==="vec2"&&r.size===1&&!r.isArray&&e.x!==void 0,code:r=>`
                cv = ud["${r}"].value;
                v = uv["${r}"];

                if(cv[0] !== v.x || cv[1] !== v.y)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    gl.uniform2f(ud["${r}"].location, v.x, v.y);
                }`,codeUbo:r=>`
                v = uv.${r};

                data[offset] = v.x;
                data[offset+1] = v.y;
            `},{test:r=>r.type==="vec2"&&r.size===1&&!r.isArray,code:r=>`
                cv = ud["${r}"].value;
                v = uv["${r}"];

                if(cv[0] !== v[0] || cv[1] !== v[1])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    gl.uniform2f(ud["${r}"].location, v[0], v[1]);
                }
            `},{test:(r,e)=>r.type==="vec4"&&r.size===1&&!r.isArray&&e.width!==void 0,code:r=>`
                cv = ud["${r}"].value;
                v = uv["${r}"];

                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    cv[2] = v.width;
                    cv[3] = v.height;
                    gl.uniform4f(ud["${r}"].location, v.x, v.y, v.width, v.height)
                }`,codeUbo:r=>`
                    v = uv.${r};

                    data[offset] = v.x;
                    data[offset+1] = v.y;
                    data[offset+2] = v.width;
                    data[offset+3] = v.height;
                `},{test:(r,e)=>r.type==="vec4"&&r.size===1&&!r.isArray&&e.red!==void 0,code:r=>`
                cv = ud["${r}"].value;
                v = uv["${r}"];

                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.alpha)
                {
                    cv[0] = v.red;
                    cv[1] = v.green;
                    cv[2] = v.blue;
                    cv[3] = v.alpha;
                    gl.uniform4f(ud["${r}"].location, v.red, v.green, v.blue, v.alpha)
                }`,codeUbo:r=>`
                    v = uv.${r};

                    data[offset] = v.red;
                    data[offset+1] = v.green;
                    data[offset+2] = v.blue;
                    data[offset+3] = v.alpha;
                `},{test:(r,e)=>r.type==="vec3"&&r.size===1&&!r.isArray&&e.red!==void 0,code:r=>`
                cv = ud["${r}"].value;
                v = uv["${r}"];

                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.a)
                {
                    cv[0] = v.red;
                    cv[1] = v.green;
                    cv[2] = v.blue;
    
                    gl.uniform3f(ud["${r}"].location, v.red, v.green, v.blue)
                }`,codeUbo:r=>`
                    v = uv.${r};

                    data[offset] = v.red;
                    data[offset+1] = v.green;
                    data[offset+2] = v.blue;
                `},{test:r=>r.type==="vec4"&&r.size===1&&!r.isArray,code:r=>`
                cv = ud["${r}"].value;
                v = uv["${r}"];

                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    cv[2] = v[2];
                    cv[3] = v[3];

                    gl.uniform4f(ud["${r}"].location, v[0], v[1], v[2], v[3])
                }`}],Z2={float:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1f(location, v);
    }`,vec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2f(location, v[0], v[1])
    }`,vec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3f(location, v[0], v[1], v[2])
    }`,vec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4f(location, v[0], v[1], v[2], v[3]);
    }`,int:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,ivec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,ivec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,ivec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,uint:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1ui(location, v);
    }`,uvec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2ui(location, v[0], v[1]);
    }`,uvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3ui(location, v[0], v[1], v[2]);
    }`,uvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);
    }`,bool:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1i(location, v);
    }`,bvec2:`
    if (cv[0] != v[0] || cv[1] != v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,bvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,bvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,samplerCube:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,sampler2DArray:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`},J2={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};function eD(r,e){var n;const t=[`
        var v = null;
        var cv = null;
        var cu = null;
        var t = 0;
        var gl = renderer.gl;
    `];for(const i in r.uniforms){const s=e[i];if(!s){((n=r.uniforms[i])==null?void 0:n.group)===!0&&(r.uniforms[i].ubo?t.push(`
                        renderer.shader.syncUniformBufferGroup(uv.${i}, '${i}');
                    `):t.push(`
                        renderer.shader.syncUniformGroup(uv.${i}, syncData);
                    `));continue}const a=r.uniforms[i];let u=!1;for(let c=0;c<Gc.length;c++)if(Gc[c].test(s,a)){t.push(Gc[c].code(i,a)),u=!0;break}if(!u){const c=(s.size===1&&!s.isArray?Z2:J2)[s.type].replace("location",`ud["${i}"].location`);t.push(`
            cu = ud["${i}"];
            cv = cu.value;
            v = uv["${i}"];
            ${c};`)}}return new Function("ud","uv","renderer","syncData",t.join(`
`))}const mA={};let xc=mA;function tD(){if(xc===mA||xc!=null&&xc.isContextLost()){const r=Ue.ADAPTER.createCanvas();let e;Ue.PREFER_ENV>=_h.WEBGL2&&(e=r.getContext("webgl2",{})),e||(e=r.getContext("webgl",{})||r.getContext("experimental-webgl",{}),e?e.getExtension("WEBGL_draw_buffers"):e=null),xc=e}return xc}let ym;function rD(){if(!ym){ym=es.MEDIUM;const r=tD();if(r&&r.getShaderPrecisionFormat){const e=r.getShaderPrecisionFormat(r.FRAGMENT_SHADER,r.HIGH_FLOAT);e&&(ym=e.precision?es.HIGH:es.MEDIUM)}}return ym}function ZS(r,e){const t=r.getShaderSource(e).split(`
`).map((f,m)=>`${m}: ${f}`),n=r.getShaderInfoLog(e),i=n.split(`
`),s={},a=i.map(f=>parseFloat(f.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))).filter(f=>f&&!s[f]?(s[f]=!0,!0):!1),u=[""];a.forEach(f=>{t[f-1]=`%c${t[f-1]}%c`,u.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")});const c=t.join(`
`);u[0]=c,console.error(n),console.groupCollapsed("click to view full shader code"),console.warn(...u),console.groupEnd()}function nD(r,e,t,n){r.getProgramParameter(e,r.LINK_STATUS)||(r.getShaderParameter(t,r.COMPILE_STATUS)||ZS(r,t),r.getShaderParameter(n,r.COMPILE_STATUS)||ZS(r,n),console.error("PixiJS Error: Could not initialize shader."),r.getProgramInfoLog(e)!==""&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",r.getProgramInfoLog(e)))}const iD={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function gA(r){return iD[r]}let vm=null;const JS={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function yA(r,e){if(!vm){const t=Object.keys(JS);vm={};for(let n=0;n<t.length;++n){const i=t[n];vm[r[i]]=JS[i]}}return vm[e]}function eb(r,e,t){if(r.substring(0,9)!=="precision"){let n=e;return e===es.HIGH&&t!==es.HIGH&&(n=es.MEDIUM),`precision ${n} float;
${r}`}else if(t!==es.HIGH&&r.substring(0,15)==="precision highp")return r.replace("precision highp","precision mediump");return r}let mf;function sD(){if(typeof mf=="boolean")return mf;try{mf=new Function("param1","param2","param3","return param1[param2] === param3;")({a:"b"},"a","b")===!0}catch{mf=!1}return mf}let oD=0;const _m={},s_=class Cc{constructor(e,t,n="pixi-shader",i={}){this.extra={},this.id=oD++,this.vertexSrc=e||Cc.defaultVertexSrc,this.fragmentSrc=t||Cc.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),this.extra=i,this.vertexSrc.substring(0,8)!=="#version"&&(n=n.replace(/\s+/g,"-"),_m[n]?(_m[n]++,n+=`-${_m[n]}`):_m[n]=1,this.vertexSrc=`#define SHADER_NAME ${n}
${this.vertexSrc}`,this.fragmentSrc=`#define SHADER_NAME ${n}
${this.fragmentSrc}`,this.vertexSrc=eb(this.vertexSrc,Cc.defaultVertexPrecision,es.HIGH),this.fragmentSrc=eb(this.fragmentSrc,Cc.defaultFragmentPrecision,rD())),this.glPrograms={},this.syncUniforms=null}static get defaultVertexSrc(){return Q2}static get defaultFragmentSrc(){return K2}static from(e,t,n){const i=e+t;let s=WS[i];return s||(WS[i]=s=new Cc(e,t,n)),s}};s_.defaultVertexPrecision=es.HIGH,s_.defaultFragmentPrecision=ca.apple.device?es.HIGH:es.MEDIUM;let da=s_,aD=0;class Bs{constructor(e,t,n){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=aD++,this.static=!!t,this.ubo=!!n,e instanceof Er?(this.buffer=e,this.buffer.type=wo.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=e,this.ubo&&(this.buffer=new Er(new Float32Array(1)),this.buffer.type=wo.UNIFORM_BUFFER,this.autoManage=!0))}update(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()}add(e,t,n){if(!this.ubo)this.uniforms[e]=new Bs(t,n);else throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them")}static from(e,t,n){return new Bs(e,t,n)}static uboFrom(e,t){return new Bs(e,t??!0,!0)}}class So{constructor(e,t){this.uniformBindCount=0,this.program=e,t?t instanceof Bs?this.uniformGroup=t:this.uniformGroup=new Bs(t):this.uniformGroup=new Bs({}),this.disposeRunner=new Ls("disposeShader")}checkUniformExists(e,t){if(t.uniforms[e])return!0;for(const n in t.uniforms){const i=t.uniforms[n];if(i.group===!0&&this.checkUniformExists(e,i))return!0}return!1}destroy(){this.uniformGroup=null,this.disposeRunner.emit(this),this.disposeRunner.destroy()}get uniforms(){return this.uniformGroup.uniforms}static from(e,t,n){const i=da.from(e,t);return new So(i,n)}}class lD{constructor(e,t){if(this.vertexSrc=e,this.fragTemplate=t,this.programCache={},this.defaultGroupCache={},!t.includes("%count%"))throw new Error('Fragment template must contain "%count%".');if(!t.includes("%forloop%"))throw new Error('Fragment template must contain "%forloop%".')}generateShader(e){if(!this.programCache[e]){const n=new Int32Array(e);for(let s=0;s<e;s++)n[s]=s;this.defaultGroupCache[e]=Bs.from({uSamplers:n},!0);let i=this.fragTemplate;i=i.replace(/%count%/gi,`${e}`),i=i.replace(/%forloop%/gi,this.generateSampleSrc(e)),this.programCache[e]=new da(this.vertexSrc,i)}const t={tint:new Float32Array([1,1,1,1]),translationMatrix:new Wt,default:this.defaultGroupCache[e]};return new So(this.programCache[e],t)}generateSampleSrc(e){let t="";t+=`
`,t+=`
`;for(let n=0;n<e;n++)n>0&&(t+=`
else `),n<e-1&&(t+=`if(vTextureId < ${n}.5)`),t+=`
{`,t+=`
	color = texture2D(uSamplers[${n}], vTextureCoord);`,t+=`
}`;return t+=`
`,t+=`
`,t}}class o_{constructor(){this.elements=[],this.ids=[],this.count=0}clear(){for(let e=0;e<this.count;e++)this.elements[e]=null;this.count=0}}function uD(){return!ca.apple.device}function hD(r){let e=!0;const t=Ue.ADAPTER.getNavigator();if(ca.tablet||ca.phone){if(ca.apple.device){const n=t.userAgent.match(/OS (\d+)_(\d+)?/);n&&parseInt(n[1],10)<11&&(e=!1)}if(ca.android.device){const n=t.userAgent.match(/Android\s([0-9.]*)/);n&&parseInt(n[1],10)<7&&(e=!1)}}return e?r:4}class Xg{constructor(e){this.renderer=e}flush(){}destroy(){this.renderer=null}start(){}stop(){this.flush()}render(e){}}var cD=`varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;
uniform sampler2D uSamplers[%count%];

void main(void){
    vec4 color;
    %forloop%
    gl_FragColor = color * vColor;
}
`,dD=`precision highp float;
attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;
attribute float aTextureId;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform vec4 tint;

varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;

void main(void){
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vTextureId = aTextureId;
    vColor = aColor * tint;
}
`;const bf=class Is extends Xg{constructor(e){super(e),this.setShaderGenerator(),this.geometryClass=dA,this.vertexSize=6,this.state=Mo.for2d(),this.size=Is.defaultBatchSize*4,this._vertexCount=0,this._indexCount=0,this._bufferedElements=[],this._bufferedTextures=[],this._bufferSize=0,this._shader=null,this._packedGeometries=[],this._packedGeometryPoolSize=2,this._flushId=0,this._aBuffers={},this._iBuffers={},this.maxTextures=1,this.renderer.on("prerender",this.onPrerender,this),e.runners.contextChange.add(this),this._dcIndex=0,this._aIndex=0,this._iIndex=0,this._attributeBuffer=null,this._indexBuffer=null,this._tempBoundTextures=[]}static get defaultMaxTextures(){return this._defaultMaxTextures=this._defaultMaxTextures??hD(32),this._defaultMaxTextures}static set defaultMaxTextures(e){this._defaultMaxTextures=e}static get canUploadSameBuffer(){return this._canUploadSameBuffer=this._canUploadSameBuffer??uD(),this._canUploadSameBuffer}static set canUploadSameBuffer(e){this._canUploadSameBuffer=e}get MAX_TEXTURES(){return mt("7.1.0","BatchRenderer#MAX_TEXTURES renamed to BatchRenderer#maxTextures"),this.maxTextures}static get defaultVertexSrc(){return dD}static get defaultFragmentTemplate(){return cD}setShaderGenerator({vertex:e=Is.defaultVertexSrc,fragment:t=Is.defaultFragmentTemplate}={}){this.shaderGenerator=new lD(e,t)}contextChange(){const e=this.renderer.gl;Ue.PREFER_ENV===_h.WEBGL_LEGACY?this.maxTextures=1:(this.maxTextures=Math.min(e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),Is.defaultMaxTextures),this.maxTextures=z2(this.maxTextures,e)),this._shader=this.shaderGenerator.generateShader(this.maxTextures);for(let t=0;t<this._packedGeometryPoolSize;t++)this._packedGeometries[t]=new this.geometryClass;this.initFlushBuffers()}initFlushBuffers(){const{_drawCallPool:e,_textureArrayPool:t}=Is,n=this.size/4,i=Math.floor(n/this.maxTextures)+1;for(;e.length<n;)e.push(new r_);for(;t.length<i;)t.push(new o_);for(let s=0;s<this.maxTextures;s++)this._tempBoundTextures[s]=null}onPrerender(){this._flushId=0}render(e){e._texture.valid&&(this._vertexCount+e.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=e.vertexData.length/2,this._indexCount+=e.indices.length,this._bufferedTextures[this._bufferSize]=e._texture.baseTexture,this._bufferedElements[this._bufferSize++]=e)}buildTexturesAndDrawCalls(){const{_bufferedTextures:e,maxTextures:t}=this,n=Is._textureArrayPool,i=this.renderer.batch,s=this._tempBoundTextures,a=this.renderer.textureGC.count;let u=++lt._globalBatch,c=0,f=n[0],m=0;i.copyBoundTextures(s,t);for(let g=0;g<this._bufferSize;++g){const v=e[g];e[g]=null,v._batchEnabled!==u&&(f.count>=t&&(i.boundArray(f,s,u,t),this.buildDrawCalls(f,m,g),m=g,f=n[++c],++u),v._batchEnabled=u,v.touched=a,f.elements[f.count++]=v)}f.count>0&&(i.boundArray(f,s,u,t),this.buildDrawCalls(f,m,this._bufferSize),++c,++u);for(let g=0;g<s.length;g++)s[g]=null;lt._globalBatch=u}buildDrawCalls(e,t,n){const{_bufferedElements:i,_attributeBuffer:s,_indexBuffer:a,vertexSize:u}=this,c=Is._drawCallPool;let f=this._dcIndex,m=this._aIndex,g=this._iIndex,v=c[f];v.start=this._iIndex,v.texArray=e;for(let x=t;x<n;++x){const S=i[x],b=S._texture.baseTexture,E=lA[b.alphaMode?1:0][S.blendMode];i[x]=null,t<x&&v.blend!==E&&(v.size=g-v.start,t=x,v=c[++f],v.texArray=e,v.start=g),this.packInterleavedGeometry(S,s,a,m,g),m+=S.vertexData.length/2*u,g+=S.indices.length,v.blend=E}t<n&&(v.size=g-v.start,++f),this._dcIndex=f,this._aIndex=m,this._iIndex=g}bindAndClearTexArray(e){const t=this.renderer.texture;for(let n=0;n<e.count;n++)t.bind(e.elements[n],e.ids[n]),e.elements[n]=null;e.count=0}updateGeometry(){const{_packedGeometries:e,_attributeBuffer:t,_indexBuffer:n}=this;Is.canUploadSameBuffer?(e[this._flushId]._buffer.update(t.rawBinaryData),e[this._flushId]._indexBuffer.update(n),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,e[this._flushId]=new this.geometryClass),e[this._flushId]._buffer.update(t.rawBinaryData),e[this._flushId]._indexBuffer.update(n),this.renderer.geometry.bind(e[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)}drawBatches(){const e=this._dcIndex,{gl:t,state:n}=this.renderer,i=Is._drawCallPool;let s=null;for(let a=0;a<e;a++){const{texArray:u,type:c,size:f,start:m,blend:g}=i[a];s!==u&&(s=u,this.bindAndClearTexArray(u)),this.state.blendMode=g,n.set(this.state),t.drawElements(c,f,t.UNSIGNED_SHORT,m*2)}}flush(){this._vertexCount!==0&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)}start(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.maxTextures),this.renderer.shader.bind(this._shader),Is.canUploadSameBuffer&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])}stop(){this.flush()}destroy(){for(let e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]&&this._packedGeometries[e].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),super.destroy()}getAttributeBuffer(e){const t=ag(Math.ceil(e/8)),n=HS(t),i=t*8;this._aBuffers.length<=n&&(this._iBuffers.length=n+1);let s=this._aBuffers[i];return s||(this._aBuffers[i]=s=new J0(i*this.vertexSize*4)),s}getIndexBuffer(e){const t=ag(Math.ceil(e/12)),n=HS(t),i=t*12;this._iBuffers.length<=n&&(this._iBuffers.length=n+1);let s=this._iBuffers[n];return s||(this._iBuffers[n]=s=new Uint16Array(i)),s}packInterleavedGeometry(e,t,n,i,s){const{uint32View:a,float32View:u}=t,c=i/this.vertexSize,f=e.uvs,m=e.indices,g=e.vertexData,v=e._texture.baseTexture._batchLocation,x=Math.min(e.worldAlpha,1),S=Ht.shared.setValue(e._tintRGB).toPremultiplied(x,e._texture.baseTexture.alphaMode>0);for(let b=0;b<g.length;b+=2)u[i++]=g[b],u[i++]=g[b+1],u[i++]=f[b],u[i++]=f[b+1],a[i++]=S,u[i++]=v;for(let b=0;b<m.length;b++)n[s++]=c+m[b]}};bf.defaultBatchSize=4096,bf.extension={name:"batch",type:Ne.RendererPlugin},bf._drawCallPool=[],bf._textureArrayPool=[];let rh=bf;qe.add(rh);var fD=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor = texture2D(uSampler, vTextureCoord);
}
`,pD=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`;const a_=class Tf extends So{constructor(e,t,n){const i=da.from(e||Tf.defaultVertexSrc,t||Tf.defaultFragmentSrc);super(i,n),this.padding=0,this.resolution=Tf.defaultResolution,this.multisample=Tf.defaultMultisample,this.enabled=!0,this.autoFit=!0,this.state=new Mo}apply(e,t,n,i,s){e.applyFilter(this,t,n,i)}get blendMode(){return this.state.blendMode}set blendMode(e){this.state.blendMode=e}get resolution(){return this._resolution}set resolution(e){this._resolution=e}static get defaultVertexSrc(){return pD}static get defaultFragmentSrc(){return fD}};a_.defaultResolution=1,a_.defaultMultisample=kr.NONE;let Ln=a_;class hg{constructor(){this.clearBeforeRender=!0,this._backgroundColor=new Ht(0),this.alpha=1}init(e){this.clearBeforeRender=e.clearBeforeRender;const{backgroundColor:t,background:n,backgroundAlpha:i}=e,s=n??t;s!==void 0&&(this.color=s),this.alpha=i}get color(){return this._backgroundColor.value}set color(e){this._backgroundColor.setValue(e)}get alpha(){return this._backgroundColor.alpha}set alpha(e){this._backgroundColor.setAlpha(e)}get backgroundColor(){return this._backgroundColor}destroy(){}}hg.defaultOptions={backgroundAlpha:1,backgroundColor:0,clearBeforeRender:!0},hg.extension={type:[Ne.RendererSystem,Ne.CanvasRendererSystem],name:"background"};qe.add(hg);class vA{constructor(e){this.renderer=e,this.emptyRenderer=new Xg(e),this.currentRenderer=this.emptyRenderer}setObjectRenderer(e){this.currentRenderer!==e&&(this.currentRenderer.stop(),this.currentRenderer=e,this.currentRenderer.start())}flush(){this.setObjectRenderer(this.emptyRenderer)}reset(){this.setObjectRenderer(this.emptyRenderer)}copyBoundTextures(e,t){const{boundTextures:n}=this.renderer.texture;for(let i=t-1;i>=0;--i)e[i]=n[i]||null,e[i]&&(e[i]._batchLocation=i)}boundArray(e,t,n,i){const{elements:s,ids:a,count:u}=e;let c=0;for(let f=0;f<u;f++){const m=s[f],g=m._batchLocation;if(g>=0&&g<i&&t[g]===m){a[f]=g;continue}for(;c<i;){const v=t[c];if(v&&v._batchEnabled===n&&v._batchLocation===c){c++;continue}a[f]=c,m._batchLocation=c,t[c]=m;break}}}destroy(){this.renderer=null}}vA.extension={type:Ne.RendererSystem,name:"batch"};qe.add(vA);let tb=0;class cg{constructor(e){this.renderer=e,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this)}get isLost(){return!this.gl||this.gl.isContextLost()}contextChange(e){this.gl=e,this.renderer.gl=e,this.renderer.CONTEXT_UID=tb++}init(e){if(e.context)this.initFromContext(e.context);else{const t=this.renderer.background.alpha<1,n=e.premultipliedAlpha;this.preserveDrawingBuffer=e.preserveDrawingBuffer,this.useContextAlpha=e.useContextAlpha,this.powerPreference=e.powerPreference,this.initFromOptions({alpha:t,premultipliedAlpha:n,antialias:e.antialias,stencil:!0,preserveDrawingBuffer:e.preserveDrawingBuffer,powerPreference:e.powerPreference})}}initFromContext(e){this.gl=e,this.validateContext(e),this.renderer.gl=e,this.renderer.CONTEXT_UID=tb++,this.renderer.runners.contextChange.emit(e);const t=this.renderer.view;t.addEventListener!==void 0&&(t.addEventListener("webglcontextlost",this.handleContextLost,!1),t.addEventListener("webglcontextrestored",this.handleContextRestored,!1))}initFromOptions(e){const t=this.createContext(this.renderer.view,e);this.initFromContext(t)}createContext(e,t){let n;if(Ue.PREFER_ENV>=_h.WEBGL2&&(n=e.getContext("webgl2",t)),n)this.webGLVersion=2;else if(this.webGLVersion=1,n=e.getContext("webgl",t)||e.getContext("experimental-webgl",t),!n)throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=n,this.getExtensions(),this.gl}getExtensions(){const{gl:e}=this,t={loseContext:e.getExtension("WEBGL_lose_context"),anisotropicFiltering:e.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),s3tc:e.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:e.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:e.getExtension("WEBGL_compressed_texture_etc"),etc1:e.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:e.getExtension("WEBGL_compressed_texture_atc"),astc:e.getExtension("WEBGL_compressed_texture_astc"),bptc:e.getExtension("EXT_texture_compression_bptc")};this.webGLVersion===1?Object.assign(this.extensions,t,{drawBuffers:e.getExtension("WEBGL_draw_buffers"),depthTexture:e.getExtension("WEBGL_depth_texture"),vertexArrayObject:e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:e.getExtension("OES_element_index_uint"),floatTexture:e.getExtension("OES_texture_float"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),textureHalfFloat:e.getExtension("OES_texture_half_float"),textureHalfFloatLinear:e.getExtension("OES_texture_half_float_linear")}):this.webGLVersion===2&&Object.assign(this.extensions,t,{colorBufferFloat:e.getExtension("EXT_color_buffer_float")})}handleContextLost(e){e.preventDefault(),setTimeout(()=>{this.gl.isContextLost()&&this.extensions.loseContext&&this.extensions.loseContext.restoreContext()},0)}handleContextRestored(){this.renderer.runners.contextChange.emit(this.gl)}destroy(){const e=this.renderer.view;this.renderer=null,e.removeEventListener!==void 0&&(e.removeEventListener("webglcontextlost",this.handleContextLost),e.removeEventListener("webglcontextrestored",this.handleContextRestored)),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()}postrender(){this.renderer.objectRenderer.renderingToScreen&&this.gl.flush()}validateContext(e){const t=e.getContextAttributes(),n="WebGL2RenderingContext"in globalThis&&e instanceof globalThis.WebGL2RenderingContext;n&&(this.webGLVersion=2),t&&!t.stencil&&console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");const i=n||!!e.getExtension("OES_element_index_uint");this.supports.uint32Indices=i,i||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")}}cg.defaultOptions={context:null,antialias:!1,premultipliedAlpha:!0,preserveDrawingBuffer:!1,powerPreference:"default"},cg.extension={type:Ne.RendererSystem,name:"context"};qe.add(cg);class l_{constructor(e,t){if(this.width=Math.round(e),this.height=Math.round(t),!this.width||!this.height)throw new Error("Framebuffer width or height is zero");this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new Ls("disposeFramebuffer"),this.multisample=kr.NONE}get colorTexture(){return this.colorTextures[0]}addColorTexture(e=0,t){return this.colorTextures[e]=t||new lt(null,{scaleMode:ha.NEAREST,resolution:1,mipmap:Co.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this}addDepthTexture(e){return this.depthTexture=e||new lt(null,{scaleMode:ha.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:Co.OFF,format:Re.DEPTH_COMPONENT,type:Je.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this}enableDepth(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this}enableStencil(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this}resize(e,t){if(e=Math.round(e),t=Math.round(t),!e||!t)throw new Error("Framebuffer width and height must not be zero");if(!(e===this.width&&t===this.height)){this.width=e,this.height=t,this.dirtyId++,this.dirtySize++;for(let n=0;n<this.colorTextures.length;n++){const i=this.colorTextures[n],s=i.resolution;i.setSize(e/s,t/s)}if(this.depthTexture){const n=this.depthTexture.resolution;this.depthTexture.setSize(e/n,t/n)}}}dispose(){this.disposeRunner.emit(this,!1)}destroyDepthTexture(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)}}class _A extends lt{constructor(e={}){if(typeof e=="number"){const t=arguments[0],n=arguments[1],i=arguments[2],s=arguments[3];e={width:t,height:n,scaleMode:i,resolution:s}}e.width=e.width??100,e.height=e.height??100,e.multisample??(e.multisample=kr.NONE),super(null,e),this.mipmap=Co.OFF,this.valid=!0,this._clear=new Ht([0,0,0,0]),this.framebuffer=new l_(this.realWidth,this.realHeight).addColorTexture(0,this),this.framebuffer.multisample=e.multisample,this.maskStack=[],this.filterStack=[{}]}set clearColor(e){this._clear.setValue(e)}get clearColor(){return this._clear.value}get clear(){return this._clear}get multisample(){return this.framebuffer.multisample}set multisample(e){this.framebuffer.multisample=e}resize(e,t){this.framebuffer.resize(e*this.resolution,t*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)}dispose(){this.framebuffer.dispose(),super.dispose()}destroy(){super.destroy(),this.framebuffer.destroyDepthTexture(),this.framebuffer=null}}class va extends Xf{constructor(e){const t=e,n=t.naturalWidth||t.videoWidth||t.displayWidth||t.width,i=t.naturalHeight||t.videoHeight||t.displayHeight||t.height;super(n,i),this.source=e,this.noSubImage=!1}static crossOrigin(e,t,n){n===void 0&&!t.startsWith("data:")?e.crossOrigin=L2(t):n!==!1&&(e.crossOrigin=typeof n=="string"?n:"anonymous")}upload(e,t,n,i){const s=e.gl,a=t.realWidth,u=t.realHeight;if(i=i||this.source,typeof HTMLImageElement<"u"&&i instanceof HTMLImageElement){if(!i.complete||i.naturalWidth===0)return!1}else if(typeof HTMLVideoElement<"u"&&i instanceof HTMLVideoElement&&i.readyState<=1)return!1;return s.pixelStorei(s.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.alphaMode===li.UNPACK),!this.noSubImage&&t.target===s.TEXTURE_2D&&n.width===a&&n.height===u?s.texSubImage2D(s.TEXTURE_2D,0,0,0,t.format,n.type,i):(n.width=a,n.height=u,s.texImage2D(t.target,0,n.internalFormat,t.format,n.type,i)),!0}update(){if(this.destroyed)return;const e=this.source,t=e.naturalWidth||e.videoWidth||e.width,n=e.naturalHeight||e.videoHeight||e.height;this.resize(t,n),super.update()}dispose(){this.source=null}}class xA extends va{constructor(e,t){if(t=t||{},typeof e=="string"){const n=new Image;va.crossOrigin(n,e,t.crossorigin),n.src=e,e=n}super(e),!e.complete&&this._width&&this._height&&(this._width=0,this._height=0),this.url=e.src,this._process=null,this.preserveBitmap=!1,this.createBitmap=(t.createBitmap??Ue.CREATE_IMAGE_BITMAP)&&!!globalThis.createImageBitmap,this.alphaMode=typeof t.alphaMode=="number"?t.alphaMode:null,this.bitmap=null,this._load=null,t.autoLoad!==!1&&this.load()}load(e){return this._load?this._load:(e!==void 0&&(this.createBitmap=e),this._load=new Promise((t,n)=>{const i=this.source;this.url=i.src;const s=()=>{this.destroyed||(i.onload=null,i.onerror=null,this.update(),this._load=null,this.createBitmap?t(this.process()):t(this))};i.complete&&i.src?s():(i.onload=s,i.onerror=a=>{n(a),this.onError.emit(a)})}),this._load)}process(){const e=this.source;if(this._process!==null)return this._process;if(this.bitmap!==null||!globalThis.createImageBitmap)return Promise.resolve(this);const t=globalThis.createImageBitmap,n=!e.crossOrigin||e.crossOrigin==="anonymous";return this._process=fetch(e.src,{mode:n?"cors":"no-cors"}).then(i=>i.blob()).then(i=>t(i,0,0,e.width,e.height,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===li.UNPACK?"premultiply":"none"})).then(i=>this.destroyed?Promise.reject():(this.bitmap=i,this.update(),this._process=null,Promise.resolve(this))),this._process}upload(e,t,n){if(typeof this.alphaMode=="number"&&(t.alphaMode=this.alphaMode),!this.createBitmap)return super.upload(e,t,n);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(super.upload(e,t,n,this.bitmap),!this.preserveBitmap){let i=!0;const s=t._glTextures;for(const a in s){const u=s[a];if(u!==n&&u.dirtyId!==t.dirtyId){i=!1;break}}i&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0}dispose(){this.source.onload=null,this.source.onerror=null,super.dispose(),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null}static test(e){return typeof HTMLImageElement<"u"&&(typeof e=="string"||e instanceof HTMLImageElement)}}class Ax{constructor(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}set(e,t,n){const i=t.width,s=t.height;if(n){const a=e.width/2/i,u=e.height/2/s,c=e.x/i+a,f=e.y/s+u;n=rr.add(n,rr.NW),this.x0=c+a*rr.uX(n),this.y0=f+u*rr.uY(n),n=rr.add(n,2),this.x1=c+a*rr.uX(n),this.y1=f+u*rr.uY(n),n=rr.add(n,2),this.x2=c+a*rr.uX(n),this.y2=f+u*rr.uY(n),n=rr.add(n,2),this.x3=c+a*rr.uX(n),this.y3=f+u*rr.uY(n)}else this.x0=e.x/i,this.y0=e.y/s,this.x1=(e.x+e.width)/i,this.y1=e.y/s,this.x2=(e.x+e.width)/i,this.y2=(e.y+e.height)/s,this.x3=e.x/i,this.y3=(e.y+e.height)/s;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3}}Ax.prototype.toString=function(){return`[@pixi/core:TextureUvs x0=${this.x0} y0=${this.y0} x1=${this.x1} y1=${this.y1} x2=${this.x2} y2=${this.y2} x3=${this.x3} y3=${this.y3}]`};const rb=new Ax;function xm(r){r.destroy=function(){},r.on=function(){},r.once=function(){},r.emit=function(){}}class Oe extends gp{constructor(e,t,n,i,s,a,u){if(super(),this.noFrame=!1,t||(this.noFrame=!0,t=new ht(0,0,1,1)),e instanceof Oe&&(e=e.baseTexture),this.baseTexture=e,this._frame=t,this.trim=i,this.valid=!1,this.destroyed=!1,this._uvs=rb,this.uvMatrix=null,this.orig=n||t,this._rotate=Number(s||0),s===!0)this._rotate=2;else if(this._rotate%2!==0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");this.defaultAnchor=a?new gt(a.x,a.y):new gt(0,0),this.defaultBorders=u,this._updateID=0,this.textureCacheIds=[],e.valid?this.noFrame?e.valid&&this.onBaseTextureUpdated(e):this.frame=t:e.once("loaded",this.onBaseTextureUpdated,this),this.noFrame&&e.on("update",this.onBaseTextureUpdated,this)}update(){this.baseTexture.resource&&this.baseTexture.resource.update()}onBaseTextureUpdated(e){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=e.width,this._frame.height=e.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)}destroy(e){if(this.baseTexture){if(e){const{resource:t}=this.baseTexture;t!=null&&t.url&&co[t.url]&&Oe.removeFromCache(t.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,Oe.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0,this.emit("destroyed",this),this.removeAllListeners()}clone(){var i;const e=this._frame.clone(),t=this._frame===this.orig?e:this.orig.clone(),n=new Oe(this.baseTexture,!this.noFrame&&e,t,(i=this.trim)==null?void 0:i.clone(),this.rotate,this.defaultAnchor,this.defaultBorders);return this.noFrame&&(n._frame=e),n}updateUvs(){this._uvs===rb&&(this._uvs=new Ax),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++}static from(e,t={},n=Ue.STRICT_TEXTURE_CACHE){const i=typeof e=="string";let s=null;if(i)s=e;else if(e instanceof lt){if(!e.cacheId){const u=(t==null?void 0:t.pixiIdPrefix)||"pixiid";e.cacheId=`${u}-${gh()}`,lt.addToCache(e,e.cacheId)}s=e.cacheId}else{if(!e._pixiId){const u=(t==null?void 0:t.pixiIdPrefix)||"pixiid";e._pixiId=`${u}_${gh()}`}s=e._pixiId}let a=co[s];if(i&&n&&!a)throw new Error(`The cacheId "${s}" does not exist in TextureCache.`);return!a&&!(e instanceof lt)?(t.resolution||(t.resolution=ya(e)),a=new Oe(new lt(e,t)),a.baseTexture.cacheId=s,lt.addToCache(a.baseTexture,s),Oe.addToCache(a,s)):!a&&e instanceof lt&&(a=new Oe(e),Oe.addToCache(a,s)),a}static fromURL(e,t){const n=Object.assign({autoLoad:!1},t==null?void 0:t.resourceOptions),i=Oe.from(e,Object.assign({resourceOptions:n},t),!1),s=i.baseTexture.resource;return i.baseTexture.valid?Promise.resolve(i):s.load().then(()=>Promise.resolve(i))}static fromBuffer(e,t,n,i){return new Oe(lt.fromBuffer(e,t,n,i))}static fromLoader(e,t,n,i){const s=new lt(e,Object.assign({scaleMode:lt.defaultOptions.scaleMode,resolution:ya(t)},i)),{resource:a}=s;a instanceof xA&&(a.url=t);const u=new Oe(s);return n||(n=t),lt.addToCache(u.baseTexture,n),Oe.addToCache(u,n),n!==t&&(lt.addToCache(u.baseTexture,t),Oe.addToCache(u,t)),u.baseTexture.valid?Promise.resolve(u):new Promise(c=>{u.baseTexture.once("loaded",()=>c(u))})}static addToCache(e,t){t&&(e.textureCacheIds.includes(t)||e.textureCacheIds.push(t),co[t]&&co[t]!==e&&console.warn(`Texture added to the cache with an id [${t}] that already had an entry`),co[t]=e)}static removeFromCache(e){if(typeof e=="string"){const t=co[e];if(t){const n=t.textureCacheIds.indexOf(e);return n>-1&&t.textureCacheIds.splice(n,1),delete co[e],t}}else if(e!=null&&e.textureCacheIds){for(let t=0;t<e.textureCacheIds.length;++t)co[e.textureCacheIds[t]]===e&&delete co[e.textureCacheIds[t]];return e.textureCacheIds.length=0,e}return null}get resolution(){return this.baseTexture.resolution}get frame(){return this._frame}set frame(e){this._frame=e,this.noFrame=!1;const{x:t,y:n,width:i,height:s}=e,a=t+i>this.baseTexture.width,u=n+s>this.baseTexture.height;if(a||u){const c=a&&u?"and":"or",f=`X: ${t} + ${i} = ${t+i} > ${this.baseTexture.width}`,m=`Y: ${n} + ${s} = ${n+s} > ${this.baseTexture.height}`;throw new Error(`Texture Error: frame does not fit inside the base Texture dimensions: ${f} ${c} ${m}`)}this.valid=i&&s&&this.baseTexture.valid,!this.trim&&!this.rotate&&(this.orig=e),this.valid&&this.updateUvs()}get rotate(){return this._rotate}set rotate(e){this._rotate=e,this.valid&&this.updateUvs()}get width(){return this.orig.width}get height(){return this.orig.height}castToBaseTexture(){return this.baseTexture}static get EMPTY(){return Oe._EMPTY||(Oe._EMPTY=new Oe(new lt),xm(Oe._EMPTY),xm(Oe._EMPTY.baseTexture)),Oe._EMPTY}static get WHITE(){if(!Oe._WHITE){const e=Ue.ADAPTER.createCanvas(16,16),t=e.getContext("2d");e.width=16,e.height=16,t.fillStyle="white",t.fillRect(0,0,16,16),Oe._WHITE=new Oe(lt.from(e)),xm(Oe._WHITE),xm(Oe._WHITE.baseTexture)}return Oe._WHITE}}class xh extends Oe{constructor(e,t){super(e,t),this.valid=!0,this.filterFrame=null,this.filterPoolKey=null,this.updateUvs()}get framebuffer(){return this.baseTexture.framebuffer}get multisample(){return this.framebuffer.multisample}set multisample(e){this.framebuffer.multisample=e}resize(e,t,n=!0){const i=this.baseTexture.resolution,s=Math.round(e*i)/i,a=Math.round(t*i)/i;this.valid=s>0&&a>0,this._frame.width=this.orig.width=s,this._frame.height=this.orig.height=a,n&&this.baseTexture.resize(s,a),this.updateUvs()}setResolution(e){const{baseTexture:t}=this;t.resolution!==e&&(t.setResolution(e),this.resize(t.width,t.height,!1))}static create(e){return new xh(new _A(e))}}class wA{constructor(e){this.texturePool={},this.textureOptions=e||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}createTexture(e,t,n=kr.NONE){const i=new _A(Object.assign({width:e,height:t,resolution:1,multisample:n},this.textureOptions));return new xh(i)}getOptimalTexture(e,t,n=1,i=kr.NONE){let s;e=Math.max(Math.ceil(e*n-1e-6),1),t=Math.max(Math.ceil(t*n-1e-6),1),!this.enableFullScreen||e!==this._pixelsWidth||t!==this._pixelsHeight?(e=ag(e),t=ag(t),s=((e&65535)<<16|t&65535)>>>0,i>1&&(s+=i*4294967296)):s=i>1?-i:-1,this.texturePool[s]||(this.texturePool[s]=[]);let a=this.texturePool[s].pop();return a||(a=this.createTexture(e,t,i)),a.filterPoolKey=s,a.setResolution(n),a}getFilterTexture(e,t,n){const i=this.getOptimalTexture(e.width,e.height,t||e.resolution,n||kr.NONE);return i.filterFrame=e.filterFrame,i}returnTexture(e){const t=e.filterPoolKey;e.filterFrame=null,this.texturePool[t].push(e)}returnFilterTexture(e){this.returnTexture(e)}clear(e){if(e=e!==!1,e)for(const t in this.texturePool){const n=this.texturePool[t];if(n)for(let i=0;i<n.length;i++)n[i].destroy(!0)}this.texturePool={}}setScreenSize(e){if(!(e.width===this._pixelsWidth&&e.height===this._pixelsHeight)){this.enableFullScreen=e.width>0&&e.height>0;for(const t in this.texturePool){if(!(Number(t)<0))continue;const n=this.texturePool[t];if(n)for(let i=0;i<n.length;i++)n[i].destroy(!0);this.texturePool[t]=[]}this._pixelsWidth=e.width,this._pixelsHeight=e.height}}}wA.SCREEN_KEY=-1;class mD extends Nl{constructor(){super(),this.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2])}}class SA extends Nl{constructor(){super(),this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.vertexBuffer=new Er(this.vertices),this.uvBuffer=new Er(this.uvs),this.addAttribute("aVertexPosition",this.vertexBuffer).addAttribute("aTextureCoord",this.uvBuffer).addIndex([0,1,2,0,2,3])}map(e,t){let n=0,i=0;return this.uvs[0]=n,this.uvs[1]=i,this.uvs[2]=n+t.width/e.width,this.uvs[3]=i,this.uvs[4]=n+t.width/e.width,this.uvs[5]=i+t.height/e.height,this.uvs[6]=n,this.uvs[7]=i+t.height/e.height,n=t.x,i=t.y,this.vertices[0]=n,this.vertices[1]=i,this.vertices[2]=n+t.width,this.vertices[3]=i,this.vertices[4]=n+t.width,this.vertices[5]=i+t.height,this.vertices[6]=n,this.vertices[7]=i+t.height,this.invalidate(),this}invalidate(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this}}class gD{constructor(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=kr.NONE,this.sourceFrame=new ht,this.destinationFrame=new ht,this.bindingSourceFrame=new ht,this.bindingDestinationFrame=new ht,this.filters=[],this.transform=null}clear(){this.target=null,this.filters=null,this.renderTexture=null}}const wm=[new gt,new gt,new gt,new gt],l0=new Wt;class bA{constructor(e){this.renderer=e,this.defaultFilterStack=[{}],this.texturePool=new wA,this.statePool=[],this.quad=new mD,this.quadUv=new SA,this.tempRect=new ht,this.activeState={},this.globalUniforms=new Bs({outputFrame:new ht,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}init(){this.texturePool.setScreenSize(this.renderer.view)}push(e,t){const n=this.renderer,i=this.defaultFilterStack,s=this.statePool.pop()||new gD,a=n.renderTexture;let u,c;if(a.current){const E=a.current;u=E.resolution,c=E.multisample}else u=n.resolution,c=n.multisample;let f=t[0].resolution||u,m=t[0].multisample??c,g=t[0].padding,v=t[0].autoFit,x=t[0].legacy??!0;for(let E=1;E<t.length;E++){const P=t[E];f=Math.min(f,P.resolution||u),m=Math.min(m,P.multisample??c),g=this.useMaxPadding?Math.max(g,P.padding):g+P.padding,v=v&&P.autoFit,x=x||(P.legacy??!0)}i.length===1&&(this.defaultFilterStack[0].renderTexture=a.current),i.push(s),s.resolution=f,s.multisample=m,s.legacy=x,s.target=e,s.sourceFrame.copyFrom(e.filterArea||e.getBounds(!0)),s.sourceFrame.pad(g);const S=this.tempRect.copyFrom(a.sourceFrame);n.projection.transform&&this.transformAABB(l0.copyFrom(n.projection.transform).invert(),S),v?(s.sourceFrame.fit(S),(s.sourceFrame.width<=0||s.sourceFrame.height<=0)&&(s.sourceFrame.width=0,s.sourceFrame.height=0)):s.sourceFrame.intersects(S)||(s.sourceFrame.width=0,s.sourceFrame.height=0),this.roundFrame(s.sourceFrame,a.current?a.current.resolution:n.resolution,a.sourceFrame,a.destinationFrame,n.projection.transform),s.renderTexture=this.getOptimalFilterTexture(s.sourceFrame.width,s.sourceFrame.height,f,m),s.filters=t,s.destinationFrame.width=s.renderTexture.width,s.destinationFrame.height=s.renderTexture.height;const b=this.tempRect;b.x=0,b.y=0,b.width=s.sourceFrame.width,b.height=s.sourceFrame.height,s.renderTexture.filterFrame=s.sourceFrame,s.bindingSourceFrame.copyFrom(a.sourceFrame),s.bindingDestinationFrame.copyFrom(a.destinationFrame),s.transform=n.projection.transform,n.projection.transform=null,a.bind(s.renderTexture,s.sourceFrame,b),n.framebuffer.clear(0,0,0,0)}pop(){const e=this.defaultFilterStack,t=e.pop(),n=t.filters;this.activeState=t;const i=this.globalUniforms.uniforms;i.outputFrame=t.sourceFrame,i.resolution=t.resolution;const s=i.inputSize,a=i.inputPixel,u=i.inputClamp;if(s[0]=t.destinationFrame.width,s[1]=t.destinationFrame.height,s[2]=1/s[0],s[3]=1/s[1],a[0]=Math.round(s[0]*t.resolution),a[1]=Math.round(s[1]*t.resolution),a[2]=1/a[0],a[3]=1/a[1],u[0]=.5*a[2],u[1]=.5*a[3],u[2]=t.sourceFrame.width*s[2]-.5*a[2],u[3]=t.sourceFrame.height*s[3]-.5*a[3],t.legacy){const f=i.filterArea;f[0]=t.destinationFrame.width,f[1]=t.destinationFrame.height,f[2]=t.sourceFrame.x,f[3]=t.sourceFrame.y,i.filterClamp=i.inputClamp}this.globalUniforms.update();const c=e[e.length-1];if(this.renderer.framebuffer.blit(),n.length===1)n[0].apply(this,t.renderTexture,c.renderTexture,yo.BLEND,t),this.returnFilterTexture(t.renderTexture);else{let f=t.renderTexture,m=this.getOptimalFilterTexture(f.width,f.height,t.resolution);m.filterFrame=f.filterFrame;let g=0;for(g=0;g<n.length-1;++g){g===1&&t.multisample>1&&(m=this.getOptimalFilterTexture(f.width,f.height,t.resolution),m.filterFrame=f.filterFrame),n[g].apply(this,f,m,yo.CLEAR,t);const v=f;f=m,m=v}n[g].apply(this,f,c.renderTexture,yo.BLEND,t),g>1&&t.multisample>1&&this.returnFilterTexture(t.renderTexture),this.returnFilterTexture(f),this.returnFilterTexture(m)}t.clear(),this.statePool.push(t)}bindAndClear(e,t=yo.CLEAR){const{renderTexture:n,state:i}=this.renderer;if(e===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.renderer.projection.transform=this.activeState.transform:this.renderer.projection.transform=null,e==null?void 0:e.filterFrame){const a=this.tempRect;a.x=0,a.y=0,a.width=e.filterFrame.width,a.height=e.filterFrame.height,n.bind(e,e.filterFrame,a)}else e!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?n.bind(e):this.renderer.renderTexture.bind(e,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);const s=i.stateId&1||this.forceClear;(t===yo.CLEAR||t===yo.BLIT&&s)&&this.renderer.framebuffer.clear(0,0,0,0)}applyFilter(e,t,n,i){const s=this.renderer;s.state.set(e.state),this.bindAndClear(n,i),e.uniforms.uSampler=t,e.uniforms.filterGlobals=this.globalUniforms,s.shader.bind(e),e.legacy=!!e.program.attributeData.aTextureCoord,e.legacy?(this.quadUv.map(t._frame,t.filterFrame),s.geometry.bind(this.quadUv),s.geometry.draw(Os.TRIANGLES)):(s.geometry.bind(this.quad),s.geometry.draw(Os.TRIANGLE_STRIP))}calculateSpriteMatrix(e,t){const{sourceFrame:n,destinationFrame:i}=this.activeState,{orig:s}=t._texture,a=e.set(i.width,0,0,i.height,n.x,n.y),u=t.worldTransform.copyTo(Wt.TEMP_MATRIX);return u.invert(),a.prepend(u),a.scale(1/s.width,1/s.height),a.translate(t.anchor.x,t.anchor.y),a}destroy(){this.renderer=null,this.texturePool.clear(!1)}getOptimalFilterTexture(e,t,n=1,i=kr.NONE){return this.texturePool.getOptimalTexture(e,t,n,i)}getFilterTexture(e,t,n){if(typeof e=="number"){const s=e;e=t,t=s}e=e||this.activeState.renderTexture;const i=this.texturePool.getOptimalTexture(e.width,e.height,t||e.resolution,n||kr.NONE);return i.filterFrame=e.filterFrame,i}returnFilterTexture(e){this.texturePool.returnTexture(e)}emptyPool(){this.texturePool.clear(!0)}resize(){this.texturePool.setScreenSize(this.renderer.view)}transformAABB(e,t){const n=wm[0],i=wm[1],s=wm[2],a=wm[3];n.set(t.left,t.top),i.set(t.left,t.bottom),s.set(t.right,t.top),a.set(t.right,t.bottom),e.apply(n,n),e.apply(i,i),e.apply(s,s),e.apply(a,a);const u=Math.min(n.x,i.x,s.x,a.x),c=Math.min(n.y,i.y,s.y,a.y),f=Math.max(n.x,i.x,s.x,a.x),m=Math.max(n.y,i.y,s.y,a.y);t.x=u,t.y=c,t.width=f-u,t.height=m-c}roundFrame(e,t,n,i,s){if(!(e.width<=0||e.height<=0||n.width<=0||n.height<=0)){if(s){const{a,b:u,c,d:f}=s;if((Math.abs(u)>1e-4||Math.abs(c)>1e-4)&&(Math.abs(a)>1e-4||Math.abs(f)>1e-4))return}s=s?l0.copyFrom(s):l0.identity(),s.translate(-n.x,-n.y).scale(i.width/n.width,i.height/n.height).translate(i.x,i.y),this.transformAABB(s,e),e.ceil(t),this.transformAABB(s.invert(),e)}}}bA.extension={type:Ne.RendererSystem,name:"filter"};qe.add(bA);class yD{constructor(e){this.framebuffer=e,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=kr.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0}}const vD=new ht;class TA{constructor(e){this.renderer=e,this.managedFramebuffers=[],this.unknownFramebuffer=new l_(10,10),this.msaaSamples=null}contextChange(){this.disposeAll(!0);const e=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new ht,this.hasMRT=!0,this.writeDepthTexture=!0,this.renderer.context.webGLVersion===1){let t=this.renderer.context.extensions.drawBuffers,n=this.renderer.context.extensions.depthTexture;Ue.PREFER_ENV===_h.WEBGL_LEGACY&&(t=null,n=null),t?e.drawBuffers=i=>t.drawBuffersWEBGL(i):(this.hasMRT=!1,e.drawBuffers=()=>{}),n||(this.writeDepthTexture=!1)}else this.msaaSamples=e.getInternalformatParameter(e.RENDERBUFFER,e.RGBA8,e.SAMPLES)}bind(e,t,n=0){const{gl:i}=this;if(e){const s=e.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(e);this.current!==e&&(this.current=e,i.bindFramebuffer(i.FRAMEBUFFER,s.framebuffer)),s.mipLevel!==n&&(e.dirtyId++,e.dirtyFormat++,s.mipLevel=n),s.dirtyId!==e.dirtyId&&(s.dirtyId=e.dirtyId,s.dirtyFormat!==e.dirtyFormat?(s.dirtyFormat=e.dirtyFormat,s.dirtySize=e.dirtySize,this.updateFramebuffer(e,n)):s.dirtySize!==e.dirtySize&&(s.dirtySize=e.dirtySize,this.resizeFramebuffer(e)));for(let a=0;a<e.colorTextures.length;a++){const u=e.colorTextures[a];this.renderer.texture.unbind(u.parentTextureArray||u)}if(e.depthTexture&&this.renderer.texture.unbind(e.depthTexture),t){const a=t.width>>n,u=t.height>>n,c=a/t.width;this.setViewport(t.x*c,t.y*c,a,u)}else{const a=e.width>>n,u=e.height>>n;this.setViewport(0,0,a,u)}}else this.current&&(this.current=null,i.bindFramebuffer(i.FRAMEBUFFER,null)),t?this.setViewport(t.x,t.y,t.width,t.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)}setViewport(e,t,n,i){const s=this.viewport;e=Math.round(e),t=Math.round(t),n=Math.round(n),i=Math.round(i),(s.width!==n||s.height!==i||s.x!==e||s.y!==t)&&(s.x=e,s.y=t,s.width=n,s.height=i,this.gl.viewport(e,t,n,i))}get size(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}}clear(e,t,n,i,s=Y0.COLOR|Y0.DEPTH){const{gl:a}=this;a.clearColor(e,t,n,i),a.clear(s)}initFramebuffer(e){const{gl:t}=this,n=new yD(t.createFramebuffer());return n.multisample=this.detectSamples(e.multisample),e.glFramebuffers[this.CONTEXT_UID]=n,this.managedFramebuffers.push(e),e.disposeRunner.add(this),n}resizeFramebuffer(e){const{gl:t}=this,n=e.glFramebuffers[this.CONTEXT_UID];if(n.stencil){t.bindRenderbuffer(t.RENDERBUFFER,n.stencil);let a;this.renderer.context.webGLVersion===1?a=t.DEPTH_STENCIL:e.depth&&e.stencil?a=t.DEPTH24_STENCIL8:e.depth?a=t.DEPTH_COMPONENT24:a=t.STENCIL_INDEX8,n.msaaBuffer?t.renderbufferStorageMultisample(t.RENDERBUFFER,n.multisample,a,e.width,e.height):t.renderbufferStorage(t.RENDERBUFFER,a,e.width,e.height)}const i=e.colorTextures;let s=i.length;t.drawBuffers||(s=Math.min(s,1));for(let a=0;a<s;a++){const u=i[a],c=u.parentTextureArray||u;this.renderer.texture.bind(c,0),a===0&&n.msaaBuffer&&(t.bindRenderbuffer(t.RENDERBUFFER,n.msaaBuffer),t.renderbufferStorageMultisample(t.RENDERBUFFER,n.multisample,c._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height))}e.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(e.depthTexture,0)}updateFramebuffer(e,t){const{gl:n}=this,i=e.glFramebuffers[this.CONTEXT_UID],s=e.colorTextures;let a=s.length;n.drawBuffers||(a=Math.min(a,1)),i.multisample>1&&this.canMultisampleFramebuffer(e)?i.msaaBuffer=i.msaaBuffer||n.createRenderbuffer():i.msaaBuffer&&(n.deleteRenderbuffer(i.msaaBuffer),i.msaaBuffer=null,i.blitFramebuffer&&(i.blitFramebuffer.dispose(),i.blitFramebuffer=null));const u=[];for(let c=0;c<a;c++){const f=s[c],m=f.parentTextureArray||f;this.renderer.texture.bind(m,0),c===0&&i.msaaBuffer?(n.bindRenderbuffer(n.RENDERBUFFER,i.msaaBuffer),n.renderbufferStorageMultisample(n.RENDERBUFFER,i.multisample,m._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,i.msaaBuffer)):(n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+c,f.target,m._glTextures[this.CONTEXT_UID].texture,t),u.push(n.COLOR_ATTACHMENT0+c))}if(u.length>1&&n.drawBuffers(u),e.depthTexture&&this.writeDepthTexture){const c=e.depthTexture;this.renderer.texture.bind(c,0),n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,c._glTextures[this.CONTEXT_UID].texture,t)}if((e.stencil||e.depth)&&!(e.depthTexture&&this.writeDepthTexture)){i.stencil=i.stencil||n.createRenderbuffer();let c,f;this.renderer.context.webGLVersion===1?(c=n.DEPTH_STENCIL_ATTACHMENT,f=n.DEPTH_STENCIL):e.depth&&e.stencil?(c=n.DEPTH_STENCIL_ATTACHMENT,f=n.DEPTH24_STENCIL8):e.depth?(c=n.DEPTH_ATTACHMENT,f=n.DEPTH_COMPONENT24):(c=n.STENCIL_ATTACHMENT,f=n.STENCIL_INDEX8),n.bindRenderbuffer(n.RENDERBUFFER,i.stencil),i.msaaBuffer?n.renderbufferStorageMultisample(n.RENDERBUFFER,i.multisample,f,e.width,e.height):n.renderbufferStorage(n.RENDERBUFFER,f,e.width,e.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,c,n.RENDERBUFFER,i.stencil)}else i.stencil&&(n.deleteRenderbuffer(i.stencil),i.stencil=null)}canMultisampleFramebuffer(e){return this.renderer.context.webGLVersion!==1&&e.colorTextures.length<=1&&!e.depthTexture}detectSamples(e){const{msaaSamples:t}=this;let n=kr.NONE;if(e<=1||t===null)return n;for(let i=0;i<t.length;i++)if(t[i]<=e){n=t[i];break}return n===1&&(n=kr.NONE),n}blit(e,t,n){const{current:i,renderer:s,gl:a,CONTEXT_UID:u}=this;if(s.context.webGLVersion!==2||!i)return;const c=i.glFramebuffers[u];if(!c)return;if(!e){if(!c.msaaBuffer)return;const m=i.colorTextures[0];if(!m)return;c.blitFramebuffer||(c.blitFramebuffer=new l_(i.width,i.height),c.blitFramebuffer.addColorTexture(0,m)),e=c.blitFramebuffer,e.colorTextures[0]!==m&&(e.colorTextures[0]=m,e.dirtyId++,e.dirtyFormat++),(e.width!==i.width||e.height!==i.height)&&(e.width=i.width,e.height=i.height,e.dirtyId++,e.dirtySize++)}t||(t=vD,t.width=i.width,t.height=i.height),n||(n=t);const f=t.width===n.width&&t.height===n.height;this.bind(e),a.bindFramebuffer(a.READ_FRAMEBUFFER,c.framebuffer),a.blitFramebuffer(t.left,t.top,t.right,t.bottom,n.left,n.top,n.right,n.bottom,a.COLOR_BUFFER_BIT,f?a.NEAREST:a.LINEAR),a.bindFramebuffer(a.READ_FRAMEBUFFER,e.glFramebuffers[this.CONTEXT_UID].framebuffer)}disposeFramebuffer(e,t){const n=e.glFramebuffers[this.CONTEXT_UID],i=this.gl;if(!n)return;delete e.glFramebuffers[this.CONTEXT_UID];const s=this.managedFramebuffers.indexOf(e);s>=0&&this.managedFramebuffers.splice(s,1),e.disposeRunner.remove(this),t||(i.deleteFramebuffer(n.framebuffer),n.msaaBuffer&&i.deleteRenderbuffer(n.msaaBuffer),n.stencil&&i.deleteRenderbuffer(n.stencil)),n.blitFramebuffer&&this.disposeFramebuffer(n.blitFramebuffer,t)}disposeAll(e){const t=this.managedFramebuffers;this.managedFramebuffers=[];for(let n=0;n<t.length;n++)this.disposeFramebuffer(t[n],e)}forceStencil(){const e=this.current;if(!e)return;const t=e.glFramebuffers[this.CONTEXT_UID];if(!t||t.stencil&&e.stencil)return;e.stencil=!0;const n=e.width,i=e.height,s=this.gl,a=t.stencil=s.createRenderbuffer();s.bindRenderbuffer(s.RENDERBUFFER,a);let u,c;this.renderer.context.webGLVersion===1?(u=s.DEPTH_STENCIL_ATTACHMENT,c=s.DEPTH_STENCIL):e.depth?(u=s.DEPTH_STENCIL_ATTACHMENT,c=s.DEPTH24_STENCIL8):(u=s.STENCIL_ATTACHMENT,c=s.STENCIL_INDEX8),t.msaaBuffer?s.renderbufferStorageMultisample(s.RENDERBUFFER,t.multisample,c,n,i):s.renderbufferStorage(s.RENDERBUFFER,c,n,i),s.framebufferRenderbuffer(s.FRAMEBUFFER,u,s.RENDERBUFFER,a)}reset(){this.current=this.unknownFramebuffer,this.viewport=new ht}destroy(){this.renderer=null}}TA.extension={type:Ne.RendererSystem,name:"framebuffer"};qe.add(TA);const u0={5126:4,5123:2,5121:1};class EA{constructor(e){this.renderer=e,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}contextChange(){this.disposeAll(!0);const e=this.gl=this.renderer.gl,t=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,t.webGLVersion!==2){let n=this.renderer.context.extensions.vertexArrayObject;Ue.PREFER_ENV===_h.WEBGL_LEGACY&&(n=null),n?(e.createVertexArray=()=>n.createVertexArrayOES(),e.bindVertexArray=i=>n.bindVertexArrayOES(i),e.deleteVertexArray=i=>n.deleteVertexArrayOES(i)):(this.hasVao=!1,e.createVertexArray=()=>null,e.bindVertexArray=()=>null,e.deleteVertexArray=()=>null)}if(t.webGLVersion!==2){const n=e.getExtension("ANGLE_instanced_arrays");n?(e.vertexAttribDivisor=(i,s)=>n.vertexAttribDivisorANGLE(i,s),e.drawElementsInstanced=(i,s,a,u,c)=>n.drawElementsInstancedANGLE(i,s,a,u,c),e.drawArraysInstanced=(i,s,a,u)=>n.drawArraysInstancedANGLE(i,s,a,u)):this.hasInstance=!1}this.canUseUInt32ElementIndex=t.webGLVersion===2||!!t.extensions.uint32ElementIndex}bind(e,t){t=t||this.renderer.shader.shader;const{gl:n}=this;let i=e.glVertexArrayObjects[this.CONTEXT_UID],s=!1;i||(this.managedGeometries[e.id]=e,e.disposeRunner.add(this),e.glVertexArrayObjects[this.CONTEXT_UID]=i={},s=!0);const a=i[t.program.id]||this.initGeometryVao(e,t,s);this._activeGeometry=e,this._activeVao!==a&&(this._activeVao=a,this.hasVao?n.bindVertexArray(a):this.activateVao(e,t.program)),this.updateBuffers()}reset(){this.unbind()}updateBuffers(){const e=this._activeGeometry,t=this.renderer.buffer;for(let n=0;n<e.buffers.length;n++){const i=e.buffers[n];t.update(i)}}checkCompatibility(e,t){const n=e.attributes,i=t.attributeData;for(const s in i)if(!n[s])throw new Error(`shader and geometry incompatible, geometry missing the "${s}" attribute`)}getSignature(e,t){const n=e.attributes,i=t.attributeData,s=["g",e.id];for(const a in n)i[a]&&s.push(a,i[a].location);return s.join("-")}initGeometryVao(e,t,n=!0){const i=this.gl,s=this.CONTEXT_UID,a=this.renderer.buffer,u=t.program;u.glPrograms[s]||this.renderer.shader.generateProgram(t),this.checkCompatibility(e,u);const c=this.getSignature(e,u),f=e.glVertexArrayObjects[this.CONTEXT_UID];let m=f[c];if(m)return f[u.id]=m,m;const g=e.buffers,v=e.attributes,x={},S={};for(const b in g)x[b]=0,S[b]=0;for(const b in v)!v[b].size&&u.attributeData[b]?v[b].size=u.attributeData[b].size:v[b].size||console.warn(`PIXI Geometry attribute '${b}' size cannot be determined (likely the bound shader does not have the attribute)`),x[v[b].buffer]+=v[b].size*u0[v[b].type];for(const b in v){const E=v[b],P=E.size;E.stride===void 0&&(x[E.buffer]===P*u0[E.type]?E.stride=0:E.stride=x[E.buffer]),E.start===void 0&&(E.start=S[E.buffer],S[E.buffer]+=P*u0[E.type])}m=i.createVertexArray(),i.bindVertexArray(m);for(let b=0;b<g.length;b++){const E=g[b];a.bind(E),n&&E._glBuffers[s].refCount++}return this.activateVao(e,u),f[u.id]=m,f[c]=m,i.bindVertexArray(null),a.unbind(wo.ARRAY_BUFFER),m}disposeGeometry(e,t){var u;if(!this.managedGeometries[e.id])return;delete this.managedGeometries[e.id];const n=e.glVertexArrayObjects[this.CONTEXT_UID],i=this.gl,s=e.buffers,a=(u=this.renderer)==null?void 0:u.buffer;if(e.disposeRunner.remove(this),!!n){if(a)for(let c=0;c<s.length;c++){const f=s[c]._glBuffers[this.CONTEXT_UID];f&&(f.refCount--,f.refCount===0&&!t&&a.dispose(s[c],t))}if(!t){for(const c in n)if(c[0]==="g"){const f=n[c];this._activeVao===f&&this.unbind(),i.deleteVertexArray(f)}}delete e.glVertexArrayObjects[this.CONTEXT_UID]}}disposeAll(e){const t=Object.keys(this.managedGeometries);for(let n=0;n<t.length;n++)this.disposeGeometry(this.managedGeometries[t[n]],e)}activateVao(e,t){const n=this.gl,i=this.CONTEXT_UID,s=this.renderer.buffer,a=e.buffers,u=e.attributes;e.indexBuffer&&s.bind(e.indexBuffer);let c=null;for(const f in u){const m=u[f],g=a[m.buffer],v=g._glBuffers[i];if(t.attributeData[f]){c!==v&&(s.bind(g),c=v);const x=t.attributeData[f].location;if(n.enableVertexAttribArray(x),n.vertexAttribPointer(x,m.size,m.type||n.FLOAT,m.normalized,m.stride,m.start),m.instance)if(this.hasInstance)n.vertexAttribDivisor(x,m.divisor);else throw new Error("geometry error, GPU Instancing is not supported on this device")}}}draw(e,t,n,i){const{gl:s}=this,a=this._activeGeometry;if(a.indexBuffer){const u=a.indexBuffer.data.BYTES_PER_ELEMENT,c=u===2?s.UNSIGNED_SHORT:s.UNSIGNED_INT;u===2||u===4&&this.canUseUInt32ElementIndex?a.instanced?s.drawElementsInstanced(e,t||a.indexBuffer.data.length,c,(n||0)*u,i||1):s.drawElements(e,t||a.indexBuffer.data.length,c,(n||0)*u):console.warn("unsupported index buffer type: uint32")}else a.instanced?s.drawArraysInstanced(e,n,t||a.getSize(),i||1):s.drawArrays(e,n,t||a.getSize());return this}unbind(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null}destroy(){this.renderer=null}}EA.extension={type:Ne.RendererSystem,name:"geometry"};qe.add(EA);const nb=new Wt;class Cx{constructor(e,t){this._texture=e,this.mapCoord=new Wt,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=typeof t>"u"?.5:t,this.isSimple=!1}get texture(){return this._texture}set texture(e){this._texture=e,this._textureID=-1}multiplyUvs(e,t){t===void 0&&(t=e);const n=this.mapCoord;for(let i=0;i<e.length;i+=2){const s=e[i],a=e[i+1];t[i]=s*n.a+a*n.c+n.tx,t[i+1]=s*n.b+a*n.d+n.ty}return t}update(e){const t=this._texture;if(!t||!t.valid||!e&&this._textureID===t._updateID)return!1;this._textureID=t._updateID,this._updateID++;const n=t._uvs;this.mapCoord.set(n.x1-n.x0,n.y1-n.y0,n.x3-n.x0,n.y3-n.y0,n.x0,n.y0);const i=t.orig,s=t.trim;s&&(nb.set(i.width/s.width,0,0,i.height/s.height,-s.x/s.width,-s.y/s.height),this.mapCoord.append(nb));const a=t.baseTexture,u=this.uClampFrame,c=this.clampMargin/a.resolution,f=this.clampOffset;return u[0]=(t._frame.x+c+f)/a.width,u[1]=(t._frame.y+c+f)/a.height,u[2]=(t._frame.x+t._frame.width-c+f)/a.width,u[3]=(t._frame.y+t._frame.height-c+f)/a.height,this.uClampOffset[0]=f/a.realWidth,this.uClampOffset[1]=f/a.realHeight,this.isSimple=t._frame.width===a.width&&t._frame.height===a.height&&t.rotate===0,!0}}var _D=`varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform sampler2D mask;
uniform float alpha;
uniform float npmAlpha;
uniform vec4 maskClamp;

void main(void)
{
    float clip = step(3.5,
        step(maskClamp.x, vMaskCoord.x) +
        step(maskClamp.y, vMaskCoord.y) +
        step(vMaskCoord.x, maskClamp.z) +
        step(vMaskCoord.y, maskClamp.w));

    vec4 original = texture2D(uSampler, vTextureCoord);
    vec4 masky = texture2D(mask, vMaskCoord);
    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);

    original *= (alphaMul * masky.r * alpha * clip);

    gl_FragColor = original;
}
`,xD=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 otherMatrix;

varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;
}
`;class wD extends Ln{constructor(e,t,n){let i=null;typeof e!="string"&&t===void 0&&n===void 0&&(i=e,e=void 0,t=void 0,n=void 0),super(e||xD,t||_D,n),this.maskSprite=i,this.maskMatrix=new Wt}get maskSprite(){return this._maskSprite}set maskSprite(e){this._maskSprite=e,this._maskSprite&&(this._maskSprite.renderable=!1)}apply(e,t,n,i){const s=this._maskSprite,a=s._texture;a.valid&&(a.uvMatrix||(a.uvMatrix=new Cx(a,0)),a.uvMatrix.update(),this.uniforms.npmAlpha=a.baseTexture.alphaMode?0:1,this.uniforms.mask=a,this.uniforms.otherMatrix=e.calculateSpriteMatrix(this.maskMatrix,s).prepend(a.uvMatrix.mapCoord),this.uniforms.alpha=s.worldAlpha,this.uniforms.maskClamp=a.uvMatrix.uClampFrame,e.applyFilter(this,t,n,i))}}class SD{constructor(e=null){this.type=Ur.NONE,this.autoDetect=!0,this.maskObject=e||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=Ln.defaultMultisample,this.enabled=!0,this.colorMask=15,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._colorMask=15,this._target=null}get filter(){return this._filters?this._filters[0]:null}set filter(e){e?this._filters?this._filters[0]=e:this._filters=[e]:this._filters=null}reset(){this.pooled&&(this.maskObject=null,this.type=Ur.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null}copyCountersOrReset(e){e?(this._stencilCounter=e._stencilCounter,this._scissorCounter=e._scissorCounter,this._scissorRect=e._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)}}class AA{constructor(e){this.renderer=e,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}setMaskStack(e){this.maskStack=e,this.renderer.scissor.setMaskStack(e),this.renderer.stencil.setMaskStack(e)}push(e,t){let n=t;if(!n.isMaskData){const s=this.maskDataPool.pop()||new SD;s.pooled=!0,s.maskObject=t,n=s}const i=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null;if(n.copyCountersOrReset(i),n._colorMask=i?i._colorMask:15,n.autoDetect&&this.detect(n),n._target=e,n.type!==Ur.SPRITE&&this.maskStack.push(n),n.enabled)switch(n.type){case Ur.SCISSOR:this.renderer.scissor.push(n);break;case Ur.STENCIL:this.renderer.stencil.push(n);break;case Ur.SPRITE:n.copyCountersOrReset(null),this.pushSpriteMask(n);break;case Ur.COLOR:this.pushColorMask(n);break}n.type===Ur.SPRITE&&this.maskStack.push(n)}pop(e){const t=this.maskStack.pop();if(!(!t||t._target!==e)){if(t.enabled)switch(t.type){case Ur.SCISSOR:this.renderer.scissor.pop(t);break;case Ur.STENCIL:this.renderer.stencil.pop(t.maskObject);break;case Ur.SPRITE:this.popSpriteMask(t);break;case Ur.COLOR:this.popColorMask(t);break}if(t.reset(),t.pooled&&this.maskDataPool.push(t),this.maskStack.length!==0){const n=this.maskStack[this.maskStack.length-1];n.type===Ur.SPRITE&&n._filters&&(n._filters[0].maskSprite=n.maskObject)}}}detect(e){const t=e.maskObject;t?t.isSprite?e.type=Ur.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(e)?e.type=Ur.SCISSOR:e.type=Ur.STENCIL:e.type=Ur.COLOR}pushSpriteMask(e){const{maskObject:t}=e,n=e._target;let i=e._filters;i||(i=this.alphaMaskPool[this.alphaMaskIndex],i||(i=this.alphaMaskPool[this.alphaMaskIndex]=[new wD])),i[0].resolution=e.resolution,i[0].multisample=e.multisample,i[0].maskSprite=t;const s=n.filterArea;n.filterArea=t.getBounds(!0),this.renderer.filter.push(n,i),n.filterArea=s,e._filters||this.alphaMaskIndex++}popSpriteMask(e){this.renderer.filter.pop(),e._filters?e._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)}pushColorMask(e){const t=e._colorMask,n=e._colorMask=t&e.colorMask;n!==t&&this.renderer.gl.colorMask((n&1)!==0,(n&2)!==0,(n&4)!==0,(n&8)!==0)}popColorMask(e){const t=e._colorMask,n=this.maskStack.length>0?this.maskStack[this.maskStack.length-1]._colorMask:15;n!==t&&this.renderer.gl.colorMask((n&1)!==0,(n&2)!==0,(n&4)!==0,(n&8)!==0)}destroy(){this.renderer=null}}AA.extension={type:Ne.RendererSystem,name:"mask"};qe.add(AA);class CA{constructor(e){this.renderer=e,this.maskStack=[],this.glConst=0}getStackLength(){return this.maskStack.length}setMaskStack(e){const{gl:t}=this.renderer,n=this.getStackLength();this.maskStack=e;const i=this.getStackLength();i!==n&&(i===0?t.disable(this.glConst):(t.enable(this.glConst),this._useCurrent()))}_useCurrent(){}destroy(){this.renderer=null,this.maskStack=null}}const ib=new Wt,sb=[],PA=class Wm extends CA{constructor(e){super(e),this.glConst=Ue.ADAPTER.getWebGLRenderingContext().SCISSOR_TEST}getStackLength(){const e=this.maskStack[this.maskStack.length-1];return e?e._scissorCounter:0}calcScissorRect(e){if(e._scissorRectLocal)return;const t=e._scissorRect,{maskObject:n}=e,{renderer:i}=this,s=i.renderTexture,a=n.getBounds(!0,sb.pop()??new ht);this.roundFrameToPixels(a,s.current?s.current.resolution:i.resolution,s.sourceFrame,s.destinationFrame,i.projection.transform),t&&a.fit(t),e._scissorRectLocal=a}static isMatrixRotated(e){if(!e)return!1;const{a:t,b:n,c:i,d:s}=e;return(Math.abs(n)>1e-4||Math.abs(i)>1e-4)&&(Math.abs(t)>1e-4||Math.abs(s)>1e-4)}testScissor(e){const{maskObject:t}=e;if(!t.isFastRect||!t.isFastRect()||Wm.isMatrixRotated(t.worldTransform)||Wm.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(e);const n=e._scissorRectLocal;return n.width>0&&n.height>0}roundFrameToPixels(e,t,n,i,s){Wm.isMatrixRotated(s)||(s=s?ib.copyFrom(s):ib.identity(),s.translate(-n.x,-n.y).scale(i.width/n.width,i.height/n.height).translate(i.x,i.y),this.renderer.filter.transformAABB(s,e),e.fit(i),e.x=Math.round(e.x*t),e.y=Math.round(e.y*t),e.width=Math.round(e.width*t),e.height=Math.round(e.height*t))}push(e){e._scissorRectLocal||this.calcScissorRect(e);const{gl:t}=this.renderer;e._scissorRect||t.enable(t.SCISSOR_TEST),e._scissorCounter++,e._scissorRect=e._scissorRectLocal,this._useCurrent()}pop(e){const{gl:t}=this.renderer;e&&sb.push(e._scissorRectLocal),this.getStackLength()>0?this._useCurrent():t.disable(t.SCISSOR_TEST)}_useCurrent(){const e=this.maskStack[this.maskStack.length-1]._scissorRect;let t;this.renderer.renderTexture.current?t=e.y:t=this.renderer.height-e.height-e.y,this.renderer.gl.scissor(e.x,t,e.width,e.height)}};PA.extension={type:Ne.RendererSystem,name:"scissor"};let bD=PA;qe.add(bD);class RA extends CA{constructor(e){super(e),this.glConst=Ue.ADAPTER.getWebGLRenderingContext().STENCIL_TEST}getStackLength(){const e=this.maskStack[this.maskStack.length-1];return e?e._stencilCounter:0}push(e){const t=e.maskObject,{gl:n}=this.renderer,i=e._stencilCounter;i===0&&(this.renderer.framebuffer.forceStencil(),n.clearStencil(0),n.clear(n.STENCIL_BUFFER_BIT),n.enable(n.STENCIL_TEST)),e._stencilCounter++;const s=e._colorMask;s!==0&&(e._colorMask=0,n.colorMask(!1,!1,!1,!1)),n.stencilFunc(n.EQUAL,i,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.INCR),t.renderable=!0,t.render(this.renderer),this.renderer.batch.flush(),t.renderable=!1,s!==0&&(e._colorMask=s,n.colorMask((s&1)!==0,(s&2)!==0,(s&4)!==0,(s&8)!==0)),this._useCurrent()}pop(e){const t=this.renderer.gl;if(this.getStackLength()===0)t.disable(t.STENCIL_TEST);else{const n=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null,i=n?n._colorMask:15;i!==0&&(n._colorMask=0,t.colorMask(!1,!1,!1,!1)),t.stencilOp(t.KEEP,t.KEEP,t.DECR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,i!==0&&(n._colorMask=i,t.colorMask((i&1)!==0,(i&2)!==0,(i&4)!==0,(i&8)!==0)),this._useCurrent()}}_useCurrent(){const e=this.renderer.gl;e.stencilFunc(e.EQUAL,this.getStackLength(),4294967295),e.stencilOp(e.KEEP,e.KEEP,e.KEEP)}}RA.extension={type:Ne.RendererSystem,name:"stencil"};qe.add(RA);class IA{constructor(e){this.renderer=e,this.plugins={},Object.defineProperties(this.plugins,{extract:{enumerable:!1,get(){return mt("7.0.0","renderer.plugins.extract has moved to renderer.extract"),e.extract}},prepare:{enumerable:!1,get(){return mt("7.0.0","renderer.plugins.prepare has moved to renderer.prepare"),e.prepare}},interaction:{enumerable:!1,get(){return mt("7.0.0","renderer.plugins.interaction has been deprecated, use renderer.events"),e.events}}})}init(){const e=this.rendererPlugins;for(const t in e)this.plugins[t]=new e[t](this.renderer)}destroy(){for(const e in this.plugins)this.plugins[e].destroy(),this.plugins[e]=null}}IA.extension={type:[Ne.RendererSystem,Ne.CanvasRendererSystem],name:"_plugin"};qe.add(IA);class kA{constructor(e){this.renderer=e,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new Wt,this.transform=null}update(e,t,n,i){this.destinationFrame=e||this.destinationFrame||this.defaultFrame,this.sourceFrame=t||this.sourceFrame||e,this.calculateProjection(this.destinationFrame,this.sourceFrame,n,i),this.transform&&this.projectionMatrix.append(this.transform);const s=this.renderer;s.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,s.globalUniforms.update(),s.shader.shader&&s.shader.syncUniformGroup(s.shader.shader.uniforms.globals)}calculateProjection(e,t,n,i){const s=this.projectionMatrix,a=i?-1:1;s.identity(),s.a=1/t.width*2,s.d=a*(1/t.height*2),s.tx=-1-t.x*s.a,s.ty=-a-t.y*s.d}setTransform(e){}destroy(){this.renderer=null}}kA.extension={type:Ne.RendererSystem,name:"projection"};qe.add(kA);const TD=new Wg,ob=new ht;class MA{constructor(e){this.renderer=e,this._tempMatrix=new Wt}generateTexture(e,t){const{region:n,...i}=t||{},s=(n==null?void 0:n.copyTo(ob))||e.getLocalBounds(ob,!0),a=i.resolution||this.renderer.resolution;s.width=Math.max(s.width,1/a),s.height=Math.max(s.height,1/a),i.width=s.width,i.height=s.height,i.resolution=a,i.multisample??(i.multisample=this.renderer.multisample);const u=xh.create(i);this._tempMatrix.tx=-s.x,this._tempMatrix.ty=-s.y;const c=e.transform;return e.transform=TD,this.renderer.render(e,{renderTexture:u,transform:this._tempMatrix,skipUpdateTransform:!!e.parent,blit:!0}),e.transform=c,u}destroy(){}}MA.extension={type:[Ne.RendererSystem,Ne.CanvasRendererSystem],name:"textureGenerator"};qe.add(MA);const $u=new ht,gf=new ht;class DA{constructor(e){this.renderer=e,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new ht,this.destinationFrame=new ht,this.viewportFrame=new ht}contextChange(){var t;const e=(t=this.renderer)==null?void 0:t.gl.getContextAttributes();this._rendererPremultipliedAlpha=!!(e&&e.alpha&&e.premultipliedAlpha)}bind(e=null,t,n){const i=this.renderer;this.current=e;let s,a,u;e?(s=e.baseTexture,u=s.resolution,t||($u.width=e.frame.width,$u.height=e.frame.height,t=$u),n||(gf.x=e.frame.x,gf.y=e.frame.y,gf.width=t.width,gf.height=t.height,n=gf),a=s.framebuffer):(u=i.resolution,t||($u.width=i._view.screen.width,$u.height=i._view.screen.height,t=$u),n||(n=$u,n.width=t.width,n.height=t.height));const c=this.viewportFrame;c.x=n.x*u,c.y=n.y*u,c.width=n.width*u,c.height=n.height*u,e||(c.y=i.view.height-(c.y+c.height)),c.ceil(),this.renderer.framebuffer.bind(a,c),this.renderer.projection.update(n,t,u,!a),e?this.renderer.mask.setMaskStack(s.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(t),this.destinationFrame.copyFrom(n)}clear(e,t){const n=this.current?this.current.baseTexture.clear:this.renderer.background.backgroundColor,i=Ht.shared.setValue(e||n);(this.current&&this.current.baseTexture.alphaMode>0||!this.current&&this._rendererPremultipliedAlpha)&&i.premultiply(i.alpha);const s=this.destinationFrame,a=this.current?this.current.baseTexture:this.renderer._view.screen,u=s.width!==a.width||s.height!==a.height;if(u){let{x:c,y:f,width:m,height:g}=this.viewportFrame;c=Math.round(c),f=Math.round(f),m=Math.round(m),g=Math.round(g),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(c,f,m,g)}this.renderer.framebuffer.clear(i.red,i.green,i.blue,i.alpha,t),u&&this.renderer.scissor.pop()}resize(){this.bind(null)}reset(){this.bind(null)}destroy(){this.renderer=null}}DA.extension={type:Ne.RendererSystem,name:"renderTexture"};qe.add(DA);class ED{constructor(e,t){this.program=e,this.uniformData=t,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}destroy(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null}}function AD(r,e){const t={},n=e.getProgramParameter(r,e.ACTIVE_ATTRIBUTES);for(let i=0;i<n;i++){const s=e.getActiveAttrib(r,i);if(s.name.startsWith("gl_"))continue;const a=yA(e,s.type),u={type:a,name:s.name,size:gA(a),location:e.getAttribLocation(r,s.name)};t[s.name]=u}return t}function CD(r,e){const t={},n=e.getProgramParameter(r,e.ACTIVE_UNIFORMS);for(let i=0;i<n;i++){const s=e.getActiveUniform(r,i),a=s.name.replace(/\[.*?\]$/,""),u=!!s.name.match(/\[.*?\]$/),c=yA(e,s.type);t[a]={name:a,index:i,type:c,size:s.size,isArray:u,value:pA(c,s.size)}}return t}function PD(r,e){var u;const t=QS(r,r.VERTEX_SHADER,e.vertexSrc),n=QS(r,r.FRAGMENT_SHADER,e.fragmentSrc),i=r.createProgram();r.attachShader(i,t),r.attachShader(i,n);const s=(u=e.extra)==null?void 0:u.transformFeedbackVaryings;if(s&&(typeof r.transformFeedbackVaryings!="function"?console.warn("TransformFeedback is not supported but TransformFeedbackVaryings are given."):r.transformFeedbackVaryings(i,s.names,s.bufferMode==="separate"?r.SEPARATE_ATTRIBS:r.INTERLEAVED_ATTRIBS)),r.linkProgram(i),r.getProgramParameter(i,r.LINK_STATUS)||nD(r,i,t,n),e.attributeData=AD(i,r),e.uniformData=CD(i,r),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(e.vertexSrc)){const c=Object.keys(e.attributeData);c.sort((f,m)=>f>m?1:-1);for(let f=0;f<c.length;f++)e.attributeData[c[f]].location=f,r.bindAttribLocation(i,f,c[f]);r.linkProgram(i)}r.deleteShader(t),r.deleteShader(n);const a={};for(const c in e.uniformData){const f=e.uniformData[c];a[c]={location:r.getUniformLocation(i,c),value:pA(f.type,f.size)}}return new ED(i,a)}function RD(r,e,t,n,i){t.buffer.update(i)}const ID={float:`
        data[offset] = v;
    `,vec2:`
        data[offset] = v[0];
        data[offset+1] = v[1];
    `,vec3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

    `,vec4:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];
        data[offset+3] = v[3];
    `,mat2:`
        data[offset] = v[0];
        data[offset+1] = v[1];

        data[offset+4] = v[2];
        data[offset+5] = v[3];
    `,mat3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

        data[offset + 4] = v[3];
        data[offset + 5] = v[4];
        data[offset + 6] = v[5];

        data[offset + 8] = v[6];
        data[offset + 9] = v[7];
        data[offset + 10] = v[8];
    `,mat4:`
        for(var i = 0; i < 16; i++)
        {
            data[offset + i] = v[i];
        }
    `},OA={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:16*2,mat3:16*3,mat4:16*4};function kD(r){const e=r.map(s=>({data:s,offset:0,dataLen:0,dirty:0}));let t=0,n=0,i=0;for(let s=0;s<e.length;s++){const a=e[s];if(t=OA[a.data.type],a.data.size>1&&(t=Math.max(t,16)*a.data.size),a.dataLen=t,n%t!==0&&n<16){const u=n%t%16;n+=u,i+=u}n+t>16?(i=Math.ceil(i/16)*16,a.offset=i,i+=t,n=t):(a.offset=i,n+=t,i+=t)}return i=Math.ceil(i/16)*16,{uboElements:e,size:i}}function MD(r,e){const t=[];for(const n in r)e[n]&&t.push(e[n]);return t.sort((n,i)=>n.index-i.index),t}function DD(r,e){if(!r.autoManage)return{size:0,syncFunc:RD};const t=MD(r.uniforms,e),{uboElements:n,size:i}=kD(t),s=[`
    var v = null;
    var v2 = null;
    var cv = null;
    var t = 0;
    var gl = renderer.gl
    var index = 0;
    var data = buffer.data;
    `];for(let a=0;a<n.length;a++){const u=n[a],c=r.uniforms[u.data.name],f=u.data.name;let m=!1;for(let g=0;g<Gc.length;g++){const v=Gc[g];if(v.codeUbo&&v.test(u.data,c)){s.push(`offset = ${u.offset/4};`,Gc[g].codeUbo(u.data.name,c)),m=!0;break}}if(!m)if(u.data.size>1){const g=gA(u.data.type),v=Math.max(OA[u.data.type]/16,1),x=g/v,S=(4-x%4)%4;s.push(`
                cv = ud.${f}.value;
                v = uv.${f};
                offset = ${u.offset/4};

                t = 0;

                for(var i=0; i < ${u.data.size*v}; i++)
                {
                    for(var j = 0; j < ${x}; j++)
                    {
                        data[offset++] = v[t++];
                    }
                    offset += ${S};
                }

                `)}else{const g=ID[u.data.type];s.push(`
                cv = ud.${f}.value;
                v = uv.${f};
                offset = ${u.offset/4};
                ${g};
                `)}}return s.push(`
       renderer.buffer.update(buffer);
    `),{size:i,syncFunc:new Function("ud","uv","renderer","syncData","buffer",s.join(`
`))}}let OD=0;const Sm={textureCount:0,uboCount:0};class NA{constructor(e){this.destroyed=!1,this.renderer=e,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=OD++}systemCheck(){if(!sD())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")}contextChange(e){this.gl=e,this.reset()}bind(e,t){e.disposeRunner.add(this),e.uniforms.globals=this.renderer.globalUniforms;const n=e.program,i=n.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(e);return this.shader=e,this.program!==n&&(this.program=n,this.gl.useProgram(i.program)),t||(Sm.textureCount=0,Sm.uboCount=0,this.syncUniformGroup(e.uniformGroup,Sm)),i}setUniforms(e){const t=this.shader.program,n=t.glPrograms[this.renderer.CONTEXT_UID];t.syncUniforms(n.uniformData,e,this.renderer)}syncUniformGroup(e,t){const n=this.getGlProgram();(!e.static||e.dirtyId!==n.uniformDirtyGroups[e.id])&&(n.uniformDirtyGroups[e.id]=e.dirtyId,this.syncUniforms(e,n,t))}syncUniforms(e,t,n){(e.syncUniforms[this.shader.program.id]||this.createSyncGroups(e))(t.uniformData,e.uniforms,this.renderer,n)}createSyncGroups(e){const t=this.getSignature(e,this.shader.program.uniformData,"u");return this.cache[t]||(this.cache[t]=eD(e,this.shader.program.uniformData)),e.syncUniforms[this.shader.program.id]=this.cache[t],e.syncUniforms[this.shader.program.id]}syncUniformBufferGroup(e,t){const n=this.getGlProgram();if(!e.static||e.dirtyId!==0||!n.uniformGroups[e.id]){e.dirtyId=0;const i=n.uniformGroups[e.id]||this.createSyncBufferGroup(e,n,t);e.buffer.update(),i(n.uniformData,e.uniforms,this.renderer,Sm,e.buffer)}this.renderer.buffer.bindBufferBase(e.buffer,n.uniformBufferBindings[t])}createSyncBufferGroup(e,t,n){const{gl:i}=this.renderer;this.renderer.buffer.bind(e.buffer);const s=this.gl.getUniformBlockIndex(t.program,n);t.uniformBufferBindings[n]=this.shader.uniformBindCount,i.uniformBlockBinding(t.program,s,this.shader.uniformBindCount),this.shader.uniformBindCount++;const a=this.getSignature(e,this.shader.program.uniformData,"ubo");let u=this._uboCache[a];if(u||(u=this._uboCache[a]=DD(e,this.shader.program.uniformData)),e.autoManage){const c=new Float32Array(u.size/4);e.buffer.update(c)}return t.uniformGroups[e.id]=u.syncFunc,t.uniformGroups[e.id]}getSignature(e,t,n){const i=e.uniforms,s=[`${n}-`];for(const a in i)s.push(a),t[a]&&s.push(t[a].type);return s.join("-")}getGlProgram(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null}generateProgram(e){const t=this.gl,n=e.program,i=PD(t,n);return n.glPrograms[this.renderer.CONTEXT_UID]=i,i}reset(){this.program=null,this.shader=null}disposeShader(e){this.shader===e&&(this.shader=null)}destroy(){this.renderer=null,this.destroyed=!0}}NA.extension={type:Ne.RendererSystem,name:"shader"};qe.add(NA);class dg{constructor(e){this.renderer=e}run(e){const{renderer:t}=this;t.runners.init.emit(t.options),e.hello&&console.log(`PixiJS 7.4.2 - ${t.rendererLogId} - https://pixijs.com`),t.resize(t.screen.width,t.screen.height)}destroy(){}}dg.defaultOptions={hello:!1},dg.extension={type:[Ne.RendererSystem,Ne.CanvasRendererSystem],name:"startup"};qe.add(dg);function ND(r,e=[]){return e[rt.NORMAL]=[r.ONE,r.ONE_MINUS_SRC_ALPHA],e[rt.ADD]=[r.ONE,r.ONE],e[rt.MULTIPLY]=[r.DST_COLOR,r.ONE_MINUS_SRC_ALPHA,r.ONE,r.ONE_MINUS_SRC_ALPHA],e[rt.SCREEN]=[r.ONE,r.ONE_MINUS_SRC_COLOR,r.ONE,r.ONE_MINUS_SRC_ALPHA],e[rt.OVERLAY]=[r.ONE,r.ONE_MINUS_SRC_ALPHA],e[rt.DARKEN]=[r.ONE,r.ONE_MINUS_SRC_ALPHA],e[rt.LIGHTEN]=[r.ONE,r.ONE_MINUS_SRC_ALPHA],e[rt.COLOR_DODGE]=[r.ONE,r.ONE_MINUS_SRC_ALPHA],e[rt.COLOR_BURN]=[r.ONE,r.ONE_MINUS_SRC_ALPHA],e[rt.HARD_LIGHT]=[r.ONE,r.ONE_MINUS_SRC_ALPHA],e[rt.SOFT_LIGHT]=[r.ONE,r.ONE_MINUS_SRC_ALPHA],e[rt.DIFFERENCE]=[r.ONE,r.ONE_MINUS_SRC_ALPHA],e[rt.EXCLUSION]=[r.ONE,r.ONE_MINUS_SRC_ALPHA],e[rt.HUE]=[r.ONE,r.ONE_MINUS_SRC_ALPHA],e[rt.SATURATION]=[r.ONE,r.ONE_MINUS_SRC_ALPHA],e[rt.COLOR]=[r.ONE,r.ONE_MINUS_SRC_ALPHA],e[rt.LUMINOSITY]=[r.ONE,r.ONE_MINUS_SRC_ALPHA],e[rt.NONE]=[0,0],e[rt.NORMAL_NPM]=[r.SRC_ALPHA,r.ONE_MINUS_SRC_ALPHA,r.ONE,r.ONE_MINUS_SRC_ALPHA],e[rt.ADD_NPM]=[r.SRC_ALPHA,r.ONE,r.ONE,r.ONE],e[rt.SCREEN_NPM]=[r.SRC_ALPHA,r.ONE_MINUS_SRC_COLOR,r.ONE,r.ONE_MINUS_SRC_ALPHA],e[rt.SRC_IN]=[r.DST_ALPHA,r.ZERO],e[rt.SRC_OUT]=[r.ONE_MINUS_DST_ALPHA,r.ZERO],e[rt.SRC_ATOP]=[r.DST_ALPHA,r.ONE_MINUS_SRC_ALPHA],e[rt.DST_OVER]=[r.ONE_MINUS_DST_ALPHA,r.ONE],e[rt.DST_IN]=[r.ZERO,r.SRC_ALPHA],e[rt.DST_OUT]=[r.ZERO,r.ONE_MINUS_SRC_ALPHA],e[rt.DST_ATOP]=[r.ONE_MINUS_DST_ALPHA,r.SRC_ALPHA],e[rt.XOR]=[r.ONE_MINUS_DST_ALPHA,r.ONE_MINUS_SRC_ALPHA],e[rt.SUBTRACT]=[r.ONE,r.ONE,r.ONE,r.ONE,r.FUNC_REVERSE_SUBTRACT,r.FUNC_ADD],e}const FD=0,LD=1,BD=2,UD=3,zD=4,VD=5,FA=class u_{constructor(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=rt.NONE,this._blendEq=!1,this.map=[],this.map[FD]=this.setBlend,this.map[LD]=this.setOffset,this.map[BD]=this.setCullFace,this.map[UD]=this.setDepthTest,this.map[zD]=this.setFrontFace,this.map[VD]=this.setDepthMask,this.checks=[],this.defaultState=new Mo,this.defaultState.blend=!0}contextChange(e){this.gl=e,this.blendModes=ND(e),this.set(this.defaultState),this.reset()}set(e){if(e=e||this.defaultState,this.stateId!==e.data){let t=this.stateId^e.data,n=0;for(;t;)t&1&&this.map[n].call(this,!!(e.data&1<<n)),t=t>>1,n++;this.stateId=e.data}for(let t=0;t<this.checks.length;t++)this.checks[t](this,e)}forceState(e){e=e||this.defaultState;for(let t=0;t<this.map.length;t++)this.map[t].call(this,!!(e.data&1<<t));for(let t=0;t<this.checks.length;t++)this.checks[t](this,e);this.stateId=e.data}setBlend(e){this.updateCheck(u_.checkBlendMode,e),this.gl[e?"enable":"disable"](this.gl.BLEND)}setOffset(e){this.updateCheck(u_.checkPolygonOffset,e),this.gl[e?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)}setDepthTest(e){this.gl[e?"enable":"disable"](this.gl.DEPTH_TEST)}setDepthMask(e){this.gl.depthMask(e)}setCullFace(e){this.gl[e?"enable":"disable"](this.gl.CULL_FACE)}setFrontFace(e){this.gl.frontFace(this.gl[e?"CW":"CCW"])}setBlendMode(e){if(e===this.blendMode)return;this.blendMode=e;const t=this.blendModes[e],n=this.gl;t.length===2?n.blendFunc(t[0],t[1]):n.blendFuncSeparate(t[0],t[1],t[2],t[3]),t.length===6?(this._blendEq=!0,n.blendEquationSeparate(t[4],t[5])):this._blendEq&&(this._blendEq=!1,n.blendEquationSeparate(n.FUNC_ADD,n.FUNC_ADD))}setPolygonOffset(e,t){this.gl.polygonOffset(e,t)}reset(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)}updateCheck(e,t){const n=this.checks.indexOf(e);t&&n===-1?this.checks.push(e):!t&&n!==-1&&this.checks.splice(n,1)}static checkBlendMode(e,t){e.setBlendMode(t.blendMode)}static checkPolygonOffset(e,t){e.setPolygonOffset(1,t.polygonOffset)}destroy(){this.gl=null}};FA.extension={type:Ne.RendererSystem,name:"state"};let GD=FA;qe.add(GD);class jD extends gp{constructor(){super(...arguments),this.runners={},this._systemsHash={}}setup(e){this.addRunners(...e.runners);const t=(e.priority??[]).filter(i=>e.systems[i]),n=[...t,...Object.keys(e.systems).filter(i=>!t.includes(i))];for(const i of n)this.addSystem(e.systems[i],i)}addRunners(...e){e.forEach(t=>{this.runners[t]=new Ls(t)})}addSystem(e,t){const n=new e(this);if(this[t])throw new Error(`Whoops! The name "${t}" is already in use`);this[t]=n,this._systemsHash[t]=n;for(const i in this.runners)this.runners[i].add(n);return this}emitWithCustomOptions(e,t){const n=Object.keys(this._systemsHash);e.items.forEach(i=>{const s=n.find(a=>this._systemsHash[a]===i);i[e.name](t[s])})}destroy(){Object.values(this.runners).forEach(e=>{e.destroy()}),this._systemsHash={}}}const Ef=class Xm{constructor(e){this.renderer=e,this.count=0,this.checkCount=0,this.maxIdle=Xm.defaultMaxIdle,this.checkCountMax=Xm.defaultCheckCountMax,this.mode=Xm.defaultMode}postrender(){this.renderer.objectRenderer.renderingToScreen&&(this.count++,this.mode!==Sx.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))}run(){const e=this.renderer.texture,t=e.managedTextures;let n=!1;for(let i=0;i<t.length;i++){const s=t[i];s.resource&&this.count-s.touched>this.maxIdle&&(e.destroyTexture(s,!0),t[i]=null,n=!0)}if(n){let i=0;for(let s=0;s<t.length;s++)t[s]!==null&&(t[i++]=t[s]);t.length=i}}unload(e){const t=this.renderer.texture,n=e._texture;n&&!n.framebuffer&&t.destroyTexture(n);for(let i=e.children.length-1;i>=0;i--)this.unload(e.children[i])}destroy(){this.renderer=null}};Ef.defaultMode=Sx.AUTO,Ef.defaultMaxIdle=60*60,Ef.defaultCheckCountMax=60*10,Ef.extension={type:Ne.RendererSystem,name:"textureGC"};let nh=Ef;qe.add(nh);class h0{constructor(e){this.texture=e,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=Je.UNSIGNED_BYTE,this.internalFormat=Re.RGBA,this.samplerType=0}}function HD(r){let e;return"WebGL2RenderingContext"in globalThis&&r instanceof globalThis.WebGL2RenderingContext?e={[r.RGB]:Be.FLOAT,[r.RGBA]:Be.FLOAT,[r.ALPHA]:Be.FLOAT,[r.LUMINANCE]:Be.FLOAT,[r.LUMINANCE_ALPHA]:Be.FLOAT,[r.R8]:Be.FLOAT,[r.R8_SNORM]:Be.FLOAT,[r.RG8]:Be.FLOAT,[r.RG8_SNORM]:Be.FLOAT,[r.RGB8]:Be.FLOAT,[r.RGB8_SNORM]:Be.FLOAT,[r.RGB565]:Be.FLOAT,[r.RGBA4]:Be.FLOAT,[r.RGB5_A1]:Be.FLOAT,[r.RGBA8]:Be.FLOAT,[r.RGBA8_SNORM]:Be.FLOAT,[r.RGB10_A2]:Be.FLOAT,[r.RGB10_A2UI]:Be.FLOAT,[r.SRGB8]:Be.FLOAT,[r.SRGB8_ALPHA8]:Be.FLOAT,[r.R16F]:Be.FLOAT,[r.RG16F]:Be.FLOAT,[r.RGB16F]:Be.FLOAT,[r.RGBA16F]:Be.FLOAT,[r.R32F]:Be.FLOAT,[r.RG32F]:Be.FLOAT,[r.RGB32F]:Be.FLOAT,[r.RGBA32F]:Be.FLOAT,[r.R11F_G11F_B10F]:Be.FLOAT,[r.RGB9_E5]:Be.FLOAT,[r.R8I]:Be.INT,[r.R8UI]:Be.UINT,[r.R16I]:Be.INT,[r.R16UI]:Be.UINT,[r.R32I]:Be.INT,[r.R32UI]:Be.UINT,[r.RG8I]:Be.INT,[r.RG8UI]:Be.UINT,[r.RG16I]:Be.INT,[r.RG16UI]:Be.UINT,[r.RG32I]:Be.INT,[r.RG32UI]:Be.UINT,[r.RGB8I]:Be.INT,[r.RGB8UI]:Be.UINT,[r.RGB16I]:Be.INT,[r.RGB16UI]:Be.UINT,[r.RGB32I]:Be.INT,[r.RGB32UI]:Be.UINT,[r.RGBA8I]:Be.INT,[r.RGBA8UI]:Be.UINT,[r.RGBA16I]:Be.INT,[r.RGBA16UI]:Be.UINT,[r.RGBA32I]:Be.INT,[r.RGBA32UI]:Be.UINT,[r.DEPTH_COMPONENT16]:Be.FLOAT,[r.DEPTH_COMPONENT24]:Be.FLOAT,[r.DEPTH_COMPONENT32F]:Be.FLOAT,[r.DEPTH_STENCIL]:Be.FLOAT,[r.DEPTH24_STENCIL8]:Be.FLOAT,[r.DEPTH32F_STENCIL8]:Be.FLOAT}:e={[r.RGB]:Be.FLOAT,[r.RGBA]:Be.FLOAT,[r.ALPHA]:Be.FLOAT,[r.LUMINANCE]:Be.FLOAT,[r.LUMINANCE_ALPHA]:Be.FLOAT,[r.DEPTH_STENCIL]:Be.FLOAT},e}function $D(r){let e;return"WebGL2RenderingContext"in globalThis&&r instanceof globalThis.WebGL2RenderingContext?e={[Je.UNSIGNED_BYTE]:{[Re.RGBA]:r.RGBA8,[Re.RGB]:r.RGB8,[Re.RG]:r.RG8,[Re.RED]:r.R8,[Re.RGBA_INTEGER]:r.RGBA8UI,[Re.RGB_INTEGER]:r.RGB8UI,[Re.RG_INTEGER]:r.RG8UI,[Re.RED_INTEGER]:r.R8UI,[Re.ALPHA]:r.ALPHA,[Re.LUMINANCE]:r.LUMINANCE,[Re.LUMINANCE_ALPHA]:r.LUMINANCE_ALPHA},[Je.BYTE]:{[Re.RGBA]:r.RGBA8_SNORM,[Re.RGB]:r.RGB8_SNORM,[Re.RG]:r.RG8_SNORM,[Re.RED]:r.R8_SNORM,[Re.RGBA_INTEGER]:r.RGBA8I,[Re.RGB_INTEGER]:r.RGB8I,[Re.RG_INTEGER]:r.RG8I,[Re.RED_INTEGER]:r.R8I},[Je.UNSIGNED_SHORT]:{[Re.RGBA_INTEGER]:r.RGBA16UI,[Re.RGB_INTEGER]:r.RGB16UI,[Re.RG_INTEGER]:r.RG16UI,[Re.RED_INTEGER]:r.R16UI,[Re.DEPTH_COMPONENT]:r.DEPTH_COMPONENT16},[Je.SHORT]:{[Re.RGBA_INTEGER]:r.RGBA16I,[Re.RGB_INTEGER]:r.RGB16I,[Re.RG_INTEGER]:r.RG16I,[Re.RED_INTEGER]:r.R16I},[Je.UNSIGNED_INT]:{[Re.RGBA_INTEGER]:r.RGBA32UI,[Re.RGB_INTEGER]:r.RGB32UI,[Re.RG_INTEGER]:r.RG32UI,[Re.RED_INTEGER]:r.R32UI,[Re.DEPTH_COMPONENT]:r.DEPTH_COMPONENT24},[Je.INT]:{[Re.RGBA_INTEGER]:r.RGBA32I,[Re.RGB_INTEGER]:r.RGB32I,[Re.RG_INTEGER]:r.RG32I,[Re.RED_INTEGER]:r.R32I},[Je.FLOAT]:{[Re.RGBA]:r.RGBA32F,[Re.RGB]:r.RGB32F,[Re.RG]:r.RG32F,[Re.RED]:r.R32F,[Re.DEPTH_COMPONENT]:r.DEPTH_COMPONENT32F},[Je.HALF_FLOAT]:{[Re.RGBA]:r.RGBA16F,[Re.RGB]:r.RGB16F,[Re.RG]:r.RG16F,[Re.RED]:r.R16F},[Je.UNSIGNED_SHORT_5_6_5]:{[Re.RGB]:r.RGB565},[Je.UNSIGNED_SHORT_4_4_4_4]:{[Re.RGBA]:r.RGBA4},[Je.UNSIGNED_SHORT_5_5_5_1]:{[Re.RGBA]:r.RGB5_A1},[Je.UNSIGNED_INT_2_10_10_10_REV]:{[Re.RGBA]:r.RGB10_A2,[Re.RGBA_INTEGER]:r.RGB10_A2UI},[Je.UNSIGNED_INT_10F_11F_11F_REV]:{[Re.RGB]:r.R11F_G11F_B10F},[Je.UNSIGNED_INT_5_9_9_9_REV]:{[Re.RGB]:r.RGB9_E5},[Je.UNSIGNED_INT_24_8]:{[Re.DEPTH_STENCIL]:r.DEPTH24_STENCIL8},[Je.FLOAT_32_UNSIGNED_INT_24_8_REV]:{[Re.DEPTH_STENCIL]:r.DEPTH32F_STENCIL8}}:e={[Je.UNSIGNED_BYTE]:{[Re.RGBA]:r.RGBA,[Re.RGB]:r.RGB,[Re.ALPHA]:r.ALPHA,[Re.LUMINANCE]:r.LUMINANCE,[Re.LUMINANCE_ALPHA]:r.LUMINANCE_ALPHA},[Je.UNSIGNED_SHORT_5_6_5]:{[Re.RGB]:r.RGB},[Je.UNSIGNED_SHORT_4_4_4_4]:{[Re.RGBA]:r.RGBA},[Je.UNSIGNED_SHORT_5_5_5_1]:{[Re.RGBA]:r.RGBA}},e}class LA{constructor(e){this.renderer=e,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new lt,this.hasIntegerTextures=!1}contextChange(){const e=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=$D(e),this.samplerTypes=HD(e);const t=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=t;for(let i=0;i<t;i++)this.boundTextures[i]=null;this.emptyTextures={};const n=new h0(e.createTexture());e.bindTexture(e.TEXTURE_2D,n.texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[e.TEXTURE_2D]=n,this.emptyTextures[e.TEXTURE_CUBE_MAP]=new h0(e.createTexture()),e.bindTexture(e.TEXTURE_CUBE_MAP,this.emptyTextures[e.TEXTURE_CUBE_MAP].texture);for(let i=0;i<6;i++)e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+i,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,null);e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MIN_FILTER,e.LINEAR);for(let i=0;i<this.boundTextures.length;i++)this.bind(null,i)}bind(e,t=0){const{gl:n}=this;if(e=e==null?void 0:e.castToBaseTexture(),(e==null?void 0:e.valid)&&!e.parentTextureArray){e.touched=this.renderer.textureGC.count;const i=e._glTextures[this.CONTEXT_UID]||this.initTexture(e);this.boundTextures[t]!==e&&(this.currentLocation!==t&&(this.currentLocation=t,n.activeTexture(n.TEXTURE0+t)),n.bindTexture(e.target,i.texture)),i.dirtyId!==e.dirtyId?(this.currentLocation!==t&&(this.currentLocation=t,n.activeTexture(n.TEXTURE0+t)),this.updateTexture(e)):i.dirtyStyleId!==e.dirtyStyleId&&this.updateTextureStyle(e),this.boundTextures[t]=e}else this.currentLocation!==t&&(this.currentLocation=t,n.activeTexture(n.TEXTURE0+t)),n.bindTexture(n.TEXTURE_2D,this.emptyTextures[n.TEXTURE_2D].texture),this.boundTextures[t]=null}reset(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(let e=0;e<this.boundTextures.length;e++)this.boundTextures[e]=this.unknownTexture}unbind(e){const{gl:t,boundTextures:n}=this;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(let i=0;i<n.length;i++)n[i]===this.unknownTexture&&this.bind(null,i)}for(let i=0;i<n.length;i++)n[i]===e&&(this.currentLocation!==i&&(t.activeTexture(t.TEXTURE0+i),this.currentLocation=i),t.bindTexture(e.target,this.emptyTextures[e.target].texture),n[i]=null)}ensureSamplerType(e){const{boundTextures:t,hasIntegerTextures:n,CONTEXT_UID:i}=this;if(n)for(let s=e-1;s>=0;--s){const a=t[s];a&&a._glTextures[i].samplerType!==Be.FLOAT&&this.renderer.texture.unbind(a)}}initTexture(e){const t=new h0(this.gl.createTexture());return t.dirtyId=-1,e._glTextures[this.CONTEXT_UID]=t,this.managedTextures.push(e),e.on("dispose",this.destroyTexture,this),t}initTextureType(e,t){var n;t.internalFormat=((n=this.internalFormats[e.type])==null?void 0:n[e.format])??e.format,t.samplerType=this.samplerTypes[t.internalFormat]??Be.FLOAT,this.webGLVersion===2&&e.type===Je.HALF_FLOAT?t.type=this.gl.HALF_FLOAT:t.type=e.type}updateTexture(e){var i;const t=e._glTextures[this.CONTEXT_UID];if(!t)return;const n=this.renderer;if(this.initTextureType(e,t),(i=e.resource)==null?void 0:i.upload(n,e,t))t.samplerType!==Be.FLOAT&&(this.hasIntegerTextures=!0);else{const s=e.realWidth,a=e.realHeight,u=n.gl;(t.width!==s||t.height!==a||t.dirtyId<0)&&(t.width=s,t.height=a,u.texImage2D(e.target,0,t.internalFormat,s,a,0,e.format,t.type,null))}e.dirtyStyleId!==t.dirtyStyleId&&this.updateTextureStyle(e),t.dirtyId=e.dirtyId}destroyTexture(e,t){const{gl:n}=this;if(e=e.castToBaseTexture(),e._glTextures[this.CONTEXT_UID]&&(this.unbind(e),n.deleteTexture(e._glTextures[this.CONTEXT_UID].texture),e.off("dispose",this.destroyTexture,this),delete e._glTextures[this.CONTEXT_UID],!t)){const i=this.managedTextures.indexOf(e);i!==-1&&Vc(this.managedTextures,i,1)}}updateTextureStyle(e){var n;const t=e._glTextures[this.CONTEXT_UID];t&&((e.mipmap===Co.POW2||this.webGLVersion!==2)&&!e.isPowerOfTwo?t.mipmap=!1:t.mipmap=e.mipmap>=1,this.webGLVersion!==2&&!e.isPowerOfTwo?t.wrapMode=pa.CLAMP:t.wrapMode=e.wrapMode,(n=e.resource)!=null&&n.style(this.renderer,e,t)||this.setStyle(e,t),t.dirtyStyleId=e.dirtyStyleId)}setStyle(e,t){const n=this.gl;if(t.mipmap&&e.mipmap!==Co.ON_MANUAL&&n.generateMipmap(e.target),n.texParameteri(e.target,n.TEXTURE_WRAP_S,t.wrapMode),n.texParameteri(e.target,n.TEXTURE_WRAP_T,t.wrapMode),t.mipmap){n.texParameteri(e.target,n.TEXTURE_MIN_FILTER,e.scaleMode===ha.LINEAR?n.LINEAR_MIPMAP_LINEAR:n.NEAREST_MIPMAP_NEAREST);const i=this.renderer.context.extensions.anisotropicFiltering;if(i&&e.anisotropicLevel>0&&e.scaleMode===ha.LINEAR){const s=Math.min(e.anisotropicLevel,n.getParameter(i.MAX_TEXTURE_MAX_ANISOTROPY_EXT));n.texParameterf(e.target,i.TEXTURE_MAX_ANISOTROPY_EXT,s)}}else n.texParameteri(e.target,n.TEXTURE_MIN_FILTER,e.scaleMode===ha.LINEAR?n.LINEAR:n.NEAREST);n.texParameteri(e.target,n.TEXTURE_MAG_FILTER,e.scaleMode===ha.LINEAR?n.LINEAR:n.NEAREST)}destroy(){this.renderer=null}}LA.extension={type:Ne.RendererSystem,name:"texture"};qe.add(LA);class BA{constructor(e){this.renderer=e}contextChange(){this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){const{gl:t,CONTEXT_UID:n}=this,i=e._glTransformFeedbacks[n]||this.createGLTransformFeedback(e);t.bindTransformFeedback(t.TRANSFORM_FEEDBACK,i)}unbind(){const{gl:e}=this;e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,null)}beginTransformFeedback(e,t){const{gl:n,renderer:i}=this;t&&i.shader.bind(t),n.beginTransformFeedback(e)}endTransformFeedback(){const{gl:e}=this;e.endTransformFeedback()}createGLTransformFeedback(e){const{gl:t,renderer:n,CONTEXT_UID:i}=this,s=t.createTransformFeedback();e._glTransformFeedbacks[i]=s,t.bindTransformFeedback(t.TRANSFORM_FEEDBACK,s);for(let a=0;a<e.buffers.length;a++){const u=e.buffers[a];u&&(n.buffer.update(u),u._glBuffers[i].refCount++,t.bindBufferBase(t.TRANSFORM_FEEDBACK_BUFFER,a,u._glBuffers[i].buffer||null))}return t.bindTransformFeedback(t.TRANSFORM_FEEDBACK,null),e.disposeRunner.add(this),s}disposeTransformFeedback(e,t){const n=e._glTransformFeedbacks[this.CONTEXT_UID],i=this.gl;e.disposeRunner.remove(this);const s=this.renderer.buffer;if(s)for(let a=0;a<e.buffers.length;a++){const u=e.buffers[a];if(!u)continue;const c=u._glBuffers[this.CONTEXT_UID];c&&(c.refCount--,c.refCount===0&&!t&&s.dispose(u,t))}n&&(t||i.deleteTransformFeedback(n),delete e._glTransformFeedbacks[this.CONTEXT_UID])}destroy(){this.renderer=null}}BA.extension={type:Ne.RendererSystem,name:"transformFeedback"};qe.add(BA);class fg{constructor(e){this.renderer=e}init(e){this.screen=new ht(0,0,e.width,e.height),this.element=e.view||Ue.ADAPTER.createCanvas(),this.resolution=e.resolution||Ue.RESOLUTION,this.autoDensity=!!e.autoDensity}resizeView(e,t){this.element.width=Math.round(e*this.resolution),this.element.height=Math.round(t*this.resolution);const n=this.element.width/this.resolution,i=this.element.height/this.resolution;this.screen.width=n,this.screen.height=i,this.autoDensity&&(this.element.style.width=`${n}px`,this.element.style.height=`${i}px`),this.renderer.emit("resize",n,i),this.renderer.runners.resize.emit(this.screen.width,this.screen.height)}destroy(e){var t;e&&((t=this.element.parentNode)==null||t.removeChild(this.element)),this.renderer=null,this.element=null,this.screen=null}}fg.defaultOptions={width:800,height:600,resolution:void 0,autoDensity:!1},fg.extension={type:[Ne.RendererSystem,Ne.CanvasRendererSystem],name:"_view"};qe.add(fg);Ue.PREFER_ENV=_h.WEBGL2;Ue.STRICT_TEXTURE_CACHE=!1;Ue.RENDER_OPTIONS={...cg.defaultOptions,...hg.defaultOptions,...fg.defaultOptions,...dg.defaultOptions};Object.defineProperties(Ue,{WRAP_MODE:{get(){return lt.defaultOptions.wrapMode},set(r){mt("7.1.0","settings.WRAP_MODE is deprecated, use BaseTexture.defaultOptions.wrapMode"),lt.defaultOptions.wrapMode=r}},SCALE_MODE:{get(){return lt.defaultOptions.scaleMode},set(r){mt("7.1.0","settings.SCALE_MODE is deprecated, use BaseTexture.defaultOptions.scaleMode"),lt.defaultOptions.scaleMode=r}},MIPMAP_TEXTURES:{get(){return lt.defaultOptions.mipmap},set(r){mt("7.1.0","settings.MIPMAP_TEXTURES is deprecated, use BaseTexture.defaultOptions.mipmap"),lt.defaultOptions.mipmap=r}},ANISOTROPIC_LEVEL:{get(){return lt.defaultOptions.anisotropicLevel},set(r){mt("7.1.0","settings.ANISOTROPIC_LEVEL is deprecated, use BaseTexture.defaultOptions.anisotropicLevel"),lt.defaultOptions.anisotropicLevel=r}},FILTER_RESOLUTION:{get(){return mt("7.1.0","settings.FILTER_RESOLUTION is deprecated, use Filter.defaultResolution"),Ln.defaultResolution},set(r){Ln.defaultResolution=r}},FILTER_MULTISAMPLE:{get(){return mt("7.1.0","settings.FILTER_MULTISAMPLE is deprecated, use Filter.defaultMultisample"),Ln.defaultMultisample},set(r){Ln.defaultMultisample=r}},SPRITE_MAX_TEXTURES:{get(){return rh.defaultMaxTextures},set(r){mt("7.1.0","settings.SPRITE_MAX_TEXTURES is deprecated, use BatchRenderer.defaultMaxTextures"),rh.defaultMaxTextures=r}},SPRITE_BATCH_SIZE:{get(){return rh.defaultBatchSize},set(r){mt("7.1.0","settings.SPRITE_BATCH_SIZE is deprecated, use BatchRenderer.defaultBatchSize"),rh.defaultBatchSize=r}},CAN_UPLOAD_SAME_BUFFER:{get(){return rh.canUploadSameBuffer},set(r){mt("7.1.0","settings.CAN_UPLOAD_SAME_BUFFER is deprecated, use BatchRenderer.canUploadSameBuffer"),rh.canUploadSameBuffer=r}},GC_MODE:{get(){return nh.defaultMode},set(r){mt("7.1.0","settings.GC_MODE is deprecated, use TextureGCSystem.defaultMode"),nh.defaultMode=r}},GC_MAX_IDLE:{get(){return nh.defaultMaxIdle},set(r){mt("7.1.0","settings.GC_MAX_IDLE is deprecated, use TextureGCSystem.defaultMaxIdle"),nh.defaultMaxIdle=r}},GC_MAX_CHECK_COUNT:{get(){return nh.defaultCheckCountMax},set(r){mt("7.1.0","settings.GC_MAX_CHECK_COUNT is deprecated, use TextureGCSystem.defaultCheckCountMax"),nh.defaultCheckCountMax=r}},PRECISION_VERTEX:{get(){return da.defaultVertexPrecision},set(r){mt("7.1.0","settings.PRECISION_VERTEX is deprecated, use Program.defaultVertexPrecision"),da.defaultVertexPrecision=r}},PRECISION_FRAGMENT:{get(){return da.defaultFragmentPrecision},set(r){mt("7.1.0","settings.PRECISION_FRAGMENT is deprecated, use Program.defaultFragmentPrecision"),da.defaultFragmentPrecision=r}}});var Fl=(r=>(r[r.INTERACTION=50]="INTERACTION",r[r.HIGH=25]="HIGH",r[r.NORMAL=0]="NORMAL",r[r.LOW=-25]="LOW",r[r.UTILITY=-50]="UTILITY",r))(Fl||{});class c0{constructor(e,t=null,n=0,i=!1){this.next=null,this.previous=null,this._destroyed=!1,this.fn=e,this.context=t,this.priority=n,this.once=i}match(e,t=null){return this.fn===e&&this.context===t}emit(e){this.fn&&(this.context?this.fn.call(this.context,e):this.fn(e));const t=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),t}connect(e){this.previous=e,e.next&&(e.next.previous=this),this.next=e.next,e.next=this}destroy(e=!1){this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);const t=this.next;return this.next=e?null:t,this.previous=null,t}}const UA=class Pi{constructor(){this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new c0(null,null,1/0),this.deltaMS=1/Pi.targetFPMS,this.elapsedMS=1/Pi.targetFPMS,this._tick=e=>{this._requestId=null,this.started&&(this.update(e),this.started&&this._requestId===null&&this._head.next&&(this._requestId=requestAnimationFrame(this._tick)))}}_requestIfNeeded(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))}_cancelIfNeeded(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)}_startIfPossible(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}add(e,t,n=Fl.NORMAL){return this._addListener(new c0(e,t,n))}addOnce(e,t,n=Fl.NORMAL){return this._addListener(new c0(e,t,n,!0))}_addListener(e){let t=this._head.next,n=this._head;if(!t)e.connect(n);else{for(;t;){if(e.priority>t.priority){e.connect(n);break}n=t,t=t.next}e.previous||e.connect(n)}return this._startIfPossible(),this}remove(e,t){let n=this._head.next;for(;n;)n.match(e,t)?n=n.destroy():n=n.next;return this._head.next||this._cancelIfNeeded(),this}get count(){if(!this._head)return 0;let e=0,t=this._head;for(;t=t.next;)e++;return e}start(){this.started||(this.started=!0,this._requestIfNeeded())}stop(){this.started&&(this.started=!1,this._cancelIfNeeded())}destroy(){if(!this._protected){this.stop();let e=this._head.next;for(;e;)e=e.destroy(!0);this._head.destroy(),this._head=null}}update(e=performance.now()){let t;if(e>this.lastTime){if(t=this.elapsedMS=e-this.lastTime,t>this._maxElapsedMS&&(t=this._maxElapsedMS),t*=this.speed,this._minElapsedMS){const s=e-this._lastFrame|0;if(s<this._minElapsedMS)return;this._lastFrame=e-s%this._minElapsedMS}this.deltaMS=t,this.deltaTime=this.deltaMS*Pi.targetFPMS;const n=this._head;let i=n.next;for(;i;)i=i.emit(this.deltaTime);n.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=e}get FPS(){return 1e3/this.elapsedMS}get minFPS(){return 1e3/this._maxElapsedMS}set minFPS(e){const t=Math.min(this.maxFPS,e),n=Math.min(Math.max(0,t)/1e3,Pi.targetFPMS);this._maxElapsedMS=1/n}get maxFPS(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0}set maxFPS(e){if(e===0)this._minElapsedMS=0;else{const t=Math.max(this.minFPS,e);this._minElapsedMS=1/(t/1e3)}}static get shared(){if(!Pi._shared){const e=Pi._shared=new Pi;e.autoStart=!0,e._protected=!0}return Pi._shared}static get system(){if(!Pi._system){const e=Pi._system=new Pi;e.autoStart=!0,e._protected=!0}return Pi._system}};UA.targetFPMS=.06;let qr=UA;Object.defineProperties(Ue,{TARGET_FPMS:{get(){return qr.targetFPMS},set(r){mt("7.1.0","settings.TARGET_FPMS is deprecated, use Ticker.targetFPMS"),qr.targetFPMS=r}}});class zA{static init(e){e=Object.assign({autoStart:!0,sharedTicker:!1},e),Object.defineProperty(this,"ticker",{set(t){this._ticker&&this._ticker.remove(this.render,this),this._ticker=t,t&&t.add(this.render,this,Fl.LOW)},get(){return this._ticker}}),this.stop=()=>{this._ticker.stop()},this.start=()=>{this._ticker.start()},this._ticker=null,this.ticker=e.sharedTicker?qr.shared:new qr,e.autoStart&&this.start()}static destroy(){if(this._ticker){const e=this._ticker;this.ticker=null,e.destroy()}}}zA.extension=Ne.Application;qe.add(zA);const VA=[];qe.handleByList(Ne.Renderer,VA);function WD(r){for(const e of VA)if(e.test(r))return new e(r);throw new Error("Unable to auto-detect a suitable renderer.")}var XD=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,YD=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`;const qD=XD,GA=YD;class jA{constructor(e){this.renderer=e}contextChange(e){let t;if(this.renderer.context.webGLVersion===1){const n=e.getParameter(e.FRAMEBUFFER_BINDING);e.bindFramebuffer(e.FRAMEBUFFER,null),t=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.FRAMEBUFFER,n)}else{const n=e.getParameter(e.DRAW_FRAMEBUFFER_BINDING);e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),t=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,n)}t>=kr.HIGH?this.multisample=kr.HIGH:t>=kr.MEDIUM?this.multisample=kr.MEDIUM:t>=kr.LOW?this.multisample=kr.LOW:this.multisample=kr.NONE}destroy(){}}jA.extension={type:Ne.RendererSystem,name:"_multisample"};qe.add(jA);class KD{constructor(e){this.buffer=e||null,this.updateID=-1,this.byteLength=-1,this.refCount=0}}class HA{constructor(e){this.renderer=e,this.managedBuffers={},this.boundBufferBases={}}destroy(){this.renderer=null}contextChange(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){const{gl:t,CONTEXT_UID:n}=this,i=e._glBuffers[n]||this.createGLBuffer(e);t.bindBuffer(e.type,i.buffer)}unbind(e){const{gl:t}=this;t.bindBuffer(e,null)}bindBufferBase(e,t){const{gl:n,CONTEXT_UID:i}=this;if(this.boundBufferBases[t]!==e){const s=e._glBuffers[i]||this.createGLBuffer(e);this.boundBufferBases[t]=e,n.bindBufferBase(n.UNIFORM_BUFFER,t,s.buffer)}}bindBufferRange(e,t,n){const{gl:i,CONTEXT_UID:s}=this;n=n||0;const a=e._glBuffers[s]||this.createGLBuffer(e);i.bindBufferRange(i.UNIFORM_BUFFER,t||0,a.buffer,n*256,256)}update(e){const{gl:t,CONTEXT_UID:n}=this,i=e._glBuffers[n]||this.createGLBuffer(e);if(e._updateID!==i.updateID)if(i.updateID=e._updateID,t.bindBuffer(e.type,i.buffer),i.byteLength>=e.data.byteLength)t.bufferSubData(e.type,0,e.data);else{const s=e.static?t.STATIC_DRAW:t.DYNAMIC_DRAW;i.byteLength=e.data.byteLength,t.bufferData(e.type,e.data,s)}}dispose(e,t){if(!this.managedBuffers[e.id])return;delete this.managedBuffers[e.id];const n=e._glBuffers[this.CONTEXT_UID],i=this.gl;e.disposeRunner.remove(this),n&&(t||i.deleteBuffer(n.buffer),delete e._glBuffers[this.CONTEXT_UID])}disposeAll(e){const t=Object.keys(this.managedBuffers);for(let n=0;n<t.length;n++)this.dispose(this.managedBuffers[t[n]],e)}createGLBuffer(e){const{CONTEXT_UID:t,gl:n}=this;return e._glBuffers[t]=new KD(n.createBuffer()),this.managedBuffers[e.id]=e,e.disposeRunner.add(this),e._glBuffers[t]}}HA.extension={type:Ne.RendererSystem,name:"buffer"};qe.add(HA);class $A{constructor(e){this.renderer=e}render(e,t){const n=this.renderer;let i,s,a,u;if(t&&(i=t.renderTexture,s=t.clear,a=t.transform,u=t.skipUpdateTransform),this.renderingToScreen=!i,n.runners.prerender.emit(),n.emit("prerender"),n.projection.transform=a,!n.context.isLost){if(i||(this.lastObjectRendered=e),!u){const c=e.enableTempParent();e.updateTransform(),e.disableTempParent(c)}n.renderTexture.bind(i),n.batch.currentRenderer.start(),(s??n.background.clearBeforeRender)&&n.renderTexture.clear(),e.render(n),n.batch.currentRenderer.flush(),i&&(t.blit&&n.framebuffer.blit(),i.baseTexture.update()),n.runners.postrender.emit(),n.projection.transform=null,n.emit("postrender")}}destroy(){this.renderer=null,this.lastObjectRendered=null}}$A.extension={type:Ne.RendererSystem,name:"objectRenderer"};qe.add($A);const Ym=class h_ extends jD{constructor(e){super(),this.type=qE.WEBGL,e=Object.assign({},Ue.RENDER_OPTIONS,e),this.gl=null,this.CONTEXT_UID=0,this.globalUniforms=new Bs({projectionMatrix:new Wt},!0);const t={runners:["init","destroy","contextChange","resolutionChange","reset","update","postrender","prerender","resize"],systems:h_.__systems,priority:["_view","textureGenerator","background","_plugin","startup","context","state","texture","buffer","geometry","framebuffer","transformFeedback","mask","scissor","stencil","projection","textureGC","filter","renderTexture","batch","objectRenderer","_multisample"]};this.setup(t),"useContextAlpha"in e&&(mt("7.0.0","options.useContextAlpha is deprecated, use options.premultipliedAlpha and options.backgroundAlpha instead"),e.premultipliedAlpha=e.useContextAlpha&&e.useContextAlpha!=="notMultiplied",e.backgroundAlpha=e.useContextAlpha===!1?1:e.backgroundAlpha),this._plugin.rendererPlugins=h_.__plugins,this.options=e,this.startup.run(this.options)}static test(e){return e!=null&&e.forceCanvas?!1:_2()}render(e,t){this.objectRenderer.render(e,t)}resize(e,t){this._view.resizeView(e,t)}reset(){return this.runners.reset.emit(),this}clear(){this.renderTexture.bind(),this.renderTexture.clear()}destroy(e=!1){this.runners.destroy.items.reverse(),this.emitWithCustomOptions(this.runners.destroy,{_view:e}),super.destroy()}get plugins(){return this._plugin.plugins}get multisample(){return this._multisample.multisample}get width(){return this._view.element.width}get height(){return this._view.element.height}get resolution(){return this._view.resolution}set resolution(e){this._view.resolution=e,this.runners.resolutionChange.emit(e)}get autoDensity(){return this._view.autoDensity}get view(){return this._view.element}get screen(){return this._view.screen}get lastObjectRendered(){return this.objectRenderer.lastObjectRendered}get renderingToScreen(){return this.objectRenderer.renderingToScreen}get rendererLogId(){return`WebGL ${this.context.webGLVersion}`}get clearBeforeRender(){return mt("7.0.0","renderer.clearBeforeRender has been deprecated, please use renderer.background.clearBeforeRender instead."),this.background.clearBeforeRender}get useContextAlpha(){return mt("7.0.0","renderer.useContextAlpha has been deprecated, please use renderer.context.premultipliedAlpha instead."),this.context.useContextAlpha}get preserveDrawingBuffer(){return mt("7.0.0","renderer.preserveDrawingBuffer has been deprecated, we cannot truly know this unless pixi created the context"),this.context.preserveDrawingBuffer}get backgroundColor(){return mt("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color}set backgroundColor(e){mt("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color=e}get backgroundAlpha(){return mt("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha}set backgroundAlpha(e){mt("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha=e}get powerPreference(){return mt("7.0.0","renderer.powerPreference has been deprecated, we can only know this if pixi creates the context"),this.context.powerPreference}generateTexture(e,t){return this.textureGenerator.generateTexture(e,t)}};Ym.extension={type:Ne.Renderer,priority:1},Ym.__plugins={},Ym.__systems={};let Px=Ym;qe.handleByMap(Ne.RendererPlugin,Px.__plugins);qe.handleByMap(Ne.RendererSystem,Px.__systems);qe.add(Px);class WA extends Xf{constructor(e,t){const{width:n,height:i}=t||{};super(n,i),this.items=[],this.itemDirtyIds=[];for(let s=0;s<e;s++){const a=new lt;this.items.push(a),this.itemDirtyIds.push(-2)}this.length=e,this._load=null,this.baseTexture=null}initFromArray(e,t){for(let n=0;n<this.length;n++)e[n]&&(e[n].castToBaseTexture?this.addBaseTextureAt(e[n].castToBaseTexture(),n):e[n]instanceof Xf?this.addResourceAt(e[n],n):this.addResourceAt(cA(e[n],t),n))}dispose(){for(let e=0,t=this.length;e<t;e++)this.items[e].destroy();this.items=null,this.itemDirtyIds=null,this._load=null}addResourceAt(e,t){if(!this.items[t])throw new Error(`Index ${t} is out of bounds`);return e.valid&&!this.valid&&this.resize(e.width,e.height),this.items[t].setResource(e),this}bind(e){if(this.baseTexture!==null)throw new Error("Only one base texture per TextureArray is allowed");super.bind(e);for(let t=0;t<this.length;t++)this.items[t].parentTextureArray=e,this.items[t].on("update",e.update,e)}unbind(e){super.unbind(e);for(let t=0;t<this.length;t++)this.items[t].parentTextureArray=null,this.items[t].off("update",e.update,e)}load(){if(this._load)return this._load;const e=this.items.map(t=>t.resource).filter(t=>t).map(t=>t.load());return this._load=Promise.all(e).then(()=>{const{realWidth:t,realHeight:n}=this.items[0];return this.resize(t,n),this.update(),Promise.resolve(this)}),this._load}}class QD extends WA{constructor(e,t){const{width:n,height:i}=t||{};let s,a;Array.isArray(e)?(s=e,a=e.length):a=e,super(a,{width:n,height:i}),s&&this.initFromArray(s,t)}addBaseTextureAt(e,t){if(e.resource)this.addResourceAt(e.resource,t);else throw new Error("ArrayResource does not support RenderTexture");return this}bind(e){super.bind(e),e.target=zc.TEXTURE_2D_ARRAY}upload(e,t,n){const{length:i,itemDirtyIds:s,items:a}=this,{gl:u}=e;n.dirtyId<0&&u.texImage3D(u.TEXTURE_2D_ARRAY,0,n.internalFormat,this._width,this._height,i,0,t.format,n.type,null);for(let c=0;c<i;c++){const f=a[c];s[c]<f.dirtyId&&(s[c]=f.dirtyId,f.valid&&u.texSubImage3D(u.TEXTURE_2D_ARRAY,0,0,0,c,f.resource.width,f.resource.height,1,t.format,n.type,f.resource.source))}return!0}}class ZD extends va{constructor(e){super(e)}static test(e){const{OffscreenCanvas:t}=globalThis;return t&&e instanceof t?!0:globalThis.HTMLCanvasElement&&e instanceof HTMLCanvasElement}}const XA=class Af extends WA{constructor(e,t){const{width:n,height:i,autoLoad:s,linkBaseTexture:a}=t||{};if(e&&e.length!==Af.SIDES)throw new Error(`Invalid length. Got ${e.length}, expected 6`);super(6,{width:n,height:i});for(let u=0;u<Af.SIDES;u++)this.items[u].target=zc.TEXTURE_CUBE_MAP_POSITIVE_X+u;this.linkBaseTexture=a!==!1,e&&this.initFromArray(e,t),s!==!1&&this.load()}bind(e){super.bind(e),e.target=zc.TEXTURE_CUBE_MAP}addBaseTextureAt(e,t,n){if(n===void 0&&(n=this.linkBaseTexture),!this.items[t])throw new Error(`Index ${t} is out of bounds`);if(!this.linkBaseTexture||e.parentTextureArray||Object.keys(e._glTextures).length>0)if(e.resource)this.addResourceAt(e.resource,t);else throw new Error("CubeResource does not support copying of renderTexture.");else e.target=zc.TEXTURE_CUBE_MAP_POSITIVE_X+t,e.parentTextureArray=this.baseTexture,this.items[t]=e;return e.valid&&!this.valid&&this.resize(e.realWidth,e.realHeight),this.items[t]=e,this}upload(e,t,n){const i=this.itemDirtyIds;for(let s=0;s<Af.SIDES;s++){const a=this.items[s];(i[s]<a.dirtyId||n.dirtyId<t.dirtyId)&&(a.valid&&a.resource?(a.resource.upload(e,a,n),i[s]=a.dirtyId):i[s]<-1&&(e.gl.texImage2D(a.target,0,n.internalFormat,t.realWidth,t.realHeight,0,t.format,n.type,null),i[s]=-1))}return!0}static test(e){return Array.isArray(e)&&e.length===Af.SIDES}};XA.SIDES=6;let JD=XA;class kc extends va{constructor(e,t){t=t||{};let n,i,s;typeof e=="string"?(n=kc.EMPTY,i=e,s=!0):(n=e,i=null,s=!1),super(n),this.url=i,this.crossOrigin=t.crossOrigin??!0,this.alphaMode=typeof t.alphaMode=="number"?t.alphaMode:null,this.ownsImageBitmap=t.ownsImageBitmap??s,this._load=null,t.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(async(e,t)=>{if(this.url===null){e(this);return}try{const n=await Ue.ADAPTER.fetch(this.url,{mode:this.crossOrigin?"cors":"no-cors"});if(this.destroyed)return;const i=await n.blob();if(this.destroyed)return;const s=await createImageBitmap(i,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===li.UNPACK?"premultiply":"none"});if(this.destroyed){s.close();return}this.source=s,this.update(),e(this)}catch(n){if(this.destroyed)return;t(n),this.onError.emit(n)}}),this._load)}upload(e,t,n){return this.source instanceof ImageBitmap?(typeof this.alphaMode=="number"&&(t.alphaMode=this.alphaMode),super.upload(e,t,n)):(this.load(),!1)}dispose(){this.ownsImageBitmap&&this.source instanceof ImageBitmap&&this.source.close(),super.dispose(),this._load=null}static test(e){return!!globalThis.createImageBitmap&&typeof ImageBitmap<"u"&&(typeof e=="string"||e instanceof ImageBitmap)}static get EMPTY(){return kc._EMPTY=kc._EMPTY??Ue.ADAPTER.createCanvas(0,0),kc._EMPTY}}const c_=class qm extends va{constructor(e,t){t=t||{},super(Ue.ADAPTER.createCanvas()),this._width=0,this._height=0,this.svg=e,this.scale=t.scale||1,this._overrideWidth=t.width,this._overrideHeight=t.height,this._resolve=null,this._crossorigin=t.crossorigin,this._load=null,t.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(e=>{if(this._resolve=()=>{this.update(),e(this)},qm.SVG_XML.test(this.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");this.svg=`data:image/svg+xml;base64,${btoa(unescape(encodeURIComponent(this.svg)))}`}this._loadSvg()}),this._load)}_loadSvg(){const e=new Image;va.crossOrigin(e,this.svg,this._crossorigin),e.src=this.svg,e.onerror=t=>{this._resolve&&(e.onerror=null,this.onError.emit(t))},e.onload=()=>{if(!this._resolve)return;const t=e.width,n=e.height;if(!t||!n)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");let i=t*this.scale,s=n*this.scale;(this._overrideWidth||this._overrideHeight)&&(i=this._overrideWidth||this._overrideHeight/n*t,s=this._overrideHeight||this._overrideWidth/t*n),i=Math.round(i),s=Math.round(s);const a=this.source;a.width=i,a.height=s,a._pixiId=`canvas_${gh()}`,a.getContext("2d").drawImage(e,0,0,t,n,0,0,i,s),this._resolve(),this._resolve=null}}static getSize(e){const t=qm.SVG_SIZE.exec(e),n={};return t&&(n[t[1]]=Math.round(parseFloat(t[3])),n[t[5]]=Math.round(parseFloat(t[7]))),n}dispose(){super.dispose(),this._resolve=null,this._crossorigin=null}static test(e,t){return t==="svg"||typeof e=="string"&&e.startsWith("data:image/svg+xml")||typeof e=="string"&&qm.SVG_XML.test(e)}};c_.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m,c_.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i;let d_=c_;class eO extends va{constructor(e){super(e)}static test(e){return!!globalThis.VideoFrame&&e instanceof globalThis.VideoFrame}}const f_=class p_ extends va{constructor(e,t){if(t=t||{},!(e instanceof HTMLVideoElement)){const n=document.createElement("video");t.autoLoad!==!1&&n.setAttribute("preload","auto"),t.playsinline!==!1&&(n.setAttribute("webkit-playsinline",""),n.setAttribute("playsinline","")),t.muted===!0&&(n.setAttribute("muted",""),n.muted=!0),t.loop===!0&&n.setAttribute("loop",""),t.autoPlay!==!1&&n.setAttribute("autoplay",""),typeof e=="string"&&(e=[e]);const i=e[0].src||e[0];va.crossOrigin(n,i,t.crossorigin);for(let s=0;s<e.length;++s){const a=document.createElement("source");let{src:u,mime:c}=e[s];if(u=u||e[s],u.startsWith("data:"))c=u.slice(5,u.indexOf(";"));else if(!u.startsWith("blob:")){const f=u.split("?").shift().toLowerCase(),m=f.slice(f.lastIndexOf(".")+1);c=c||p_.MIME_TYPES[m]||`video/${m}`}a.src=u,c&&(a.type=c),n.appendChild(a)}e=n}super(e),this.noSubImage=!0,this._autoUpdate=!0,this._isConnectedToTicker=!1,this._updateFPS=t.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=t.autoPlay!==!1,this._videoFrameRequestCallback=this._videoFrameRequestCallback.bind(this),this._videoFrameRequestCallbackHandle=null,this._load=null,this._resolve=null,this._reject=null,this._onCanPlay=this._onCanPlay.bind(this),this._onError=this._onError.bind(this),this._onPlayStart=this._onPlayStart.bind(this),this._onPlayStop=this._onPlayStop.bind(this),this._onSeeked=this._onSeeked.bind(this),t.autoLoad!==!1&&this.load()}update(e=0){if(!this.destroyed){if(this._updateFPS){const t=qr.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-t)}(!this._updateFPS||this._msToNextUpdate<=0)&&(super.update(),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}}_videoFrameRequestCallback(){this.update(),this.destroyed?this._videoFrameRequestCallbackHandle=null:this._videoFrameRequestCallbackHandle=this.source.requestVideoFrameCallback(this._videoFrameRequestCallback)}load(){if(this._load)return this._load;const e=this.source;return(e.readyState===e.HAVE_ENOUGH_DATA||e.readyState===e.HAVE_FUTURE_DATA)&&e.width&&e.height&&(e.complete=!0),e.addEventListener("play",this._onPlayStart),e.addEventListener("pause",this._onPlayStop),e.addEventListener("seeked",this._onSeeked),this._isSourceReady()?this._onCanPlay():(e.addEventListener("canplay",this._onCanPlay),e.addEventListener("canplaythrough",this._onCanPlay),e.addEventListener("error",this._onError,!0)),this._load=new Promise((t,n)=>{this.valid?t(this):(this._resolve=t,this._reject=n,e.load())}),this._load}_onError(e){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(e),this._reject&&(this._reject(e),this._reject=null,this._resolve=null)}_isSourcePlaying(){const e=this.source;return!e.paused&&!e.ended}_isSourceReady(){return this.source.readyState>2}_onPlayStart(){this.valid||this._onCanPlay(),this._configureAutoUpdate()}_onPlayStop(){this._configureAutoUpdate()}_onSeeked(){this._autoUpdate&&!this._isSourcePlaying()&&(this._msToNextUpdate=0,this.update(),this._msToNextUpdate=0)}_onCanPlay(){const e=this.source;e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlay);const t=this.valid;this._msToNextUpdate=0,this.update(),this._msToNextUpdate=0,!t&&this._resolve&&(this._resolve(this),this._resolve=null,this._reject=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&e.play()}dispose(){this._configureAutoUpdate();const e=this.source;e&&(e.removeEventListener("play",this._onPlayStart),e.removeEventListener("pause",this._onPlayStop),e.removeEventListener("seeked",this._onSeeked),e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlay),e.removeEventListener("error",this._onError,!0),e.pause(),e.src="",e.load()),super.dispose()}get autoUpdate(){return this._autoUpdate}set autoUpdate(e){e!==this._autoUpdate&&(this._autoUpdate=e,this._configureAutoUpdate())}get updateFPS(){return this._updateFPS}set updateFPS(e){e!==this._updateFPS&&(this._updateFPS=e,this._configureAutoUpdate())}_configureAutoUpdate(){this._autoUpdate&&this._isSourcePlaying()?!this._updateFPS&&this.source.requestVideoFrameCallback?(this._isConnectedToTicker&&(qr.shared.remove(this.update,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0),this._videoFrameRequestCallbackHandle===null&&(this._videoFrameRequestCallbackHandle=this.source.requestVideoFrameCallback(this._videoFrameRequestCallback))):(this._videoFrameRequestCallbackHandle!==null&&(this.source.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker||(qr.shared.add(this.update,this),this._isConnectedToTicker=!0,this._msToNextUpdate=0)):(this._videoFrameRequestCallbackHandle!==null&&(this.source.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker&&(qr.shared.remove(this.update,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0))}static test(e,t){return globalThis.HTMLVideoElement&&e instanceof HTMLVideoElement||p_.TYPES.includes(t)}};f_.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],f_.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"};let YA=f_;e_.push(kc,xA,ZD,YA,eO,d_,Gg,JD,QD);class pg{constructor(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}isEmpty(){return this.minX>this.maxX||this.minY>this.maxY}clear(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0}getRectangle(e){return this.minX>this.maxX||this.minY>this.maxY?ht.EMPTY:(e=e||new ht(0,0,1,1),e.x=this.minX,e.y=this.minY,e.width=this.maxX-this.minX,e.height=this.maxY-this.minY,e)}addPoint(e){this.minX=Math.min(this.minX,e.x),this.maxX=Math.max(this.maxX,e.x),this.minY=Math.min(this.minY,e.y),this.maxY=Math.max(this.maxY,e.y)}addPointMatrix(e,t){const{a:n,b:i,c:s,d:a,tx:u,ty:c}=e,f=n*t.x+s*t.y+u,m=i*t.x+a*t.y+c;this.minX=Math.min(this.minX,f),this.maxX=Math.max(this.maxX,f),this.minY=Math.min(this.minY,m),this.maxY=Math.max(this.maxY,m)}addQuad(e){let t=this.minX,n=this.minY,i=this.maxX,s=this.maxY,a=e[0],u=e[1];t=a<t?a:t,n=u<n?u:n,i=a>i?a:i,s=u>s?u:s,a=e[2],u=e[3],t=a<t?a:t,n=u<n?u:n,i=a>i?a:i,s=u>s?u:s,a=e[4],u=e[5],t=a<t?a:t,n=u<n?u:n,i=a>i?a:i,s=u>s?u:s,a=e[6],u=e[7],t=a<t?a:t,n=u<n?u:n,i=a>i?a:i,s=u>s?u:s,this.minX=t,this.minY=n,this.maxX=i,this.maxY=s}addFrame(e,t,n,i,s){this.addFrameMatrix(e.worldTransform,t,n,i,s)}addFrameMatrix(e,t,n,i,s){const a=e.a,u=e.b,c=e.c,f=e.d,m=e.tx,g=e.ty;let v=this.minX,x=this.minY,S=this.maxX,b=this.maxY,E=a*t+c*n+m,P=u*t+f*n+g;v=E<v?E:v,x=P<x?P:x,S=E>S?E:S,b=P>b?P:b,E=a*i+c*n+m,P=u*i+f*n+g,v=E<v?E:v,x=P<x?P:x,S=E>S?E:S,b=P>b?P:b,E=a*t+c*s+m,P=u*t+f*s+g,v=E<v?E:v,x=P<x?P:x,S=E>S?E:S,b=P>b?P:b,E=a*i+c*s+m,P=u*i+f*s+g,v=E<v?E:v,x=P<x?P:x,S=E>S?E:S,b=P>b?P:b,this.minX=v,this.minY=x,this.maxX=S,this.maxY=b}addVertexData(e,t,n){let i=this.minX,s=this.minY,a=this.maxX,u=this.maxY;for(let c=t;c<n;c+=2){const f=e[c],m=e[c+1];i=f<i?f:i,s=m<s?m:s,a=f>a?f:a,u=m>u?m:u}this.minX=i,this.minY=s,this.maxX=a,this.maxY=u}addVertices(e,t,n,i){this.addVerticesMatrix(e.worldTransform,t,n,i)}addVerticesMatrix(e,t,n,i,s=0,a=s){const u=e.a,c=e.b,f=e.c,m=e.d,g=e.tx,v=e.ty;let x=this.minX,S=this.minY,b=this.maxX,E=this.maxY;for(let P=n;P<i;P+=2){const k=t[P],R=t[P+1],L=u*k+f*R+g,D=m*R+c*k+v;x=Math.min(x,L-s),b=Math.max(b,L+s),S=Math.min(S,D-a),E=Math.max(E,D+a)}this.minX=x,this.minY=S,this.maxX=b,this.maxY=E}addBounds(e){const t=this.minX,n=this.minY,i=this.maxX,s=this.maxY;this.minX=e.minX<t?e.minX:t,this.minY=e.minY<n?e.minY:n,this.maxX=e.maxX>i?e.maxX:i,this.maxY=e.maxY>s?e.maxY:s}addBoundsMask(e,t){const n=e.minX>t.minX?e.minX:t.minX,i=e.minY>t.minY?e.minY:t.minY,s=e.maxX<t.maxX?e.maxX:t.maxX,a=e.maxY<t.maxY?e.maxY:t.maxY;if(n<=s&&i<=a){const u=this.minX,c=this.minY,f=this.maxX,m=this.maxY;this.minX=n<u?n:u,this.minY=i<c?i:c,this.maxX=s>f?s:f,this.maxY=a>m?a:m}}addBoundsMatrix(e,t){this.addFrameMatrix(t,e.minX,e.minY,e.maxX,e.maxY)}addBoundsArea(e,t){const n=e.minX>t.x?e.minX:t.x,i=e.minY>t.y?e.minY:t.y,s=e.maxX<t.x+t.width?e.maxX:t.x+t.width,a=e.maxY<t.y+t.height?e.maxY:t.y+t.height;if(n<=s&&i<=a){const u=this.minX,c=this.minY,f=this.maxX,m=this.maxY;this.minX=n<u?n:u,this.minY=i<c?i:c,this.maxX=s>f?s:f,this.maxY=a>m?a:m}}pad(e=0,t=e){this.isEmpty()||(this.minX-=e,this.maxX+=e,this.minY-=t,this.maxY+=t)}addFramePad(e,t,n,i,s,a){e-=s,t-=a,n+=s,i+=a,this.minX=this.minX<e?this.minX:e,this.maxX=this.maxX>n?this.maxX:n,this.minY=this.minY<t?this.minY:t,this.maxY=this.maxY>i?this.maxY:i}}class Zt extends gp{constructor(){super(),this.tempDisplayObjectParent=null,this.transform=new Wg,this.alpha=1,this.visible=!0,this.renderable=!0,this.cullable=!1,this.cullArea=null,this.parent=null,this.worldAlpha=1,this._lastSortedIndex=0,this._zIndex=0,this.filterArea=null,this.filters=null,this._enabledFilters=null,this._bounds=new pg,this._localBounds=null,this._boundsID=0,this._boundsRect=null,this._localBoundsRect=null,this._mask=null,this._maskRefCount=0,this._destroyed=!1,this.isSprite=!1,this.isMask=!1}static mixin(e){const t=Object.keys(e);for(let n=0;n<t.length;++n){const i=t[n];Object.defineProperty(Zt.prototype,i,Object.getOwnPropertyDescriptor(e,i))}}get destroyed(){return this._destroyed}_recursivePostUpdateTransform(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)}updateTransform(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha}getBounds(e,t){return e||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),t||(this._boundsRect||(this._boundsRect=new ht),t=this._boundsRect),this._bounds.getRectangle(t)}getLocalBounds(e){e||(this._localBoundsRect||(this._localBoundsRect=new ht),e=this._localBoundsRect),this._localBounds||(this._localBounds=new pg);const t=this.transform,n=this.parent;this.parent=null,this._tempDisplayObjectParent.worldAlpha=(n==null?void 0:n.worldAlpha)??1,this.transform=this._tempDisplayObjectParent.transform;const i=this._bounds,s=this._boundsID;this._bounds=this._localBounds;const a=this.getBounds(!1,e);return this.parent=n,this.transform=t,this._bounds=i,this._bounds.updateID+=this._boundsID-s,a}toGlobal(e,t,n=!1){return n||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(e,t)}toLocal(e,t,n,i){return t&&(e=t.toGlobal(e,n,i)),i||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(e,n)}setParent(e){if(!e||!e.addChild)throw new Error("setParent: Argument must be a Container");return e.addChild(this),e}removeFromParent(){var e;(e=this.parent)==null||e.removeChild(this)}setTransform(e=0,t=0,n=1,i=1,s=0,a=0,u=0,c=0,f=0){return this.position.x=e,this.position.y=t,this.scale.x=n||1,this.scale.y=i||1,this.rotation=s,this.skew.x=a,this.skew.y=u,this.pivot.x=c,this.pivot.y=f,this}destroy(e){this.removeFromParent(),this._destroyed=!0,this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.cullArea=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.eventMode="auto",this.interactiveChildren=!1,this.emit("destroyed"),this.removeAllListeners()}get _tempDisplayObjectParent(){return this.tempDisplayObjectParent===null&&(this.tempDisplayObjectParent=new tO),this.tempDisplayObjectParent}enableTempParent(){const e=this.parent;return this.parent=this._tempDisplayObjectParent,e}disableTempParent(e){this.parent=e}get x(){return this.position.x}set x(e){this.transform.position.x=e}get y(){return this.position.y}set y(e){this.transform.position.y=e}get worldTransform(){return this.transform.worldTransform}get localTransform(){return this.transform.localTransform}get position(){return this.transform.position}set position(e){this.transform.position.copyFrom(e)}get scale(){return this.transform.scale}set scale(e){this.transform.scale.copyFrom(e)}get pivot(){return this.transform.pivot}set pivot(e){this.transform.pivot.copyFrom(e)}get skew(){return this.transform.skew}set skew(e){this.transform.skew.copyFrom(e)}get rotation(){return this.transform.rotation}set rotation(e){this.transform.rotation=e}get angle(){return this.transform.rotation*X2}set angle(e){this.transform.rotation=e*Y2}get zIndex(){return this._zIndex}set zIndex(e){this._zIndex!==e&&(this._zIndex=e,this.parent&&(this.parent.sortDirty=!0))}get worldVisible(){let e=this;do{if(!e.visible)return!1;e=e.parent}while(e);return!0}get mask(){return this._mask}set mask(e){if(this._mask!==e){if(this._mask){const t=this._mask.isMaskData?this._mask.maskObject:this._mask;t&&(t._maskRefCount--,t._maskRefCount===0&&(t.renderable=!0,t.isMask=!1))}if(this._mask=e,this._mask){const t=this._mask.isMaskData?this._mask.maskObject:this._mask;t&&(t._maskRefCount===0&&(t.renderable=!1,t.isMask=!0),t._maskRefCount++)}}}}class tO extends Zt{constructor(){super(...arguments),this.sortDirty=null}}Zt.prototype.displayObjectUpdateTransform=Zt.prototype.updateTransform;const rO=new Wt;function nO(r,e){return r.zIndex===e.zIndex?r._lastSortedIndex-e._lastSortedIndex:r.zIndex-e.zIndex}const qA=class m_ extends Zt{constructor(){super(),this.children=[],this.sortableChildren=m_.defaultSortableChildren,this.sortDirty=!1}onChildrenChange(e){}addChild(...e){if(e.length>1)for(let t=0;t<e.length;t++)this.addChild(e[t]);else{const t=e[0];t.parent&&t.parent.removeChild(t),t.parent=this,this.sortDirty=!0,t.transform._parentID=-1,this.children.push(t),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",t,this,this.children.length-1),t.emit("added",this)}return e[0]}addChildAt(e,t){if(t<0||t>this.children.length)throw new Error(`${e}addChildAt: The index ${t} supplied is out of bounds ${this.children.length}`);return e.parent&&e.parent.removeChild(e),e.parent=this,this.sortDirty=!0,e.transform._parentID=-1,this.children.splice(t,0,e),this._boundsID++,this.onChildrenChange(t),e.emit("added",this),this.emit("childAdded",e,this,t),e}swapChildren(e,t){if(e===t)return;const n=this.getChildIndex(e),i=this.getChildIndex(t);this.children[n]=t,this.children[i]=e,this.onChildrenChange(n<i?n:i)}getChildIndex(e){const t=this.children.indexOf(e);if(t===-1)throw new Error("The supplied DisplayObject must be a child of the caller");return t}setChildIndex(e,t){if(t<0||t>=this.children.length)throw new Error(`The index ${t} supplied is out of bounds ${this.children.length}`);const n=this.getChildIndex(e);Vc(this.children,n,1),this.children.splice(t,0,e),this.onChildrenChange(t)}getChildAt(e){if(e<0||e>=this.children.length)throw new Error(`getChildAt: Index (${e}) does not exist.`);return this.children[e]}removeChild(...e){if(e.length>1)for(let t=0;t<e.length;t++)this.removeChild(e[t]);else{const t=e[0],n=this.children.indexOf(t);if(n===-1)return null;t.parent=null,t.transform._parentID=-1,Vc(this.children,n,1),this._boundsID++,this.onChildrenChange(n),t.emit("removed",this),this.emit("childRemoved",t,this,n)}return e[0]}removeChildAt(e){const t=this.getChildAt(e);return t.parent=null,t.transform._parentID=-1,Vc(this.children,e,1),this._boundsID++,this.onChildrenChange(e),t.emit("removed",this),this.emit("childRemoved",t,this,e),t}removeChildren(e=0,t=this.children.length){const n=e,i=t,s=i-n;let a;if(s>0&&s<=i){a=this.children.splice(n,s);for(let u=0;u<a.length;++u)a[u].parent=null,a[u].transform&&(a[u].transform._parentID=-1);this._boundsID++,this.onChildrenChange(e);for(let u=0;u<a.length;++u)a[u].emit("removed",this),this.emit("childRemoved",a[u],this,u);return a}else if(s===0&&this.children.length===0)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")}sortChildren(){let e=!1;for(let t=0,n=this.children.length;t<n;++t){const i=this.children[t];i._lastSortedIndex=t,!e&&i.zIndex!==0&&(e=!0)}e&&this.children.length>1&&this.children.sort(nO),this.sortDirty=!1}updateTransform(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(let e=0,t=this.children.length;e<t;++e){const n=this.children[e];n.visible&&n.updateTransform()}}calculateBounds(){this._bounds.clear(),this._calculateBounds();for(let e=0;e<this.children.length;e++){const t=this.children[e];if(!(!t.visible||!t.renderable))if(t.calculateBounds(),t._mask){const n=t._mask.isMaskData?t._mask.maskObject:t._mask;n?(n.calculateBounds(),this._bounds.addBoundsMask(t._bounds,n._bounds)):this._bounds.addBounds(t._bounds)}else t.filterArea?this._bounds.addBoundsArea(t._bounds,t.filterArea):this._bounds.addBounds(t._bounds)}this._bounds.updateID=this._boundsID}getLocalBounds(e,t=!1){const n=super.getLocalBounds(e);if(!t)for(let i=0,s=this.children.length;i<s;++i){const a=this.children[i];a.visible&&a.updateTransform()}return n}_calculateBounds(){}_renderWithCulling(e){const t=e.renderTexture.sourceFrame;if(!(t.width>0&&t.height>0))return;let n,i;this.cullArea?(n=this.cullArea,i=this.worldTransform):this._render!==m_.prototype._render&&(n=this.getBounds(!0));const s=e.projection.transform;if(s&&(i?(i=rO.copyFrom(i),i.prepend(s)):i=s),n&&t.intersects(n,i))this._render(e);else if(this.cullArea)return;for(let a=0,u=this.children.length;a<u;++a){const c=this.children[a],f=c.cullable;c.cullable=f||!this.cullArea,c.render(e),c.cullable=f}}render(e){var t;if(!(!this.visible||this.worldAlpha<=0||!this.renderable))if(this._mask||(t=this.filters)!=null&&t.length)this.renderAdvanced(e);else if(this.cullable)this._renderWithCulling(e);else{this._render(e);for(let n=0,i=this.children.length;n<i;++n)this.children[n].render(e)}}renderAdvanced(e){var s,a,u;const t=this.filters,n=this._mask;if(t){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(let c=0;c<t.length;c++)t[c].enabled&&this._enabledFilters.push(t[c])}const i=t&&((s=this._enabledFilters)==null?void 0:s.length)||n&&(!n.isMaskData||n.enabled&&(n.autoDetect||n.type!==Ur.NONE));if(i&&e.batch.flush(),t&&((a=this._enabledFilters)!=null&&a.length)&&e.filter.push(this,this._enabledFilters),n&&e.mask.push(this,this._mask),this.cullable)this._renderWithCulling(e);else{this._render(e);for(let c=0,f=this.children.length;c<f;++c)this.children[c].render(e)}i&&e.batch.flush(),n&&e.mask.pop(this),t&&((u=this._enabledFilters)!=null&&u.length)&&e.filter.pop()}_render(e){}destroy(e){super.destroy(),this.sortDirty=!1;const t=typeof e=="boolean"?e:e==null?void 0:e.children,n=this.removeChildren(0,this.children.length);if(t)for(let i=0;i<n.length;++i)n[i].destroy(e)}get width(){return this.scale.x*this.getLocalBounds().width}set width(e){const t=this.getLocalBounds().width;t!==0?this.scale.x=e/t:this.scale.x=1,this._width=e}get height(){return this.scale.y*this.getLocalBounds().height}set height(e){const t=this.getLocalBounds().height;t!==0?this.scale.y=e/t:this.scale.y=1,this._height=e}};qA.defaultSortableChildren=!1;let Un=qA;Un.prototype.containerUpdateTransform=Un.prototype.updateTransform;Object.defineProperties(Ue,{SORTABLE_CHILDREN:{get(){return Un.defaultSortableChildren},set(r){mt("7.1.0","settings.SORTABLE_CHILDREN is deprecated, use Container.defaultSortableChildren"),Un.defaultSortableChildren=r}}});const yf=new gt,iO=new Uint16Array([0,1,2,0,2,3]);class Do extends Un{constructor(e){super(),this._anchor=new _o(this._onAnchorUpdate,this,e?e.defaultAnchor.x:0,e?e.defaultAnchor.y:0),this._texture=null,this._width=0,this._height=0,this._tintColor=new Ht(16777215),this._tintRGB=null,this.tint=16777215,this.blendMode=rt.NORMAL,this._cachedTint=16777215,this.uvs=null,this.texture=e||Oe.EMPTY,this.vertexData=new Float32Array(8),this.vertexTrimmedData=null,this._transformID=-1,this._textureID=-1,this._transformTrimmedID=-1,this._textureTrimmedID=-1,this.indices=iO,this.pluginName="batch",this.isSprite=!0,this._roundPixels=Ue.ROUND_PIXELS}_onTextureUpdate(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=Al(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=Al(this.scale.y)*this._height/this._texture.orig.height)}_onAnchorUpdate(){this._transformID=-1,this._transformTrimmedID=-1}calculateVertices(){const e=this._texture;if(this._transformID===this.transform._worldID&&this._textureID===e._updateID)return;this._textureID!==e._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=e._updateID;const t=this.transform.worldTransform,n=t.a,i=t.b,s=t.c,a=t.d,u=t.tx,c=t.ty,f=this.vertexData,m=e.trim,g=e.orig,v=this._anchor;let x=0,S=0,b=0,E=0;if(m?(S=m.x-v._x*g.width,x=S+m.width,E=m.y-v._y*g.height,b=E+m.height):(S=-v._x*g.width,x=S+g.width,E=-v._y*g.height,b=E+g.height),f[0]=n*S+s*E+u,f[1]=a*E+i*S+c,f[2]=n*x+s*E+u,f[3]=a*E+i*x+c,f[4]=n*x+s*b+u,f[5]=a*b+i*x+c,f[6]=n*S+s*b+u,f[7]=a*b+i*S+c,this._roundPixels){const P=Ue.RESOLUTION;for(let k=0;k<f.length;++k)f[k]=Math.round(f[k]*P)/P}}calculateTrimmedVertices(){if(!this.vertexTrimmedData)this.vertexTrimmedData=new Float32Array(8);else if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return;this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;const e=this._texture,t=this.vertexTrimmedData,n=e.orig,i=this._anchor,s=this.transform.worldTransform,a=s.a,u=s.b,c=s.c,f=s.d,m=s.tx,g=s.ty,v=-i._x*n.width,x=v+n.width,S=-i._y*n.height,b=S+n.height;if(t[0]=a*v+c*S+m,t[1]=f*S+u*v+g,t[2]=a*x+c*S+m,t[3]=f*S+u*x+g,t[4]=a*x+c*b+m,t[5]=f*b+u*x+g,t[6]=a*v+c*b+m,t[7]=f*b+u*v+g,this._roundPixels){const E=Ue.RESOLUTION;for(let P=0;P<t.length;++P)t[P]=Math.round(t[P]*E)/E}}_render(e){this.calculateVertices(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this)}_calculateBounds(){const e=this._texture.trim,t=this._texture.orig;!e||e.width===t.width&&e.height===t.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))}getLocalBounds(e){return this.children.length===0?(this._localBounds||(this._localBounds=new pg),this._localBounds.minX=this._texture.orig.width*-this._anchor._x,this._localBounds.minY=this._texture.orig.height*-this._anchor._y,this._localBounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._localBounds.maxY=this._texture.orig.height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new ht),e=this._localBoundsRect),this._localBounds.getRectangle(e)):super.getLocalBounds.call(this,e)}containsPoint(e){this.worldTransform.applyInverse(e,yf);const t=this._texture.orig.width,n=this._texture.orig.height,i=-t*this.anchor.x;let s=0;return yf.x>=i&&yf.x<i+t&&(s=-n*this.anchor.y,yf.y>=s&&yf.y<s+n)}destroy(e){if(super.destroy(e),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,typeof e=="boolean"?e:e==null?void 0:e.texture){const t=typeof e=="boolean"?e:e==null?void 0:e.baseTexture;this._texture.destroy(!!t)}this._texture=null}static from(e,t){const n=e instanceof Oe?e:Oe.from(e,t);return new Do(n)}set roundPixels(e){this._roundPixels!==e&&(this._transformID=-1,this._transformTrimmedID=-1),this._roundPixels=e}get roundPixels(){return this._roundPixels}get width(){return Math.abs(this.scale.x)*this._texture.orig.width}set width(e){const t=Al(this.scale.x)||1;this.scale.x=t*e/this._texture.orig.width,this._width=e}get height(){return Math.abs(this.scale.y)*this._texture.orig.height}set height(e){const t=Al(this.scale.y)||1;this.scale.y=t*e/this._texture.orig.height,this._height=e}get anchor(){return this._anchor}set anchor(e){this._anchor.copyFrom(e)}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e),this._tintRGB=this._tintColor.toLittleEndianNumber()}get tintValue(){return this._tintColor.toNumber()}get texture(){return this._texture}set texture(e){this._texture!==e&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=e||Oe.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,e&&(e.baseTexture.valid?this._onTextureUpdate():e.once("update",this._onTextureUpdate,this)))}}const KA=new Wt;Zt.prototype._cacheAsBitmap=!1;Zt.prototype._cacheData=null;Zt.prototype._cacheAsBitmapResolution=null;Zt.prototype._cacheAsBitmapMultisample=null;class sO{constructor(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null}}Object.defineProperties(Zt.prototype,{cacheAsBitmapResolution:{get(){return this._cacheAsBitmapResolution},set(r){r!==this._cacheAsBitmapResolution&&(this._cacheAsBitmapResolution=r,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmapMultisample:{get(){return this._cacheAsBitmapMultisample},set(r){r!==this._cacheAsBitmapMultisample&&(this._cacheAsBitmapMultisample=r,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmap:{get(){return this._cacheAsBitmap},set(r){if(this._cacheAsBitmap===r)return;this._cacheAsBitmap=r;let e;r?(this._cacheData||(this._cacheData=new sO),e=this._cacheData,e.originalRender=this.render,e.originalRenderCanvas=this.renderCanvas,e.originalUpdateTransform=this.updateTransform,e.originalCalculateBounds=this.calculateBounds,e.originalGetLocalBounds=this.getLocalBounds,e.originalDestroy=this.destroy,e.originalContainsPoint=this.containsPoint,e.originalMask=this._mask,e.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(e=this._cacheData,e.sprite&&this._destroyCachedDisplayObject(),this.render=e.originalRender,this.renderCanvas=e.originalRenderCanvas,this.calculateBounds=e.originalCalculateBounds,this.getLocalBounds=e.originalGetLocalBounds,this.destroy=e.originalDestroy,this.updateTransform=e.originalUpdateTransform,this.containsPoint=e.originalContainsPoint,this._mask=e.originalMask,this.filterArea=e.originalFilterArea)}}});Zt.prototype._renderCached=function(r){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(r),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(r))};Zt.prototype._initCachedDisplayObject=function(r){var v,x;if((v=this._cacheData)!=null&&v.sprite)return;const e=this.alpha;this.alpha=1,r.batch.flush();const t=this.getLocalBounds(new ht,!0);if((x=this.filters)!=null&&x.length){const S=this.filters[0].padding;t.pad(S)}const n=this.cacheAsBitmapResolution||r.resolution;t.ceil(n),t.width=Math.max(t.width,1/n),t.height=Math.max(t.height,1/n);const i=r.renderTexture.current,s=r.renderTexture.sourceFrame.clone(),a=r.renderTexture.destinationFrame.clone(),u=r.projection.transform,c=xh.create({width:t.width,height:t.height,resolution:n,multisample:this.cacheAsBitmapMultisample??r.multisample}),f=`cacheAsBitmap_${gh()}`;this._cacheData.textureCacheId=f,lt.addToCache(c.baseTexture,f),Oe.addToCache(c,f);const m=this.transform.localTransform.copyTo(KA).invert().translate(-t.x,-t.y);this.render=this._cacheData.originalRender,r.render(this,{renderTexture:c,clear:!0,transform:m,skipUpdateTransform:!1}),r.framebuffer.blit(),r.projection.transform=u,r.renderTexture.bind(i,s,a),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=e;const g=new Do(c);g.transform.worldTransform=this.transform.worldTransform,g.anchor.x=-(t.x/t.width),g.anchor.y=-(t.y/t.height),g.alpha=e,g._bounds=this._bounds,this._cacheData.sprite=g,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=g.containsPoint.bind(g)};Zt.prototype._renderCachedCanvas=function(r){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(r),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(r))};Zt.prototype._initCachedDisplayObjectCanvas=function(r){var m;if((m=this._cacheData)!=null&&m.sprite)return;const e=this.getLocalBounds(new ht,!0),t=this.alpha;this.alpha=1;const n=r.canvasContext.activeContext,i=r._projTransform,s=this.cacheAsBitmapResolution||r.resolution;e.ceil(s),e.width=Math.max(e.width,1/s),e.height=Math.max(e.height,1/s);const a=xh.create({width:e.width,height:e.height,resolution:s}),u=`cacheAsBitmap_${gh()}`;this._cacheData.textureCacheId=u,lt.addToCache(a.baseTexture,u),Oe.addToCache(a,u);const c=KA;this.transform.localTransform.copyTo(c),c.invert(),c.tx-=e.x,c.ty-=e.y,this.renderCanvas=this._cacheData.originalRenderCanvas,r.render(this,{renderTexture:a,clear:!0,transform:c,skipUpdateTransform:!1}),r.canvasContext.activeContext=n,r._projTransform=i,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=t;const f=new Do(a);f.transform.worldTransform=this.transform.worldTransform,f.anchor.x=-(e.x/e.width),f.anchor.y=-(e.y/e.height),f.alpha=t,f._bounds=this._bounds,this._cacheData.sprite=f,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=r._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=f.containsPoint.bind(f)};Zt.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID};Zt.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)};Zt.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,lt.removeFromCache(this._cacheData.textureCacheId),Oe.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null};Zt.prototype._cacheAsBitmapDestroy=function(r){this.cacheAsBitmap=!1,this.destroy(r)};Zt.prototype.name=null;Un.prototype.getChildByName=function(r,e){for(let t=0,n=this.children.length;t<n;t++)if(this.children[t].name===r)return this.children[t];if(e)for(let t=0,n=this.children.length;t<n;t++){const i=this.children[t];if(!i.getChildByName)continue;const s=i.getChildByName(r,!0);if(s)return s}return null};Zt.prototype.getGlobalPosition=function(r=new gt,e=!1){return this.parent?this.parent.toGlobal(this.position,r,e):(r.x=this.position.x,r.y=this.position.y),r};var oO=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float uAlpha;

void main(void)
{
   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;
}
`;class aO extends Ln{constructor(e=1){super(qD,oO,{uAlpha:1}),this.alpha=e}get alpha(){return this.uniforms.uAlpha}set alpha(e){this.uniforms.uAlpha=e}}const lO={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},uO=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join(`
`);function hO(r){const e=lO[r],t=e.length;let n=uO,i="";const s="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;";let a;for(let u=0;u<r;u++){let c=s.replace("%index%",u.toString());a=u,u>=t&&(a=r-u-1),c=c.replace("%value%",e[a].toString()),i+=c,i+=`
`}return n=n.replace("%blur%",i),n=n.replace("%size%",r.toString()),n}const cO=`
    attribute vec2 aVertexPosition;

    uniform mat3 projectionMatrix;

    uniform float strength;

    varying vec2 vBlurTexCoords[%size%];

    uniform vec4 inputSize;
    uniform vec4 outputFrame;

    vec4 filterVertexPosition( void )
    {
        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
    }

    vec2 filterTextureCoord( void )
    {
        return aVertexPosition * (outputFrame.zw * inputSize.zw);
    }

    void main(void)
    {
        gl_Position = filterVertexPosition();

        vec2 textureCoord = filterTextureCoord();
        %blur%
    }`;function dO(r,e){const t=Math.ceil(r/2);let n=cO,i="",s;e?s="vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":s="vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(let a=0;a<r;a++){let u=s.replace("%index%",a.toString());u=u.replace("%sampleIndex%",`${a-(t-1)}.0`),i+=u,i+=`
`}return n=n.replace("%blur%",i),n=n.replace("%size%",r.toString()),n}class g_ extends Ln{constructor(e,t=8,n=4,i=Ln.defaultResolution,s=5){const a=dO(s,e),u=hO(s);super(a,u),this.horizontal=e,this.resolution=i,this._quality=0,this.quality=n,this.blur=t}apply(e,t,n,i){if(n?this.horizontal?this.uniforms.strength=1/n.width*(n.width/t.width):this.uniforms.strength=1/n.height*(n.height/t.height):this.horizontal?this.uniforms.strength=1/e.renderer.width*(e.renderer.width/t.width):this.uniforms.strength=1/e.renderer.height*(e.renderer.height/t.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,this.passes===1)e.applyFilter(this,t,n,i);else{const s=e.getFilterTexture(),a=e.renderer;let u=t,c=s;this.state.blend=!1,e.applyFilter(this,u,c,yo.CLEAR);for(let f=1;f<this.passes-1;f++){e.bindAndClear(u,yo.BLIT),this.uniforms.uSampler=c;const m=c;c=u,u=m,a.shader.bind(this),a.geometry.draw(5)}this.state.blend=!0,e.applyFilter(this,c,n,i),e.returnFilterTexture(s)}}get blur(){return this.strength}set blur(e){this.padding=1+Math.abs(e)*2,this.strength=e}get quality(){return this._quality}set quality(e){this._quality=e,this.passes=e}}class fO extends Ln{constructor(e=8,t=4,n=Ln.defaultResolution,i=5){super(),this._repeatEdgePixels=!1,this.blurXFilter=new g_(!0,e,t,n,i),this.blurYFilter=new g_(!1,e,t,n,i),this.resolution=n,this.quality=t,this.blur=e,this.repeatEdgePixels=!1}apply(e,t,n,i){const s=Math.abs(this.blurXFilter.strength),a=Math.abs(this.blurYFilter.strength);if(s&&a){const u=e.getFilterTexture();this.blurXFilter.apply(e,t,u,yo.CLEAR),this.blurYFilter.apply(e,u,n,i),e.returnFilterTexture(u)}else a?this.blurYFilter.apply(e,t,n,i):this.blurXFilter.apply(e,t,n,i)}updatePadding(){this._repeatEdgePixels?this.padding=0:this.padding=Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))*2}get blur(){return this.blurXFilter.blur}set blur(e){this.blurXFilter.blur=this.blurYFilter.blur=e,this.updatePadding()}get quality(){return this.blurXFilter.quality}set quality(e){this.blurXFilter.quality=this.blurYFilter.quality=e}get blurX(){return this.blurXFilter.blur}set blurX(e){this.blurXFilter.blur=e,this.updatePadding()}get blurY(){return this.blurYFilter.blur}set blurY(e){this.blurYFilter.blur=e,this.updatePadding()}get blendMode(){return this.blurYFilter.blendMode}set blendMode(e){this.blurYFilter.blendMode=e}get repeatEdgePixels(){return this._repeatEdgePixels}set repeatEdgePixels(e){this._repeatEdgePixels=e,this.updatePadding()}}var pO=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform float m[20];
uniform float uAlpha;

void main(void)
{
    vec4 c = texture2D(uSampler, vTextureCoord);

    if (uAlpha == 0.0) {
        gl_FragColor = c;
        return;
    }

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (c.a > 0.0) {
      c.rgb /= c.a;
    }

    vec4 result;

    result.r = (m[0] * c.r);
        result.r += (m[1] * c.g);
        result.r += (m[2] * c.b);
        result.r += (m[3] * c.a);
        result.r += m[4];

    result.g = (m[5] * c.r);
        result.g += (m[6] * c.g);
        result.g += (m[7] * c.b);
        result.g += (m[8] * c.a);
        result.g += m[9];

    result.b = (m[10] * c.r);
       result.b += (m[11] * c.g);
       result.b += (m[12] * c.b);
       result.b += (m[13] * c.a);
       result.b += m[14];

    result.a = (m[15] * c.r);
       result.a += (m[16] * c.g);
       result.a += (m[17] * c.b);
       result.a += (m[18] * c.a);
       result.a += m[19];

    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);

    // Premultiply alpha again.
    rgb *= result.a;

    gl_FragColor = vec4(rgb, result.a);
}
`;class y_ extends Ln{constructor(){const e={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};super(GA,pO,e),this.alpha=1}_loadMatrix(e,t=!1){let n=e;t&&(this._multiply(n,this.uniforms.m,e),n=this._colorMatrix(n)),this.uniforms.m=n}_multiply(e,t,n){return e[0]=t[0]*n[0]+t[1]*n[5]+t[2]*n[10]+t[3]*n[15],e[1]=t[0]*n[1]+t[1]*n[6]+t[2]*n[11]+t[3]*n[16],e[2]=t[0]*n[2]+t[1]*n[7]+t[2]*n[12]+t[3]*n[17],e[3]=t[0]*n[3]+t[1]*n[8]+t[2]*n[13]+t[3]*n[18],e[4]=t[0]*n[4]+t[1]*n[9]+t[2]*n[14]+t[3]*n[19]+t[4],e[5]=t[5]*n[0]+t[6]*n[5]+t[7]*n[10]+t[8]*n[15],e[6]=t[5]*n[1]+t[6]*n[6]+t[7]*n[11]+t[8]*n[16],e[7]=t[5]*n[2]+t[6]*n[7]+t[7]*n[12]+t[8]*n[17],e[8]=t[5]*n[3]+t[6]*n[8]+t[7]*n[13]+t[8]*n[18],e[9]=t[5]*n[4]+t[6]*n[9]+t[7]*n[14]+t[8]*n[19]+t[9],e[10]=t[10]*n[0]+t[11]*n[5]+t[12]*n[10]+t[13]*n[15],e[11]=t[10]*n[1]+t[11]*n[6]+t[12]*n[11]+t[13]*n[16],e[12]=t[10]*n[2]+t[11]*n[7]+t[12]*n[12]+t[13]*n[17],e[13]=t[10]*n[3]+t[11]*n[8]+t[12]*n[13]+t[13]*n[18],e[14]=t[10]*n[4]+t[11]*n[9]+t[12]*n[14]+t[13]*n[19]+t[14],e[15]=t[15]*n[0]+t[16]*n[5]+t[17]*n[10]+t[18]*n[15],e[16]=t[15]*n[1]+t[16]*n[6]+t[17]*n[11]+t[18]*n[16],e[17]=t[15]*n[2]+t[16]*n[7]+t[17]*n[12]+t[18]*n[17],e[18]=t[15]*n[3]+t[16]*n[8]+t[17]*n[13]+t[18]*n[18],e[19]=t[15]*n[4]+t[16]*n[9]+t[17]*n[14]+t[18]*n[19]+t[19],e}_colorMatrix(e){const t=new Float32Array(e);return t[4]/=255,t[9]/=255,t[14]/=255,t[19]/=255,t}brightness(e,t){const n=[e,0,0,0,0,0,e,0,0,0,0,0,e,0,0,0,0,0,1,0];this._loadMatrix(n,t)}tint(e,t){const[n,i,s]=Ht.shared.setValue(e).toArray(),a=[n,0,0,0,0,0,i,0,0,0,0,0,s,0,0,0,0,0,1,0];this._loadMatrix(a,t)}greyscale(e,t){const n=[e,e,e,0,0,e,e,e,0,0,e,e,e,0,0,0,0,0,1,0];this._loadMatrix(n,t)}blackAndWhite(e){const t=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0];this._loadMatrix(t,e)}hue(e,t){e=(e||0)/180*Math.PI;const n=Math.cos(e),i=Math.sin(e),s=Math.sqrt,a=1/3,u=s(a),c=n+(1-n)*a,f=a*(1-n)-u*i,m=a*(1-n)+u*i,g=a*(1-n)+u*i,v=n+a*(1-n),x=a*(1-n)-u*i,S=a*(1-n)-u*i,b=a*(1-n)+u*i,E=n+a*(1-n),P=[c,f,m,0,0,g,v,x,0,0,S,b,E,0,0,0,0,0,1,0];this._loadMatrix(P,t)}contrast(e,t){const n=(e||0)+1,i=-.5*(n-1),s=[n,0,0,0,i,0,n,0,0,i,0,0,n,0,i,0,0,0,1,0];this._loadMatrix(s,t)}saturate(e=0,t){const n=e*2/3+1,i=(n-1)*-.5,s=[n,i,i,0,0,i,n,i,0,0,i,i,n,0,0,0,0,0,1,0];this._loadMatrix(s,t)}desaturate(){this.saturate(-1)}negative(e){const t=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0];this._loadMatrix(t,e)}sepia(e){const t=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0];this._loadMatrix(t,e)}technicolor(e){const t=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0];this._loadMatrix(t,e)}polaroid(e){const t=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0];this._loadMatrix(t,e)}toBGR(e){const t=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];this._loadMatrix(t,e)}kodachrome(e){const t=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0];this._loadMatrix(t,e)}browni(e){const t=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0];this._loadMatrix(t,e)}vintage(e){const t=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0];this._loadMatrix(t,e)}colorTone(e,t,n,i,s){e=e||.2,t=t||.15,n=n||16770432,i=i||3375104;const a=Ht.shared,[u,c,f]=a.setValue(n).toArray(),[m,g,v]=a.setValue(i).toArray(),x=[.3,.59,.11,0,0,u,c,f,e,0,m,g,v,t,0,u-m,c-g,f-v,0,0];this._loadMatrix(x,s)}night(e,t){e=e||.1;const n=[e*-2,-e,0,0,0,-e,0,e,0,0,0,e,e*2,0,0,0,0,0,1,0];this._loadMatrix(n,t)}predator(e,t){const n=[11.224130630493164*e,-4.794486999511719*e,-2.8746118545532227*e,0*e,.40342438220977783*e,-3.6330697536468506*e,9.193157196044922*e,-2.951810836791992*e,0*e,-1.316135048866272*e,-3.2184197902679443*e,-4.2375030517578125*e,7.476448059082031*e,0*e,.8044459223747253*e,0,0,0,1,0];this._loadMatrix(n,t)}lsd(e){const t=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0];this._loadMatrix(t,e)}reset(){const e=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this._loadMatrix(e,!1)}get matrix(){return this.uniforms.m}set matrix(e){this.uniforms.m=e}get alpha(){return this.uniforms.uAlpha}set alpha(e){this.uniforms.uAlpha=e}}y_.prototype.grayscale=y_.prototype.greyscale;var mO=`varying vec2 vFilterCoord;
varying vec2 vTextureCoord;

uniform vec2 scale;
uniform mat2 rotation;
uniform sampler2D uSampler;
uniform sampler2D mapSampler;

uniform highp vec4 inputSize;
uniform vec4 inputClamp;

void main(void)
{
  vec4 map =  texture2D(mapSampler, vFilterCoord);

  map -= 0.5;
  map.xy = scale * inputSize.zw * (rotation * map.xy);

  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));
}
`,gO=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;
uniform mat3 filterMatrix;

varying vec2 vTextureCoord;
varying vec2 vFilterCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
	gl_Position = filterVertexPosition();
	vTextureCoord = filterTextureCoord();
	vFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;
}
`;class yO extends Ln{constructor(e,t){const n=new Wt;e.renderable=!1,super(gO,mO,{mapSampler:e._texture,filterMatrix:n,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])}),this.maskSprite=e,this.maskMatrix=n,t==null&&(t=20),this.scale=new gt(t,t)}apply(e,t,n,i){this.uniforms.filterMatrix=e.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;const s=this.maskSprite.worldTransform,a=Math.sqrt(s.a*s.a+s.b*s.b),u=Math.sqrt(s.c*s.c+s.d*s.d);a!==0&&u!==0&&(this.uniforms.rotation[0]=s.a/a,this.uniforms.rotation[1]=s.b/a,this.uniforms.rotation[2]=s.c/u,this.uniforms.rotation[3]=s.d/u),e.applyFilter(this,t,n,i)}get map(){return this.uniforms.mapSampler}set map(e){this.uniforms.mapSampler=e}}var vO=`varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;
uniform sampler2D uSampler;
uniform highp vec4 inputSize;


/**
 Basic FXAA implementation based on the code on geeks3d.com with the
 modification that the texture2DLod stuff was removed since it's
 unsupported by WebGL.

 --

 From:
 https://github.com/mitsuhiko/webgl-meincraft

 Copyright (c) 2011 by Armin Ronacher.

 Some rights reserved.

 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions are
 met:

 * Redistributions of source code must retain the above copyright
 notice, this list of conditions and the following disclaimer.

 * Redistributions in binary form must reproduce the above
 copyright notice, this list of conditions and the following
 disclaimer in the documentation and/or other materials provided
 with the distribution.

 * The names of the contributors may not be used to endorse or
 promote products derived from this software without specific
 prior written permission.

 THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
 "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
 LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
 A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
 THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

#ifndef FXAA_REDUCE_MIN
#define FXAA_REDUCE_MIN   (1.0/ 128.0)
#endif
#ifndef FXAA_REDUCE_MUL
#define FXAA_REDUCE_MUL   (1.0 / 8.0)
#endif
#ifndef FXAA_SPAN_MAX
#define FXAA_SPAN_MAX     8.0
#endif

//optimized version for mobile, where dependent
//texture reads can be a bottleneck
vec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,
          vec2 v_rgbNW, vec2 v_rgbNE,
          vec2 v_rgbSW, vec2 v_rgbSE,
          vec2 v_rgbM) {
    vec4 color;
    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;
    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;
    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;
    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;
    vec4 texColor = texture2D(tex, v_rgbM);
    vec3 rgbM  = texColor.xyz;
    vec3 luma = vec3(0.299, 0.587, 0.114);
    float lumaNW = dot(rgbNW, luma);
    float lumaNE = dot(rgbNE, luma);
    float lumaSW = dot(rgbSW, luma);
    float lumaSE = dot(rgbSE, luma);
    float lumaM  = dot(rgbM,  luma);
    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));
    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));

    mediump vec2 dir;
    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));
    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));

    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *
                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);

    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);
    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),
              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),
                  dir * rcpDirMin)) * inverseVP;

    vec3 rgbA = 0.5 * (
                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +
                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);
    vec3 rgbB = rgbA * 0.5 + 0.25 * (
                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +
                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);

    float lumaB = dot(rgbB, luma);
    if ((lumaB < lumaMin) || (lumaB > lumaMax))
        color = vec4(rgbA, texColor.a);
    else
        color = vec4(rgbB, texColor.a);
    return color;
}

void main() {

      vec4 color;

      color = fxaa(uSampler, vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);

      gl_FragColor = color;
}
`,_O=`
attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

void texcoords(vec2 fragCoord, vec2 inverseVP,
               out vec2 v_rgbNW, out vec2 v_rgbNE,
               out vec2 v_rgbSW, out vec2 v_rgbSE,
               out vec2 v_rgbM) {
    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;
    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;
    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;
    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;
    v_rgbM = vec2(fragCoord * inverseVP);
}

void main(void) {

   gl_Position = filterVertexPosition();

   vFragCoord = aVertexPosition * outputFrame.zw;

   texcoords(vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);
}
`;class xO extends Ln{constructor(){super(_O,vO)}}var wO=`precision highp float;

varying vec2 vTextureCoord;
varying vec4 vColor;

uniform float uNoise;
uniform float uSeed;
uniform sampler2D uSampler;

float rand(vec2 co)
{
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main()
{
    vec4 color = texture2D(uSampler, vTextureCoord);
    float randomValue = rand(gl_FragCoord.xy * uSeed);
    float diff = (randomValue - 0.5) * uNoise;

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (color.a > 0.0) {
        color.rgb /= color.a;
    }

    color.r += diff;
    color.g += diff;
    color.b += diff;

    // Premultiply alpha again.
    color.rgb *= color.a;

    gl_FragColor = color;
}
`;class SO extends Ln{constructor(e=.5,t=Math.random()){super(GA,wO,{uNoise:0,uSeed:0}),this.noise=e,this.seed=t}get noise(){return this.uniforms.uNoise}set noise(e){this.uniforms.uNoise=e}get seed(){return this.uniforms.uSeed}set seed(e){this.uniforms.uSeed=e}}const ab={AlphaFilter:aO,BlurFilter:fO,BlurFilterPass:g_,ColorMatrixFilter:y_,DisplacementFilter:yO,FXAAFilter:xO,NoiseFilter:SO};Object.entries(ab).forEach(([r,e])=>{Object.defineProperty(ab,r,{get(){return mt("7.1.0",`filters.${r} has moved to ${r}`),e}})});class bO{constructor(){this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this.tickerAdded=!1,this._pauseUpdate=!0}init(e){this.removeTickerListener(),this.events=e,this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this.tickerAdded=!1,this._pauseUpdate=!0}get pauseUpdate(){return this._pauseUpdate}set pauseUpdate(e){this._pauseUpdate=e}addTickerListener(){this.tickerAdded||!this.domElement||(qr.system.add(this.tickerUpdate,this,Fl.INTERACTION),this.tickerAdded=!0)}removeTickerListener(){this.tickerAdded&&(qr.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)}pointerMoved(){this._didMove=!0}update(){if(!this.domElement||this._pauseUpdate)return;if(this._didMove){this._didMove=!1;return}const e=this.events.rootPointerEvent;this.events.supportsTouchEvents&&e.pointerType==="touch"||globalThis.document.dispatchEvent(new PointerEvent("pointermove",{clientX:e.clientX,clientY:e.clientY}))}tickerUpdate(e){this._deltaTime+=e,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.update())}}const El=new bO;class yp{constructor(e){this.bubbles=!0,this.cancelBubble=!0,this.cancelable=!1,this.composed=!1,this.defaultPrevented=!1,this.eventPhase=yp.prototype.NONE,this.propagationStopped=!1,this.propagationImmediatelyStopped=!1,this.layer=new gt,this.page=new gt,this.NONE=0,this.CAPTURING_PHASE=1,this.AT_TARGET=2,this.BUBBLING_PHASE=3,this.manager=e}get layerX(){return this.layer.x}get layerY(){return this.layer.y}get pageX(){return this.page.x}get pageY(){return this.page.y}get data(){return this}composedPath(){return this.manager&&(!this.path||this.path[this.path.length-1]!==this.target)&&(this.path=this.target?this.manager.propagationPath(this.target):[]),this.path}initEvent(e,t,n){throw new Error("initEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}initUIEvent(e,t,n,i,s){throw new Error("initUIEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}preventDefault(){this.nativeEvent instanceof Event&&this.nativeEvent.cancelable&&this.nativeEvent.preventDefault(),this.defaultPrevented=!0}stopImmediatePropagation(){this.propagationImmediatelyStopped=!0}stopPropagation(){this.propagationStopped=!0}}class mg extends yp{constructor(){super(...arguments),this.client=new gt,this.movement=new gt,this.offset=new gt,this.global=new gt,this.screen=new gt}get clientX(){return this.client.x}get clientY(){return this.client.y}get x(){return this.clientX}get y(){return this.clientY}get movementX(){return this.movement.x}get movementY(){return this.movement.y}get offsetX(){return this.offset.x}get offsetY(){return this.offset.y}get globalX(){return this.global.x}get globalY(){return this.global.y}get screenX(){return this.screen.x}get screenY(){return this.screen.y}getLocalPosition(e,t,n){return e.worldTransform.applyInverse(n||this.global,t)}getModifierState(e){return"getModifierState"in this.nativeEvent&&this.nativeEvent.getModifierState(e)}initMouseEvent(e,t,n,i,s,a,u,c,f,m,g,v,x,S,b){throw new Error("Method not implemented.")}}class ks extends mg{constructor(){super(...arguments),this.width=0,this.height=0,this.isPrimary=!1}getCoalescedEvents(){return this.type==="pointermove"||this.type==="mousemove"||this.type==="touchmove"?[this]:[]}getPredictedEvents(){throw new Error("getPredictedEvents is not supported!")}}class jc extends mg{constructor(){super(...arguments),this.DOM_DELTA_PIXEL=0,this.DOM_DELTA_LINE=1,this.DOM_DELTA_PAGE=2}}jc.DOM_DELTA_PIXEL=0,jc.DOM_DELTA_LINE=1,jc.DOM_DELTA_PAGE=2;const TO=2048,EO=new gt,d0=new gt;class AO{constructor(e){this.dispatch=new gp,this.moveOnAll=!1,this.enableGlobalMoveEvents=!0,this.mappingState={trackingData:{}},this.eventPool=new Map,this._allInteractiveElements=[],this._hitElements=[],this._isPointerMoveEvent=!1,this.rootTarget=e,this.hitPruneFn=this.hitPruneFn.bind(this),this.hitTestFn=this.hitTestFn.bind(this),this.mapPointerDown=this.mapPointerDown.bind(this),this.mapPointerMove=this.mapPointerMove.bind(this),this.mapPointerOut=this.mapPointerOut.bind(this),this.mapPointerOver=this.mapPointerOver.bind(this),this.mapPointerUp=this.mapPointerUp.bind(this),this.mapPointerUpOutside=this.mapPointerUpOutside.bind(this),this.mapWheel=this.mapWheel.bind(this),this.mappingTable={},this.addEventMapping("pointerdown",this.mapPointerDown),this.addEventMapping("pointermove",this.mapPointerMove),this.addEventMapping("pointerout",this.mapPointerOut),this.addEventMapping("pointerleave",this.mapPointerOut),this.addEventMapping("pointerover",this.mapPointerOver),this.addEventMapping("pointerup",this.mapPointerUp),this.addEventMapping("pointerupoutside",this.mapPointerUpOutside),this.addEventMapping("wheel",this.mapWheel)}addEventMapping(e,t){this.mappingTable[e]||(this.mappingTable[e]=[]),this.mappingTable[e].push({fn:t,priority:0}),this.mappingTable[e].sort((n,i)=>n.priority-i.priority)}dispatchEvent(e,t){e.propagationStopped=!1,e.propagationImmediatelyStopped=!1,this.propagate(e,t),this.dispatch.emit(t||e.type,e)}mapEvent(e){if(!this.rootTarget)return;const t=this.mappingTable[e.type];if(t)for(let n=0,i=t.length;n<i;n++)t[n].fn(e);else console.warn(`[EventBoundary]: Event mapping not defined for ${e.type}`)}hitTest(e,t){El.pauseUpdate=!0;const n=this._isPointerMoveEvent&&this.enableGlobalMoveEvents?"hitTestMoveRecursive":"hitTestRecursive",i=this[n](this.rootTarget,this.rootTarget.eventMode,EO.set(e,t),this.hitTestFn,this.hitPruneFn);return i&&i[0]}propagate(e,t){if(!e.target)return;const n=e.composedPath();e.eventPhase=e.CAPTURING_PHASE;for(let i=0,s=n.length-1;i<s;i++)if(e.currentTarget=n[i],this.notifyTarget(e,t),e.propagationStopped||e.propagationImmediatelyStopped)return;if(e.eventPhase=e.AT_TARGET,e.currentTarget=e.target,this.notifyTarget(e,t),!(e.propagationStopped||e.propagationImmediatelyStopped)){e.eventPhase=e.BUBBLING_PHASE;for(let i=n.length-2;i>=0;i--)if(e.currentTarget=n[i],this.notifyTarget(e,t),e.propagationStopped||e.propagationImmediatelyStopped)return}}all(e,t,n=this._allInteractiveElements){if(n.length===0)return;e.eventPhase=e.BUBBLING_PHASE;const i=Array.isArray(t)?t:[t];for(let s=n.length-1;s>=0;s--)i.forEach(a=>{e.currentTarget=n[s],this.notifyTarget(e,a)})}propagationPath(e){const t=[e];for(let n=0;n<TO&&e!==this.rootTarget;n++){if(!e.parent)throw new Error("Cannot find propagation path to disconnected target");t.push(e.parent),e=e.parent}return t.reverse(),t}hitTestMoveRecursive(e,t,n,i,s,a=!1){let u=!1;if(this._interactivePrune(e))return null;if((e.eventMode==="dynamic"||t==="dynamic")&&(El.pauseUpdate=!1),e.interactiveChildren&&e.children){const m=e.children;for(let g=m.length-1;g>=0;g--){const v=m[g],x=this.hitTestMoveRecursive(v,this._isInteractive(t)?t:v.eventMode,n,i,s,a||s(e,n));if(x){if(x.length>0&&!x[x.length-1].parent)continue;const S=e.isInteractive();(x.length>0||S)&&(S&&this._allInteractiveElements.push(e),x.push(e)),this._hitElements.length===0&&(this._hitElements=x),u=!0}}}const c=this._isInteractive(t),f=e.isInteractive();return c&&f&&this._allInteractiveElements.push(e),a||this._hitElements.length>0?null:u?this._hitElements:c&&!s(e,n)&&i(e,n)?f?[e]:[]:null}hitTestRecursive(e,t,n,i,s){if(this._interactivePrune(e)||s(e,n))return null;if((e.eventMode==="dynamic"||t==="dynamic")&&(El.pauseUpdate=!1),e.interactiveChildren&&e.children){const c=e.children;for(let f=c.length-1;f>=0;f--){const m=c[f],g=this.hitTestRecursive(m,this._isInteractive(t)?t:m.eventMode,n,i,s);if(g){if(g.length>0&&!g[g.length-1].parent)continue;const v=e.isInteractive();return(g.length>0||v)&&g.push(e),g}}}const a=this._isInteractive(t),u=e.isInteractive();return a&&i(e,n)?u?[e]:[]:null}_isInteractive(e){return e==="static"||e==="dynamic"}_interactivePrune(e){return!!(!e||e.isMask||!e.visible||!e.renderable||e.eventMode==="none"||e.eventMode==="passive"&&!e.interactiveChildren||e.isMask)}hitPruneFn(e,t){var n;if(e.hitArea&&(e.worldTransform.applyInverse(t,d0),!e.hitArea.contains(d0.x,d0.y)))return!0;if(e._mask){const i=e._mask.isMaskData?e._mask.maskObject:e._mask;if(i&&!((n=i.containsPoint)!=null&&n.call(i,t)))return!0}return!1}hitTestFn(e,t){return e.eventMode==="passive"?!1:e.hitArea?!0:e.containsPoint?e.containsPoint(t):!1}notifyTarget(e,t){var s,a;t=t??e.type;const n=`on${t}`;(a=(s=e.currentTarget)[n])==null||a.call(s,e);const i=e.eventPhase===e.CAPTURING_PHASE||e.eventPhase===e.AT_TARGET?`${t}capture`:t;this.notifyListeners(e,i),e.eventPhase===e.AT_TARGET&&this.notifyListeners(e,t)}mapPointerDown(e){if(!(e instanceof ks)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const t=this.createPointerEvent(e);if(this.dispatchEvent(t,"pointerdown"),t.pointerType==="touch")this.dispatchEvent(t,"touchstart");else if(t.pointerType==="mouse"||t.pointerType==="pen"){const i=t.button===2;this.dispatchEvent(t,i?"rightdown":"mousedown")}const n=this.trackingData(e.pointerId);n.pressTargetsByButton[e.button]=t.composedPath(),this.freeEvent(t)}mapPointerMove(e){var c,f;if(!(e instanceof ks)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}this._allInteractiveElements.length=0,this._hitElements.length=0,this._isPointerMoveEvent=!0;const t=this.createPointerEvent(e);this._isPointerMoveEvent=!1;const n=t.pointerType==="mouse"||t.pointerType==="pen",i=this.trackingData(e.pointerId),s=this.findMountedTarget(i.overTargets);if(((c=i.overTargets)==null?void 0:c.length)>0&&s!==t.target){const m=e.type==="mousemove"?"mouseout":"pointerout",g=this.createPointerEvent(e,m,s);if(this.dispatchEvent(g,"pointerout"),n&&this.dispatchEvent(g,"mouseout"),!t.composedPath().includes(s)){const v=this.createPointerEvent(e,"pointerleave",s);for(v.eventPhase=v.AT_TARGET;v.target&&!t.composedPath().includes(v.target);)v.currentTarget=v.target,this.notifyTarget(v),n&&this.notifyTarget(v,"mouseleave"),v.target=v.target.parent;this.freeEvent(v)}this.freeEvent(g)}if(s!==t.target){const m=e.type==="mousemove"?"mouseover":"pointerover",g=this.clonePointerEvent(t,m);this.dispatchEvent(g,"pointerover"),n&&this.dispatchEvent(g,"mouseover");let v=s==null?void 0:s.parent;for(;v&&v!==this.rootTarget.parent&&v!==t.target;)v=v.parent;if(!v||v===this.rootTarget.parent){const x=this.clonePointerEvent(t,"pointerenter");for(x.eventPhase=x.AT_TARGET;x.target&&x.target!==s&&x.target!==this.rootTarget.parent;)x.currentTarget=x.target,this.notifyTarget(x),n&&this.notifyTarget(x,"mouseenter"),x.target=x.target.parent;this.freeEvent(x)}this.freeEvent(g)}const a=[],u=this.enableGlobalMoveEvents??!0;this.moveOnAll?a.push("pointermove"):this.dispatchEvent(t,"pointermove"),u&&a.push("globalpointermove"),t.pointerType==="touch"&&(this.moveOnAll?a.splice(1,0,"touchmove"):this.dispatchEvent(t,"touchmove"),u&&a.push("globaltouchmove")),n&&(this.moveOnAll?a.splice(1,0,"mousemove"):this.dispatchEvent(t,"mousemove"),u&&a.push("globalmousemove"),this.cursor=(f=t.target)==null?void 0:f.cursor),a.length>0&&this.all(t,a),this._allInteractiveElements.length=0,this._hitElements.length=0,i.overTargets=t.composedPath(),this.freeEvent(t)}mapPointerOver(e){var a;if(!(e instanceof ks)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const t=this.trackingData(e.pointerId),n=this.createPointerEvent(e),i=n.pointerType==="mouse"||n.pointerType==="pen";this.dispatchEvent(n,"pointerover"),i&&this.dispatchEvent(n,"mouseover"),n.pointerType==="mouse"&&(this.cursor=(a=n.target)==null?void 0:a.cursor);const s=this.clonePointerEvent(n,"pointerenter");for(s.eventPhase=s.AT_TARGET;s.target&&s.target!==this.rootTarget.parent;)s.currentTarget=s.target,this.notifyTarget(s),i&&this.notifyTarget(s,"mouseenter"),s.target=s.target.parent;t.overTargets=n.composedPath(),this.freeEvent(n),this.freeEvent(s)}mapPointerOut(e){if(!(e instanceof ks)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const t=this.trackingData(e.pointerId);if(t.overTargets){const n=e.pointerType==="mouse"||e.pointerType==="pen",i=this.findMountedTarget(t.overTargets),s=this.createPointerEvent(e,"pointerout",i);this.dispatchEvent(s),n&&this.dispatchEvent(s,"mouseout");const a=this.createPointerEvent(e,"pointerleave",i);for(a.eventPhase=a.AT_TARGET;a.target&&a.target!==this.rootTarget.parent;)a.currentTarget=a.target,this.notifyTarget(a),n&&this.notifyTarget(a,"mouseleave"),a.target=a.target.parent;t.overTargets=null,this.freeEvent(s),this.freeEvent(a)}this.cursor=null}mapPointerUp(e){if(!(e instanceof ks)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const t=performance.now(),n=this.createPointerEvent(e);if(this.dispatchEvent(n,"pointerup"),n.pointerType==="touch")this.dispatchEvent(n,"touchend");else if(n.pointerType==="mouse"||n.pointerType==="pen"){const u=n.button===2;this.dispatchEvent(n,u?"rightup":"mouseup")}const i=this.trackingData(e.pointerId),s=this.findMountedTarget(i.pressTargetsByButton[e.button]);let a=s;if(s&&!n.composedPath().includes(s)){let u=s;for(;u&&!n.composedPath().includes(u);){if(n.currentTarget=u,this.notifyTarget(n,"pointerupoutside"),n.pointerType==="touch")this.notifyTarget(n,"touchendoutside");else if(n.pointerType==="mouse"||n.pointerType==="pen"){const c=n.button===2;this.notifyTarget(n,c?"rightupoutside":"mouseupoutside")}u=u.parent}delete i.pressTargetsByButton[e.button],a=u}if(a){const u=this.clonePointerEvent(n,"click");u.target=a,u.path=null,i.clicksByButton[e.button]||(i.clicksByButton[e.button]={clickCount:0,target:u.target,timeStamp:t});const c=i.clicksByButton[e.button];if(c.target===u.target&&t-c.timeStamp<200?++c.clickCount:c.clickCount=1,c.target=u.target,c.timeStamp=t,u.detail=c.clickCount,u.pointerType==="mouse"){const f=u.button===2;this.dispatchEvent(u,f?"rightclick":"click")}else u.pointerType==="touch"&&this.dispatchEvent(u,"tap");this.dispatchEvent(u,"pointertap"),this.freeEvent(u)}this.freeEvent(n)}mapPointerUpOutside(e){if(!(e instanceof ks)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const t=this.trackingData(e.pointerId),n=this.findMountedTarget(t.pressTargetsByButton[e.button]),i=this.createPointerEvent(e);if(n){let s=n;for(;s;)i.currentTarget=s,this.notifyTarget(i,"pointerupoutside"),i.pointerType==="touch"?this.notifyTarget(i,"touchendoutside"):(i.pointerType==="mouse"||i.pointerType==="pen")&&this.notifyTarget(i,i.button===2?"rightupoutside":"mouseupoutside"),s=s.parent;delete t.pressTargetsByButton[e.button]}this.freeEvent(i)}mapWheel(e){if(!(e instanceof jc)){console.warn("EventBoundary cannot map a non-wheel event as a wheel event");return}const t=this.createWheelEvent(e);this.dispatchEvent(t),this.freeEvent(t)}findMountedTarget(e){if(!e)return null;let t=e[0];for(let n=1;n<e.length&&e[n].parent===t;n++)t=e[n];return t}createPointerEvent(e,t,n){const i=this.allocateEvent(ks);return this.copyPointerData(e,i),this.copyMouseData(e,i),this.copyData(e,i),i.nativeEvent=e.nativeEvent,i.originalEvent=e,i.target=n??this.hitTest(i.global.x,i.global.y)??this._hitElements[0],typeof t=="string"&&(i.type=t),i}createWheelEvent(e){const t=this.allocateEvent(jc);return this.copyWheelData(e,t),this.copyMouseData(e,t),this.copyData(e,t),t.nativeEvent=e.nativeEvent,t.originalEvent=e,t.target=this.hitTest(t.global.x,t.global.y),t}clonePointerEvent(e,t){const n=this.allocateEvent(ks);return n.nativeEvent=e.nativeEvent,n.originalEvent=e.originalEvent,this.copyPointerData(e,n),this.copyMouseData(e,n),this.copyData(e,n),n.target=e.target,n.path=e.composedPath().slice(),n.type=t??n.type,n}copyWheelData(e,t){t.deltaMode=e.deltaMode,t.deltaX=e.deltaX,t.deltaY=e.deltaY,t.deltaZ=e.deltaZ}copyPointerData(e,t){e instanceof ks&&t instanceof ks&&(t.pointerId=e.pointerId,t.width=e.width,t.height=e.height,t.isPrimary=e.isPrimary,t.pointerType=e.pointerType,t.pressure=e.pressure,t.tangentialPressure=e.tangentialPressure,t.tiltX=e.tiltX,t.tiltY=e.tiltY,t.twist=e.twist)}copyMouseData(e,t){e instanceof mg&&t instanceof mg&&(t.altKey=e.altKey,t.button=e.button,t.buttons=e.buttons,t.client.copyFrom(e.client),t.ctrlKey=e.ctrlKey,t.metaKey=e.metaKey,t.movement.copyFrom(e.movement),t.screen.copyFrom(e.screen),t.shiftKey=e.shiftKey,t.global.copyFrom(e.global))}copyData(e,t){t.isTrusted=e.isTrusted,t.srcElement=e.srcElement,t.timeStamp=performance.now(),t.type=e.type,t.detail=e.detail,t.view=e.view,t.which=e.which,t.layer.copyFrom(e.layer),t.page.copyFrom(e.page)}trackingData(e){return this.mappingState.trackingData[e]||(this.mappingState.trackingData[e]={pressTargetsByButton:{},clicksByButton:{},overTarget:null}),this.mappingState.trackingData[e]}allocateEvent(e){this.eventPool.has(e)||this.eventPool.set(e,[]);const t=this.eventPool.get(e).pop()||new e(this);return t.eventPhase=t.NONE,t.currentTarget=null,t.path=null,t.target=null,t}freeEvent(e){if(e.manager!==this)throw new Error("It is illegal to free an event not managed by this EventBoundary!");const t=e.constructor;this.eventPool.has(t)||this.eventPool.set(t,[]),this.eventPool.get(t).push(e)}notifyListeners(e,t){const n=e.currentTarget._events[t];if(n&&e.currentTarget.isInteractive())if("fn"in n)n.once&&e.currentTarget.removeListener(t,n.fn,void 0,!0),n.fn.call(n.context,e);else for(let i=0,s=n.length;i<s&&!e.propagationImmediatelyStopped;i++)n[i].once&&e.currentTarget.removeListener(t,n[i].fn,void 0,!0),n[i].fn.call(n[i].context,e)}}const CO=1,PO={touchstart:"pointerdown",touchend:"pointerup",touchendoutside:"pointerupoutside",touchmove:"pointermove",touchcancel:"pointercancel"},v_=class __{constructor(e){this.supportsTouchEvents="ontouchstart"in globalThis,this.supportsPointerEvents=!!globalThis.PointerEvent,this.domElement=null,this.resolution=1,this.renderer=e,this.rootBoundary=new AO(null),El.init(this),this.autoPreventDefault=!0,this.eventsAdded=!1,this.rootPointerEvent=new ks(null),this.rootWheelEvent=new jc(null),this.cursorStyles={default:"inherit",pointer:"pointer"},this.features=new Proxy({...__.defaultEventFeatures},{set:(t,n,i)=>(n==="globalMove"&&(this.rootBoundary.enableGlobalMoveEvents=i),t[n]=i,!0)}),this.onPointerDown=this.onPointerDown.bind(this),this.onPointerMove=this.onPointerMove.bind(this),this.onPointerUp=this.onPointerUp.bind(this),this.onPointerOverOut=this.onPointerOverOut.bind(this),this.onWheel=this.onWheel.bind(this)}static get defaultEventMode(){return this._defaultEventMode}init(e){const{view:t,resolution:n}=this.renderer;this.setTargetElement(t),this.resolution=n,__._defaultEventMode=e.eventMode??"auto",Object.assign(this.features,e.eventFeatures??{}),this.rootBoundary.enableGlobalMoveEvents=this.features.globalMove}resolutionChange(e){this.resolution=e}destroy(){this.setTargetElement(null),this.renderer=null}setCursor(e){e=e||"default";let t=!0;if(globalThis.OffscreenCanvas&&this.domElement instanceof OffscreenCanvas&&(t=!1),this.currentCursor===e)return;this.currentCursor=e;const n=this.cursorStyles[e];if(n)switch(typeof n){case"string":t&&(this.domElement.style.cursor=n);break;case"function":n(e);break;case"object":t&&Object.assign(this.domElement.style,n);break}else t&&typeof e=="string"&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,e)&&(this.domElement.style.cursor=e)}get pointer(){return this.rootPointerEvent}onPointerDown(e){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;const t=this.normalizeToPointerData(e);this.autoPreventDefault&&t[0].isNormalized&&(e.cancelable||!("cancelable"in e))&&e.preventDefault();for(let n=0,i=t.length;n<i;n++){const s=t[n],a=this.bootstrapEvent(this.rootPointerEvent,s);this.rootBoundary.mapEvent(a)}this.setCursor(this.rootBoundary.cursor)}onPointerMove(e){if(!this.features.move)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,El.pointerMoved();const t=this.normalizeToPointerData(e);for(let n=0,i=t.length;n<i;n++){const s=this.bootstrapEvent(this.rootPointerEvent,t[n]);this.rootBoundary.mapEvent(s)}this.setCursor(this.rootBoundary.cursor)}onPointerUp(e){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;let t=e.target;e.composedPath&&e.composedPath().length>0&&(t=e.composedPath()[0]);const n=t!==this.domElement?"outside":"",i=this.normalizeToPointerData(e);for(let s=0,a=i.length;s<a;s++){const u=this.bootstrapEvent(this.rootPointerEvent,i[s]);u.type+=n,this.rootBoundary.mapEvent(u)}this.setCursor(this.rootBoundary.cursor)}onPointerOverOut(e){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;const t=this.normalizeToPointerData(e);for(let n=0,i=t.length;n<i;n++){const s=this.bootstrapEvent(this.rootPointerEvent,t[n]);this.rootBoundary.mapEvent(s)}this.setCursor(this.rootBoundary.cursor)}onWheel(e){if(!this.features.wheel)return;const t=this.normalizeWheelEvent(e);this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.rootBoundary.mapEvent(t)}setTargetElement(e){this.removeEvents(),this.domElement=e,El.domElement=e,this.addEvents()}addEvents(){if(this.eventsAdded||!this.domElement)return;El.addTickerListener();const e=this.domElement.style;e&&(globalThis.navigator.msPointerEnabled?(e.msContentZooming="none",e.msTouchAction="none"):this.supportsPointerEvents&&(e.touchAction="none")),this.supportsPointerEvents?(globalThis.document.addEventListener("pointermove",this.onPointerMove,!0),this.domElement.addEventListener("pointerdown",this.onPointerDown,!0),this.domElement.addEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.addEventListener("pointerover",this.onPointerOverOut,!0),globalThis.addEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.addEventListener("mousemove",this.onPointerMove,!0),this.domElement.addEventListener("mousedown",this.onPointerDown,!0),this.domElement.addEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.addEventListener("mouseover",this.onPointerOverOut,!0),globalThis.addEventListener("mouseup",this.onPointerUp,!0),this.supportsTouchEvents&&(this.domElement.addEventListener("touchstart",this.onPointerDown,!0),this.domElement.addEventListener("touchend",this.onPointerUp,!0),this.domElement.addEventListener("touchmove",this.onPointerMove,!0))),this.domElement.addEventListener("wheel",this.onWheel,{passive:!0,capture:!0}),this.eventsAdded=!0}removeEvents(){if(!this.eventsAdded||!this.domElement)return;El.removeTickerListener();const e=this.domElement.style;globalThis.navigator.msPointerEnabled?(e.msContentZooming="",e.msTouchAction=""):this.supportsPointerEvents&&(e.touchAction=""),this.supportsPointerEvents?(globalThis.document.removeEventListener("pointermove",this.onPointerMove,!0),this.domElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.domElement.removeEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.removeEventListener("pointerover",this.onPointerOverOut,!0),globalThis.removeEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.removeEventListener("mousemove",this.onPointerMove,!0),this.domElement.removeEventListener("mousedown",this.onPointerDown,!0),this.domElement.removeEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.removeEventListener("mouseover",this.onPointerOverOut,!0),globalThis.removeEventListener("mouseup",this.onPointerUp,!0),this.supportsTouchEvents&&(this.domElement.removeEventListener("touchstart",this.onPointerDown,!0),this.domElement.removeEventListener("touchend",this.onPointerUp,!0),this.domElement.removeEventListener("touchmove",this.onPointerMove,!0))),this.domElement.removeEventListener("wheel",this.onWheel,!0),this.domElement=null,this.eventsAdded=!1}mapPositionToPoint(e,t,n){const i=this.domElement.isConnected?this.domElement.getBoundingClientRect():{width:this.domElement.width,height:this.domElement.height,left:0,top:0},s=1/this.resolution;e.x=(t-i.left)*(this.domElement.width/i.width)*s,e.y=(n-i.top)*(this.domElement.height/i.height)*s}normalizeToPointerData(e){const t=[];if(this.supportsTouchEvents&&e instanceof TouchEvent)for(let n=0,i=e.changedTouches.length;n<i;n++){const s=e.changedTouches[n];typeof s.button>"u"&&(s.button=0),typeof s.buttons>"u"&&(s.buttons=1),typeof s.isPrimary>"u"&&(s.isPrimary=e.touches.length===1&&e.type==="touchstart"),typeof s.width>"u"&&(s.width=s.radiusX||1),typeof s.height>"u"&&(s.height=s.radiusY||1),typeof s.tiltX>"u"&&(s.tiltX=0),typeof s.tiltY>"u"&&(s.tiltY=0),typeof s.pointerType>"u"&&(s.pointerType="touch"),typeof s.pointerId>"u"&&(s.pointerId=s.identifier||0),typeof s.pressure>"u"&&(s.pressure=s.force||.5),typeof s.twist>"u"&&(s.twist=0),typeof s.tangentialPressure>"u"&&(s.tangentialPressure=0),typeof s.layerX>"u"&&(s.layerX=s.offsetX=s.clientX),typeof s.layerY>"u"&&(s.layerY=s.offsetY=s.clientY),s.isNormalized=!0,s.type=e.type,t.push(s)}else if(!globalThis.MouseEvent||e instanceof MouseEvent&&(!this.supportsPointerEvents||!(e instanceof globalThis.PointerEvent))){const n=e;typeof n.isPrimary>"u"&&(n.isPrimary=!0),typeof n.width>"u"&&(n.width=1),typeof n.height>"u"&&(n.height=1),typeof n.tiltX>"u"&&(n.tiltX=0),typeof n.tiltY>"u"&&(n.tiltY=0),typeof n.pointerType>"u"&&(n.pointerType="mouse"),typeof n.pointerId>"u"&&(n.pointerId=CO),typeof n.pressure>"u"&&(n.pressure=.5),typeof n.twist>"u"&&(n.twist=0),typeof n.tangentialPressure>"u"&&(n.tangentialPressure=0),n.isNormalized=!0,t.push(n)}else t.push(e);return t}normalizeWheelEvent(e){const t=this.rootWheelEvent;return this.transferMouseData(t,e),t.deltaX=e.deltaX,t.deltaY=e.deltaY,t.deltaZ=e.deltaZ,t.deltaMode=e.deltaMode,this.mapPositionToPoint(t.screen,e.clientX,e.clientY),t.global.copyFrom(t.screen),t.offset.copyFrom(t.screen),t.nativeEvent=e,t.type=e.type,t}bootstrapEvent(e,t){return e.originalEvent=null,e.nativeEvent=t,e.pointerId=t.pointerId,e.width=t.width,e.height=t.height,e.isPrimary=t.isPrimary,e.pointerType=t.pointerType,e.pressure=t.pressure,e.tangentialPressure=t.tangentialPressure,e.tiltX=t.tiltX,e.tiltY=t.tiltY,e.twist=t.twist,this.transferMouseData(e,t),this.mapPositionToPoint(e.screen,t.clientX,t.clientY),e.global.copyFrom(e.screen),e.offset.copyFrom(e.screen),e.isTrusted=t.isTrusted,e.type==="pointerleave"&&(e.type="pointerout"),e.type.startsWith("mouse")&&(e.type=e.type.replace("mouse","pointer")),e.type.startsWith("touch")&&(e.type=PO[e.type]||e.type),e}transferMouseData(e,t){e.isTrusted=t.isTrusted,e.srcElement=t.srcElement,e.timeStamp=performance.now(),e.type=t.type,e.altKey=t.altKey,e.button=t.button,e.buttons=t.buttons,e.client.x=t.clientX,e.client.y=t.clientY,e.ctrlKey=t.ctrlKey,e.metaKey=t.metaKey,e.movement.x=t.movementX,e.movement.y=t.movementY,e.page.x=t.pageX,e.page.y=t.pageY,e.relatedTarget=null,e.shiftKey=t.shiftKey}};v_.extension={name:"events",type:[Ne.RendererSystem,Ne.CanvasRendererSystem]},v_.defaultEventFeatures={move:!0,globalMove:!0,click:!0,wheel:!0};let x_=v_;qe.add(x_);function lb(r){return r==="dynamic"||r==="static"}const RO={onclick:null,onmousedown:null,onmouseenter:null,onmouseleave:null,onmousemove:null,onglobalmousemove:null,onmouseout:null,onmouseover:null,onmouseup:null,onmouseupoutside:null,onpointercancel:null,onpointerdown:null,onpointerenter:null,onpointerleave:null,onpointermove:null,onglobalpointermove:null,onpointerout:null,onpointerover:null,onpointertap:null,onpointerup:null,onpointerupoutside:null,onrightclick:null,onrightdown:null,onrightup:null,onrightupoutside:null,ontap:null,ontouchcancel:null,ontouchend:null,ontouchendoutside:null,ontouchmove:null,onglobaltouchmove:null,ontouchstart:null,onwheel:null,_internalInteractive:void 0,get interactive(){return this._internalInteractive??lb(x_.defaultEventMode)},set interactive(r){mt("7.2.0","Setting interactive is deprecated, use eventMode = 'none'/'passive'/'auto'/'static'/'dynamic' instead."),this._internalInteractive=r,this.eventMode=r?"static":"auto"},_internalEventMode:void 0,get eventMode(){return this._internalEventMode??x_.defaultEventMode},set eventMode(r){this._internalInteractive=lb(r),this._internalEventMode=r},isInteractive(){return this.eventMode==="static"||this.eventMode==="dynamic"},interactiveChildren:!0,hitArea:null,addEventListener(r,e,t){const n=typeof t=="boolean"&&t||typeof t=="object"&&t.capture,i=typeof t=="object"?t.signal:void 0,s=typeof t=="object"?t.once===!0:!1,a=typeof e=="function"?void 0:e;r=n?`${r}capture`:r;const u=typeof e=="function"?e:e.handleEvent,c=this;i&&i.addEventListener("abort",()=>{c.off(r,u,a)}),s?c.once(r,u,a):c.on(r,u,a)},removeEventListener(r,e,t){const n=typeof t=="boolean"&&t||typeof t=="object"&&t.capture,i=typeof e=="function"?void 0:e;r=n?`${r}capture`:r,e=typeof e=="function"?e:e.handleEvent,this.off(r,e,i)},dispatchEvent(r){if(!(r instanceof yp))throw new Error("DisplayObject cannot propagate events outside of the Federated Events API");return r.defaultPrevented=!1,r.path=null,r.target=this,r.manager.dispatchEvent(r),!r.defaultPrevented}};Zt.mixin(RO);const IO={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1};Zt.mixin(IO);const kO=9,bm=100,MO=0,DO=0,ub=2,hb=1,OO=-1e3,NO=-1e3,FO=2;class QA{constructor(e){this.debug=!1,this._isActive=!1,this._isMobileAccessibility=!1,this.pool=[],this.renderId=0,this.children=[],this.androidUpdateCount=0,this.androidUpdateFrequency=500,this._hookDiv=null,(ca.tablet||ca.phone)&&this.createTouchHook();const t=document.createElement("div");t.style.width=`${bm}px`,t.style.height=`${bm}px`,t.style.position="absolute",t.style.top=`${MO}px`,t.style.left=`${DO}px`,t.style.zIndex=ub.toString(),this.div=t,this.renderer=e,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),globalThis.addEventListener("keydown",this._onKeyDown,!1)}get isActive(){return this._isActive}get isMobileAccessibility(){return this._isMobileAccessibility}createTouchHook(){const e=document.createElement("button");e.style.width=`${hb}px`,e.style.height=`${hb}px`,e.style.position="absolute",e.style.top=`${OO}px`,e.style.left=`${NO}px`,e.style.zIndex=FO.toString(),e.style.backgroundColor="#FF0000",e.title="select to enable accessibility for this content",e.addEventListener("focus",()=>{this._isMobileAccessibility=!0,this.activate(),this.destroyTouchHook()}),document.body.appendChild(e),this._hookDiv=e}destroyTouchHook(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)}activate(){var e;this._isActive||(this._isActive=!0,globalThis.document.addEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),(e=this.renderer.view.parentNode)==null||e.appendChild(this.div))}deactivate(){var e;!this._isActive||this._isMobileAccessibility||(this._isActive=!1,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),(e=this.div.parentNode)==null||e.removeChild(this.div))}updateAccessibleObjects(e){if(!e.visible||!e.accessibleChildren)return;e.accessible&&e.isInteractive()&&(e._accessibleActive||this.addChild(e),e.renderId=this.renderId);const t=e.children;if(t)for(let n=0;n<t.length;n++)this.updateAccessibleObjects(t[n])}update(){const e=performance.now();if(ca.android.device&&e<this.androidUpdateCount||(this.androidUpdateCount=e+this.androidUpdateFrequency,!this.renderer.renderingToScreen))return;this.renderer.lastObjectRendered&&this.updateAccessibleObjects(this.renderer.lastObjectRendered);const{x:t,y:n,width:i,height:s}=this.renderer.view.getBoundingClientRect(),{width:a,height:u,resolution:c}=this.renderer,f=i/a*c,m=s/u*c;let g=this.div;g.style.left=`${t}px`,g.style.top=`${n}px`,g.style.width=`${a}px`,g.style.height=`${u}px`;for(let v=0;v<this.children.length;v++){const x=this.children[v];if(x.renderId!==this.renderId)x._accessibleActive=!1,Vc(this.children,v,1),this.div.removeChild(x._accessibleDiv),this.pool.push(x._accessibleDiv),x._accessibleDiv=null,v--;else{g=x._accessibleDiv;let S=x.hitArea;const b=x.worldTransform;x.hitArea?(g.style.left=`${(b.tx+S.x*b.a)*f}px`,g.style.top=`${(b.ty+S.y*b.d)*m}px`,g.style.width=`${S.width*b.a*f}px`,g.style.height=`${S.height*b.d*m}px`):(S=x.getBounds(),this.capHitArea(S),g.style.left=`${S.x*f}px`,g.style.top=`${S.y*m}px`,g.style.width=`${S.width*f}px`,g.style.height=`${S.height*m}px`,g.title!==x.accessibleTitle&&x.accessibleTitle!==null&&(g.title=x.accessibleTitle),g.getAttribute("aria-label")!==x.accessibleHint&&x.accessibleHint!==null&&g.setAttribute("aria-label",x.accessibleHint)),(x.accessibleTitle!==g.title||x.tabIndex!==g.tabIndex)&&(g.title=x.accessibleTitle,g.tabIndex=x.tabIndex,this.debug&&this.updateDebugHTML(g))}}this.renderId++}updateDebugHTML(e){e.innerHTML=`type: ${e.type}</br> title : ${e.title}</br> tabIndex: ${e.tabIndex}`}capHitArea(e){e.x<0&&(e.width+=e.x,e.x=0),e.y<0&&(e.height+=e.y,e.y=0);const{width:t,height:n}=this.renderer;e.x+e.width>t&&(e.width=t-e.x),e.y+e.height>n&&(e.height=n-e.y)}addChild(e){let t=this.pool.pop();t||(t=document.createElement("button"),t.style.width=`${bm}px`,t.style.height=`${bm}px`,t.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",t.style.position="absolute",t.style.zIndex=ub.toString(),t.style.borderStyle="none",navigator.userAgent.toLowerCase().includes("chrome")?t.setAttribute("aria-live","off"):t.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?t.setAttribute("aria-relevant","additions"):t.setAttribute("aria-relevant","text"),t.addEventListener("click",this._onClick.bind(this)),t.addEventListener("focus",this._onFocus.bind(this)),t.addEventListener("focusout",this._onFocusOut.bind(this))),t.style.pointerEvents=e.accessiblePointerEvents,t.type=e.accessibleType,e.accessibleTitle&&e.accessibleTitle!==null?t.title=e.accessibleTitle:(!e.accessibleHint||e.accessibleHint===null)&&(t.title=`displayObject ${e.tabIndex}`),e.accessibleHint&&e.accessibleHint!==null&&t.setAttribute("aria-label",e.accessibleHint),this.debug&&this.updateDebugHTML(t),e._accessibleActive=!0,e._accessibleDiv=t,t.displayObject=e,this.children.push(e),this.div.appendChild(e._accessibleDiv),e._accessibleDiv.tabIndex=e.tabIndex}_dispatchEvent(e,t){const{displayObject:n}=e.target,i=this.renderer.events.rootBoundary,s=Object.assign(new yp(i),{target:n});i.rootTarget=this.renderer.lastObjectRendered,t.forEach(a=>i.dispatchEvent(s,a))}_onClick(e){this._dispatchEvent(e,["click","pointertap","tap"])}_onFocus(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","assertive"),this._dispatchEvent(e,["mouseover"])}_onFocusOut(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","polite"),this._dispatchEvent(e,["mouseout"])}_onKeyDown(e){e.keyCode===kO&&this.activate()}_onMouseMove(e){e.movementX===0&&e.movementY===0||this.deactivate()}destroy(){this.destroyTouchHook(),this.div=null,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null}}QA.extension={name:"accessibility",type:[Ne.RendererPlugin,Ne.CanvasRendererPlugin]};qe.add(QA);const ZA=class w_{constructor(e){this.stage=new Un,e=Object.assign({forceCanvas:!1},e),this.renderer=WD(e),w_._plugins.forEach(t=>{t.init.call(this,e)})}render(){this.renderer.render(this.stage)}get view(){var e;return(e=this.renderer)==null?void 0:e.view}get screen(){var e;return(e=this.renderer)==null?void 0:e.screen}destroy(e,t){const n=w_._plugins.slice(0);n.reverse(),n.forEach(i=>{i.destroy.call(this)}),this.stage.destroy(t),this.stage=null,this.renderer.destroy(e),this.renderer=null}};ZA._plugins=[];let Yg=ZA;qe.handleByList(Ne.Application,Yg._plugins);class JA{static init(e){Object.defineProperty(this,"resizeTo",{set(t){globalThis.removeEventListener("resize",this.queueResize),this._resizeTo=t,t&&(globalThis.addEventListener("resize",this.queueResize),this.resize())},get(){return this._resizeTo}}),this.queueResize=()=>{this._resizeTo&&(this.cancelResize(),this._resizeId=requestAnimationFrame(()=>this.resize()))},this.cancelResize=()=>{this._resizeId&&(cancelAnimationFrame(this._resizeId),this._resizeId=null)},this.resize=()=>{if(!this._resizeTo)return;this.cancelResize();let t,n;if(this._resizeTo===globalThis.window)t=globalThis.innerWidth,n=globalThis.innerHeight;else{const{clientWidth:i,clientHeight:s}=this._resizeTo;t=i,n=s}this.renderer.resize(t,n),this.render()},this._resizeId=null,this._resizeTo=null,this.resizeTo=e.resizeTo||null}static destroy(){globalThis.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null}}JA.extension=Ne.Application;qe.add(JA);const cb={loader:Ne.LoadParser,resolver:Ne.ResolveParser,cache:Ne.CacheParser,detection:Ne.DetectionParser};qe.handle(Ne.Asset,r=>{const e=r.ref;Object.entries(cb).filter(([t])=>!!e[t]).forEach(([t,n])=>qe.add(Object.assign(e[t],{extension:e[t].extension??n})))},r=>{const e=r.ref;Object.keys(cb).filter(t=>!!e[t]).forEach(t=>qe.remove(e[t]))});class LO{constructor(e,t=!1){this._loader=e,this._assetList=[],this._isLoading=!1,this._maxConcurrent=1,this.verbose=t}add(e){e.forEach(t=>{this._assetList.push(t)}),this.verbose&&console.log("[BackgroundLoader] assets: ",this._assetList),this._isActive&&!this._isLoading&&this._next()}async _next(){if(this._assetList.length&&this._isActive){this._isLoading=!0;const e=[],t=Math.min(this._assetList.length,this._maxConcurrent);for(let n=0;n<t;n++)e.push(this._assetList.pop());await this._loader.load(e),this._isLoading=!1,this._next()}}get active(){return this._isActive}set active(e){this._isActive!==e&&(this._isActive=e,e&&!this._isLoading&&this._next())}}function ld(r,e){if(Array.isArray(e)){for(const t of e)if(r.startsWith(`data:${t}`))return!0;return!1}return r.startsWith(`data:${e}`)}function Gl(r,e){const t=r.split("?")[0],n=Kr.extname(t).toLowerCase();return Array.isArray(e)?e.includes(n):n===e}const Ds=(r,e,t=!1)=>(Array.isArray(r)||(r=[r]),e?r.map(n=>typeof n=="string"||t?e(n):n):r),S_=(r,e)=>{const t=e.split("?")[1];return t&&(r+=`?${t}`),r};function eC(r,e,t,n,i){const s=e[t];for(let a=0;a<s.length;a++){const u=s[a];t<e.length-1?eC(r.replace(n[t],u),e,t+1,n,i):i.push(r.replace(n[t],u))}}function BO(r){const e=/\{(.*?)\}/g,t=r.match(e),n=[];if(t){const i=[];t.forEach(s=>{const a=s.substring(1,s.length-1).split(",");i.push(a)}),eC(r,i,0,t,n)}else n.push(r);return n}const gg=r=>!Array.isArray(r);class UO{constructor(){this._parsers=[],this._cache=new Map,this._cacheMap=new Map}reset(){this._cacheMap.clear(),this._cache.clear()}has(e){return this._cache.has(e)}get(e){const t=this._cache.get(e);return t||console.warn(`[Assets] Asset id ${e} was not found in the Cache`),t}set(e,t){const n=Ds(e);let i;for(let u=0;u<this.parsers.length;u++){const c=this.parsers[u];if(c.test(t)){i=c.getCacheableAssets(n,t);break}}i||(i={},n.forEach(u=>{i[u]=t}));const s=Object.keys(i),a={cacheKeys:s,keys:n};if(n.forEach(u=>{this._cacheMap.set(u,a)}),s.forEach(u=>{this._cache.has(u)&&this._cache.get(u)!==t&&console.warn("[Cache] already has key:",u),this._cache.set(u,i[u])}),t instanceof Oe){const u=t;n.forEach(c=>{u.baseTexture!==Oe.EMPTY.baseTexture&&lt.addToCache(u.baseTexture,c),Oe.addToCache(u,c)})}}remove(e){if(!this._cacheMap.has(e)){console.warn(`[Assets] Asset id ${e} was not found in the Cache`);return}const t=this._cacheMap.get(e);t.cacheKeys.forEach(n=>{this._cache.delete(n)}),t.keys.forEach(n=>{this._cacheMap.delete(n)})}get parsers(){return this._parsers}}const oh=new UO;class zO{constructor(){this._parsers=[],this._parsersValidated=!1,this.parsers=new Proxy(this._parsers,{set:(e,t,n)=>(this._parsersValidated=!1,e[t]=n,!0)}),this.promiseCache={}}reset(){this._parsersValidated=!1,this.promiseCache={}}_getLoadPromiseAndParser(e,t){const n={promise:null,parser:null};return n.promise=(async()=>{var a,u;let i=null,s=null;if(t.loadParser&&(s=this._parserHash[t.loadParser],s||console.warn(`[Assets] specified load parser "${t.loadParser}" not found while loading ${e}`)),!s){for(let c=0;c<this.parsers.length;c++){const f=this.parsers[c];if(f.load&&((a=f.test)!=null&&a.call(f,e,t,this))){s=f;break}}if(!s)return console.warn(`[Assets] ${e} could not be loaded as we don't know how to parse it, ensure the correct parser has been added`),null}i=await s.load(e,t,this),n.parser=s;for(let c=0;c<this.parsers.length;c++){const f=this.parsers[c];f.parse&&f.parse&&await((u=f.testParse)==null?void 0:u.call(f,i,t,this))&&(i=await f.parse(i,t,this)||i,n.parser=f)}return i})(),n}async load(e,t){this._parsersValidated||this._validateParsers();let n=0;const i={},s=gg(e),a=Ds(e,f=>({alias:[f],src:f})),u=a.length,c=a.map(async f=>{const m=Kr.toAbsolute(f.src);if(!i[f.src])try{this.promiseCache[m]||(this.promiseCache[m]=this._getLoadPromiseAndParser(m,f)),i[f.src]=await this.promiseCache[m].promise,t&&t(++n/u)}catch(g){throw delete this.promiseCache[m],delete i[f.src],new Error(`[Loader.load] Failed to load ${m}.
${g}`)}});return await Promise.all(c),s?i[a[0].src]:i}async unload(e){const t=Ds(e,n=>({alias:[n],src:n})).map(async n=>{var a,u;const i=Kr.toAbsolute(n.src),s=this.promiseCache[i];if(s){const c=await s.promise;delete this.promiseCache[i],(u=(a=s.parser)==null?void 0:a.unload)==null||u.call(a,c,n,this)}});await Promise.all(t)}_validateParsers(){this._parsersValidated=!0,this._parserHash=this._parsers.filter(e=>e.name).reduce((e,t)=>(e[t.name]&&console.warn(`[Assets] loadParser name conflict "${t.name}"`),{...e,[t.name]:t}),{})}}var zs=(r=>(r[r.Low=0]="Low",r[r.Normal=1]="Normal",r[r.High=2]="High",r))(zs||{});const VO=".json",GO="application/json",jO={extension:{type:Ne.LoadParser,priority:zs.Low},name:"loadJson",test(r){return ld(r,GO)||Gl(r,VO)},async load(r){return await(await Ue.ADAPTER.fetch(r)).json()}};qe.add(jO);const HO=".txt",$O="text/plain",WO={name:"loadTxt",extension:{type:Ne.LoadParser,priority:zs.Low},test(r){return ld(r,$O)||Gl(r,HO)},async load(r){return await(await Ue.ADAPTER.fetch(r)).text()}};qe.add(WO);const XO=["normal","bold","100","200","300","400","500","600","700","800","900"],YO=[".ttf",".otf",".woff",".woff2"],qO=["font/ttf","font/otf","font/woff","font/woff2"],KO=/^(--|-?[A-Z_])[0-9A-Z_-]*$/i;function QO(r){const e=Kr.extname(r),t=Kr.basename(r,e).replace(/(-|_)/g," ").toLowerCase().split(" ").map(s=>s.charAt(0).toUpperCase()+s.slice(1));let n=t.length>0;for(const s of t)if(!s.match(KO)){n=!1;break}let i=t.join(" ");return n||(i=`"${i.replace(/[\\"]/g,"\\$&")}"`),i}const ZO=/^[0-9A-Za-z%:/?#\[\]@!\$&'()\*\+,;=\-._~]*$/;function JO(r){return ZO.test(r)?r:encodeURI(r)}const eN={extension:{type:Ne.LoadParser,priority:zs.Low},name:"loadWebFont",test(r){return ld(r,qO)||Gl(r,YO)},async load(r,e){var n,i,s;const t=Ue.ADAPTER.getFontFaceSet();if(t){const a=[],u=((n=e.data)==null?void 0:n.family)??QO(r),c=((s=(i=e.data)==null?void 0:i.weights)==null?void 0:s.filter(m=>XO.includes(m)))??["normal"],f=e.data??{};for(let m=0;m<c.length;m++){const g=c[m],v=new FontFace(u,`url(${JO(r)})`,{...f,weight:g});await v.load(),t.add(v),a.push(v)}return a.length===1?a[0]:a}return console.warn("[loadWebFont] FontFace API is not supported. Skipping loading font"),null},unload(r){(Array.isArray(r)?r:[r]).forEach(e=>Ue.ADAPTER.getFontFaceSet().delete(e))}};qe.add(eN);const tN=`(function() {
  "use strict";
  const WHITE_PNG = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII=";
  async function checkImageBitmap() {
    try {
      if (typeof createImageBitmap != "function")
        return !1;
      const imageBlob = await (await fetch(WHITE_PNG)).blob(), imageBitmap = await createImageBitmap(imageBlob);
      return imageBitmap.width === 1 && imageBitmap.height === 1;
    } catch {
      return !1;
    }
  }
  checkImageBitmap().then((result) => {
    self.postMessage(result);
  });
})();
`;let Hc=null,b_=class{constructor(){Hc||(Hc=URL.createObjectURL(new Blob([tN],{type:"application/javascript"}))),this.worker=new Worker(Hc)}};b_.revokeObjectURL=function(){Hc&&(URL.revokeObjectURL(Hc),Hc=null)};const rN=`(function() {
  "use strict";
  async function loadImageBitmap(url) {
    const response = await fetch(url);
    if (!response.ok)
      throw new Error(\`[WorkerManager.loadImageBitmap] Failed to fetch \${url}: \${response.status} \${response.statusText}\`);
    const imageBlob = await response.blob();
    return await createImageBitmap(imageBlob);
  }
  self.onmessage = async (event) => {
    try {
      const imageBitmap = await loadImageBitmap(event.data.data[0]);
      self.postMessage({
        data: imageBitmap,
        uuid: event.data.uuid,
        id: event.data.id
      }, [imageBitmap]);
    } catch (e) {
      self.postMessage({
        error: e,
        uuid: event.data.uuid,
        id: event.data.id
      });
    }
  };
})();
`;let $c=null;class tC{constructor(){$c||($c=URL.createObjectURL(new Blob([rN],{type:"application/javascript"}))),this.worker=new Worker($c)}}tC.revokeObjectURL=function(){$c&&(URL.revokeObjectURL($c),$c=null)};let db=0,f0;class nN{constructor(){this._initialized=!1,this._createdWorkers=0,this.workerPool=[],this.queue=[],this.resolveHash={}}isImageBitmapSupported(){return this._isImageBitmapSupported!==void 0?this._isImageBitmapSupported:(this._isImageBitmapSupported=new Promise(e=>{const{worker:t}=new b_;t.addEventListener("message",n=>{t.terminate(),b_.revokeObjectURL(),e(n.data)})}),this._isImageBitmapSupported)}loadImageBitmap(e){return this._run("loadImageBitmap",[e])}async _initWorkers(){this._initialized||(this._initialized=!0)}getWorker(){f0===void 0&&(f0=navigator.hardwareConcurrency||4);let e=this.workerPool.pop();return!e&&this._createdWorkers<f0&&(this._createdWorkers++,e=new tC().worker,e.addEventListener("message",t=>{this.complete(t.data),this.returnWorker(t.target),this.next()})),e}returnWorker(e){this.workerPool.push(e)}complete(e){e.error!==void 0?this.resolveHash[e.uuid].reject(e.error):this.resolveHash[e.uuid].resolve(e.data),this.resolveHash[e.uuid]=null}async _run(e,t){await this._initWorkers();const n=new Promise((i,s)=>{this.queue.push({id:e,arguments:t,resolve:i,reject:s})});return this.next(),n}next(){if(!this.queue.length)return;const e=this.getWorker();if(!e)return;const t=this.queue.pop(),n=t.id;this.resolveHash[db]={resolve:t.resolve,reject:t.reject},e.postMessage({data:t.arguments,uuid:db++,id:n})}}const fb=new nN;function vp(r,e,t){r.resource.internal=!0;const n=new Oe(r),i=()=>{delete e.promiseCache[t],oh.has(t)&&oh.remove(t)};return n.baseTexture.once("destroyed",()=>{t in e.promiseCache&&(console.warn("[Assets] A BaseTexture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the BaseTexture."),i())}),n.once("destroyed",()=>{r.destroyed||(console.warn("[Assets] A Texture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the Texture."),i())}),n}const iN=[".jpeg",".jpg",".png",".webp",".avif"],sN=["image/jpeg","image/png","image/webp","image/avif"];async function oN(r){const e=await Ue.ADAPTER.fetch(r);if(!e.ok)throw new Error(`[loadImageBitmap] Failed to fetch ${r}: ${e.status} ${e.statusText}`);const t=await e.blob();return await createImageBitmap(t)}const qg={name:"loadTextures",extension:{type:Ne.LoadParser,priority:zs.High},config:{preferWorkers:!0,preferCreateImageBitmap:!0,crossOrigin:"anonymous"},test(r){return ld(r,sN)||Gl(r,iN)},async load(r,e,t){var u;const n=globalThis.createImageBitmap&&this.config.preferCreateImageBitmap;let i;n?this.config.preferWorkers&&await fb.isImageBitmapSupported()?i=await fb.loadImageBitmap(r):i=await oN(r):i=await new Promise((c,f)=>{const m=new Image;m.crossOrigin=this.config.crossOrigin,m.src=r,m.complete?c(m):(m.onload=()=>c(m),m.onerror=g=>f(g))});const s={...e.data};s.resolution??(s.resolution=ya(r)),n&&((u=s.resourceOptions)==null?void 0:u.ownsImageBitmap)===void 0&&(s.resourceOptions={...s.resourceOptions},s.resourceOptions.ownsImageBitmap=!0);const a=new lt(i,s);return a.resource.src=r,vp(a,t,r)},unload(r){r.destroy(!0)}};qe.add(qg);const aN=".svg",lN="image/svg+xml",uN={extension:{type:Ne.LoadParser,priority:zs.High},name:"loadSVG",test(r){return ld(r,lN)||Gl(r,aN)},async testParse(r){return d_.test(r)},async parse(r,e,t){var s;const n=new d_(r,(s=e==null?void 0:e.data)==null?void 0:s.resourceOptions);await n.load();const i=new lt(n,{resolution:ya(r),...e==null?void 0:e.data});return i.resource.src=e.src,vp(i,t,e.src)},async load(r,e){return(await Ue.ADAPTER.fetch(r)).text()},unload:qg.unload};qe.add(uN);const hN=[".mp4",".m4v",".webm",".ogv"],cN=["video/mp4","video/webm","video/ogg"],dN={name:"loadVideo",extension:{type:Ne.LoadParser,priority:zs.High},config:{defaultAutoPlay:!0,defaultUpdateFPS:0,defaultLoop:!1,defaultMuted:!1,defaultPlaysinline:!0},test(r){return ld(r,cN)||Gl(r,hN)},async load(r,e,t){var a;let n;const i=await(await Ue.ADAPTER.fetch(r)).blob(),s=URL.createObjectURL(i);try{const u={autoPlay:this.config.defaultAutoPlay,updateFPS:this.config.defaultUpdateFPS,loop:this.config.defaultLoop,muted:this.config.defaultMuted,playsinline:this.config.defaultPlaysinline,...(a=e==null?void 0:e.data)==null?void 0:a.resourceOptions,autoLoad:!0},c=new YA(s,u);await c.load();const f=new lt(c,{alphaMode:await v2(),resolution:ya(r),...e==null?void 0:e.data});f.resource.src=r,n=vp(f,t,r),n.baseTexture.once("destroyed",()=>{URL.revokeObjectURL(s)})}catch(u){throw URL.revokeObjectURL(s),u}return n},unload(r){r.destroy(!0)}};qe.add(dN);class fN{constructor(){this._defaultBundleIdentifierOptions={connector:"-",createBundleAssetId:(e,t)=>`${e}${this._bundleIdConnector}${t}`,extractAssetIdFromBundle:(e,t)=>t.replace(`${e}${this._bundleIdConnector}`,"")},this._bundleIdConnector=this._defaultBundleIdentifierOptions.connector,this._createBundleAssetId=this._defaultBundleIdentifierOptions.createBundleAssetId,this._extractAssetIdFromBundle=this._defaultBundleIdentifierOptions.extractAssetIdFromBundle,this._assetMap={},this._preferredOrder=[],this._parsers=[],this._resolverHash={},this._bundles={}}setBundleIdentifier(e){if(this._bundleIdConnector=e.connector??this._bundleIdConnector,this._createBundleAssetId=e.createBundleAssetId??this._createBundleAssetId,this._extractAssetIdFromBundle=e.extractAssetIdFromBundle??this._extractAssetIdFromBundle,this._extractAssetIdFromBundle("foo",this._createBundleAssetId("foo","bar"))!=="bar")throw new Error("[Resolver] GenerateBundleAssetId are not working correctly")}prefer(...e){e.forEach(t=>{this._preferredOrder.push(t),t.priority||(t.priority=Object.keys(t.params))}),this._resolverHash={}}set basePath(e){this._basePath=e}get basePath(){return this._basePath}set rootPath(e){this._rootPath=e}get rootPath(){return this._rootPath}get parsers(){return this._parsers}reset(){this.setBundleIdentifier(this._defaultBundleIdentifierOptions),this._assetMap={},this._preferredOrder=[],this._resolverHash={},this._rootPath=null,this._basePath=null,this._manifest=null,this._bundles={},this._defaultSearchParams=null}setDefaultSearchParams(e){if(typeof e=="string")this._defaultSearchParams=e;else{const t=e;this._defaultSearchParams=Object.keys(t).map(n=>`${encodeURIComponent(n)}=${encodeURIComponent(t[n])}`).join("&")}}getAlias(e){const{alias:t,name:n,src:i,srcs:s}=e;return Ds(t||n||i||s,a=>typeof a=="string"?a:Array.isArray(a)?a.map(u=>(u==null?void 0:u.src)??(u==null?void 0:u.srcs)??u):a!=null&&a.src||a!=null&&a.srcs?a.src??a.srcs:a,!0)}addManifest(e){this._manifest&&console.warn("[Resolver] Manifest already exists, this will be overwritten"),this._manifest=e,e.bundles.forEach(t=>{this.addBundle(t.name,t.assets)})}addBundle(e,t){const n=[];Array.isArray(t)?t.forEach(i=>{const s=i.src??i.srcs,a=i.alias??i.name;let u;if(typeof a=="string"){const c=this._createBundleAssetId(e,a);n.push(c),u=[a,c]}else{const c=a.map(f=>this._createBundleAssetId(e,f));n.push(...c),u=[...a,...c]}this.add({...i,alias:u,src:s})}):Object.keys(t).forEach(i=>{const s=[i,this._createBundleAssetId(e,i)];if(typeof t[i]=="string")this.add({alias:s,src:t[i]});else if(Array.isArray(t[i]))this.add({alias:s,src:t[i]});else{const a=t[i],u=a.src??a.srcs;this.add({...a,alias:s,src:Array.isArray(u)?u:[u]})}n.push(...s)}),this._bundles[e]=n}add(e,t,n,i,s){const a=[];typeof e=="string"||Array.isArray(e)&&typeof e[0]=="string"?(mt("7.2.0",`Assets.add now uses an object instead of individual parameters.
Please use Assets.add({ alias, src, data, format, loadParser }) instead.`),a.push({alias:e,src:t,data:n,format:i,loadParser:s})):Array.isArray(e)?a.push(...e):a.push(e);let u;u=c=>{this.hasKey(c)&&console.warn(`[Resolver] already has key: ${c} overwriting`)},Ds(a).forEach(c=>{const{src:f,srcs:m}=c;let{data:g,format:v,loadParser:x}=c;const S=Ds(f||m).map(P=>typeof P=="string"?BO(P):Array.isArray(P)?P:[P]),b=this.getAlias(c);Array.isArray(b)?b.forEach(u):u(b);const E=[];S.forEach(P=>{P.forEach(k=>{let R={};if(typeof k!="object"){R.src=k;for(let L=0;L<this._parsers.length;L++){const D=this._parsers[L];if(D.test(k)){R=D.parse(k);break}}}else g=k.data??g,v=k.format??v,x=k.loadParser??x,R={...R,...k};if(!b)throw new Error(`[Resolver] alias is undefined for this asset: ${R.src}`);R=this.buildResolvedAsset(R,{aliases:b,data:g,format:v,loadParser:x}),E.push(R)})}),b.forEach(P=>{this._assetMap[P]=E})})}resolveBundle(e){const t=gg(e);e=Ds(e);const n={};return e.forEach(i=>{const s=this._bundles[i];if(s){const a=this.resolve(s),u={};for(const c in a){const f=a[c];u[this._extractAssetIdFromBundle(i,c)]=f}n[i]=u}}),t?n[e[0]]:n}resolveUrl(e){const t=this.resolve(e);if(typeof e!="string"){const n={};for(const i in t)n[i]=t[i].src;return n}return t.src}resolve(e){const t=gg(e);e=Ds(e);const n={};return e.forEach(i=>{if(!this._resolverHash[i])if(this._assetMap[i]){let s=this._assetMap[i];const a=s[0],u=this._getPreferredOrder(s);u==null||u.priority.forEach(c=>{u.params[c].forEach(f=>{const m=s.filter(g=>g[c]?g[c]===f:!1);m.length&&(s=m)})}),this._resolverHash[i]=s[0]??a}else this._resolverHash[i]=this.buildResolvedAsset({alias:[i],src:i},{});n[i]=this._resolverHash[i]}),t?n[e[0]]:n}hasKey(e){return!!this._assetMap[e]}hasBundle(e){return!!this._bundles[e]}_getPreferredOrder(e){for(let t=0;t<e.length;t++){const n=e[0],i=this._preferredOrder.find(s=>s.params.format.includes(n.format));if(i)return i}return this._preferredOrder[0]}_appendDefaultSearchParams(e){if(!this._defaultSearchParams)return e;const t=/\?/.test(e)?"&":"?";return`${e}${t}${this._defaultSearchParams}`}buildResolvedAsset(e,t){const{aliases:n,data:i,loadParser:s,format:a}=t;return(this._basePath||this._rootPath)&&(e.src=Kr.toAbsolute(e.src,this._basePath,this._rootPath)),e.alias=n??e.alias??[e.src],e.src=this._appendDefaultSearchParams(e.src),e.data={...i||{},...e.data},e.loadParser=s??e.loadParser,e.format=a??e.format??Kr.extname(e.src).slice(1),e.srcs=e.src,e.name=e.alias,e}}class pN{constructor(){this._detections=[],this._initialized=!1,this.resolver=new fN,this.loader=new zO,this.cache=oh,this._backgroundLoader=new LO(this.loader),this._backgroundLoader.active=!0,this.reset()}async init(e={}){var s,a;if(this._initialized){console.warn("[Assets]AssetManager already initialized, did you load before calling this Assets.init()?");return}if(this._initialized=!0,e.defaultSearchParams&&this.resolver.setDefaultSearchParams(e.defaultSearchParams),e.basePath&&(this.resolver.basePath=e.basePath),e.bundleIdentifier&&this.resolver.setBundleIdentifier(e.bundleIdentifier),e.manifest){let u=e.manifest;typeof u=="string"&&(u=await this.load(u)),this.resolver.addManifest(u)}const t=((s=e.texturePreference)==null?void 0:s.resolution)??1,n=typeof t=="number"?[t]:t,i=await this._detectFormats({preferredFormats:(a=e.texturePreference)==null?void 0:a.format,skipDetections:e.skipDetections,detections:this._detections});this.resolver.prefer({params:{format:i,resolution:n}}),e.preferences&&this.setPreferences(e.preferences)}add(e,t,n,i,s){this.resolver.add(e,t,n,i,s)}async load(e,t){this._initialized||await this.init();const n=gg(e),i=Ds(e).map(u=>{if(typeof u!="string"){const c=this.resolver.getAlias(u);return c.some(f=>!this.resolver.hasKey(f))&&this.add(u),Array.isArray(c)?c[0]:c}return this.resolver.hasKey(u)||this.add({alias:u,src:u}),u}),s=this.resolver.resolve(i),a=await this._mapLoadToResolve(s,t);return n?a[i[0]]:a}addBundle(e,t){this.resolver.addBundle(e,t)}async loadBundle(e,t){this._initialized||await this.init();let n=!1;typeof e=="string"&&(n=!0,e=[e]);const i=this.resolver.resolveBundle(e),s={},a=Object.keys(i);let u=0,c=0;const f=()=>{t==null||t(++u/c)},m=a.map(g=>{const v=i[g];return c+=Object.keys(v).length,this._mapLoadToResolve(v,f).then(x=>{s[g]=x})});return await Promise.all(m),n?s[e[0]]:s}async backgroundLoad(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const t=this.resolver.resolve(e);this._backgroundLoader.add(Object.values(t))}async backgroundLoadBundle(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const t=this.resolver.resolveBundle(e);Object.values(t).forEach(n=>{this._backgroundLoader.add(Object.values(n))})}reset(){this.resolver.reset(),this.loader.reset(),this.cache.reset(),this._initialized=!1}get(e){if(typeof e=="string")return oh.get(e);const t={};for(let n=0;n<e.length;n++)t[n]=oh.get(e[n]);return t}async _mapLoadToResolve(e,t){const n=Object.values(e),i=Object.keys(e);this._backgroundLoader.active=!1;const s=await this.loader.load(n,t);this._backgroundLoader.active=!0;const a={};return n.forEach((u,c)=>{const f=s[u.src],m=[u.src];u.alias&&m.push(...u.alias),a[i[c]]=f,oh.set(m,f)}),a}async unload(e){this._initialized||await this.init();const t=Ds(e).map(i=>typeof i!="string"?i.src:i),n=this.resolver.resolve(t);await this._unloadFromResolved(n)}async unloadBundle(e){this._initialized||await this.init(),e=Ds(e);const t=this.resolver.resolveBundle(e),n=Object.keys(t).map(i=>this._unloadFromResolved(t[i]));await Promise.all(n)}async _unloadFromResolved(e){const t=Object.values(e);t.forEach(n=>{oh.remove(n.src)}),await this.loader.unload(t)}async _detectFormats(e){let t=[];e.preferredFormats&&(t=Array.isArray(e.preferredFormats)?e.preferredFormats:[e.preferredFormats]);for(const n of e.detections)e.skipDetections||await n.test()?t=await n.add(t):e.skipDetections||(t=await n.remove(t));return t=t.filter((n,i)=>t.indexOf(n)===i),t}get detections(){return this._detections}get preferWorkers(){return qg.config.preferWorkers}set preferWorkers(e){mt("7.2.0","Assets.prefersWorkers is deprecated, use Assets.setPreferences({ preferWorkers: true }) instead."),this.setPreferences({preferWorkers:e})}setPreferences(e){this.loader.parsers.forEach(t=>{t.config&&Object.keys(t.config).filter(n=>n in e).forEach(n=>{t.config[n]=e[n]})})}}const Tm=new pN;qe.handleByList(Ne.LoadParser,Tm.loader.parsers).handleByList(Ne.ResolveParser,Tm.resolver.parsers).handleByList(Ne.CacheParser,Tm.cache.parsers).handleByList(Ne.DetectionParser,Tm.detections);const mN={extension:Ne.CacheParser,test:r=>Array.isArray(r)&&r.every(e=>e instanceof Oe),getCacheableAssets:(r,e)=>{const t={};return r.forEach(n=>{e.forEach((i,s)=>{t[n+(s===0?"":s+1)]=i})}),t}};qe.add(mN);async function rC(r){if("Image"in globalThis)return new Promise(e=>{const t=new Image;t.onload=()=>{e(!0)},t.onerror=()=>{e(!1)},t.src=r});if("createImageBitmap"in globalThis&&"fetch"in globalThis){try{const e=await(await fetch(r)).blob();await createImageBitmap(e)}catch{return!1}return!0}return!1}const gN={extension:{type:Ne.DetectionParser,priority:1},test:async()=>rC("data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A="),add:async r=>[...r,"avif"],remove:async r=>r.filter(e=>e!=="avif")};qe.add(gN);const yN={extension:{type:Ne.DetectionParser,priority:0},test:async()=>rC("data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA="),add:async r=>[...r,"webp"],remove:async r=>r.filter(e=>e!=="webp")};qe.add(yN);const pb=["png","jpg","jpeg"],vN={extension:{type:Ne.DetectionParser,priority:-1},test:()=>Promise.resolve(!0),add:async r=>[...r,...pb],remove:async r=>r.filter(e=>!pb.includes(e))};qe.add(vN);const _N="WorkerGlobalScope"in globalThis&&globalThis instanceof globalThis.WorkerGlobalScope;function Rx(r){return _N?!1:document.createElement("video").canPlayType(r)!==""}const xN={extension:{type:Ne.DetectionParser,priority:0},test:async()=>Rx("video/webm"),add:async r=>[...r,"webm"],remove:async r=>r.filter(e=>e!=="webm")};qe.add(xN);const wN={extension:{type:Ne.DetectionParser,priority:0},test:async()=>Rx("video/mp4"),add:async r=>[...r,"mp4","m4v"],remove:async r=>r.filter(e=>e!=="mp4"&&e!=="m4v")};qe.add(wN);const SN={extension:{type:Ne.DetectionParser,priority:0},test:async()=>Rx("video/ogg"),add:async r=>[...r,"ogv"],remove:async r=>r.filter(e=>e!=="ogv")};qe.add(SN);const bN={extension:Ne.ResolveParser,test:qg.test,parse:r=>{var e;return{resolution:parseFloat(((e=Ue.RETINA_PREFIX.exec(r))==null?void 0:e[1])??"1"),format:Kr.extname(r).slice(1),src:r}}};qe.add(bN);var nn=(r=>(r[r.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",r[r.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",r[r.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",r[r.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",r[r.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",r[r.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",r[r.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",r[r.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",r[r.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",r[r.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",r[r.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",r[r.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",r[r.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",r[r.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",r[r.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",r[r.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",r[r.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",r[r.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",r[r.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",r[r.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",r[r.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",r[r.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",r[r.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",r[r.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",r[r.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35987]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",r[r.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL",r[r.COMPRESSED_RGBA_ASTC_4x4_KHR=37808]="COMPRESSED_RGBA_ASTC_4x4_KHR",r[r.COMPRESSED_RGBA_BPTC_UNORM_EXT=36492]="COMPRESSED_RGBA_BPTC_UNORM_EXT",r[r.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT=36493]="COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT",r[r.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT=36494]="COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT",r[r.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT=36495]="COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT",r))(nn||{});const yg={33776:.5,33777:.5,33778:1,33779:1,35916:.5,35917:.5,35918:1,35919:1,37488:.5,37489:.5,37490:1,37491:1,37492:.5,37496:1,37493:.5,37497:1,37494:.5,37495:.5,35840:.5,35842:.5,35841:.25,35843:.25,36196:.5,35986:.5,35987:1,34798:1,37808:1,36492:1,36493:1,36494:1,36495:1};let fo,Pc;function mb(){Pc={bptc:fo.getExtension("EXT_texture_compression_bptc"),astc:fo.getExtension("WEBGL_compressed_texture_astc"),etc:fo.getExtension("WEBGL_compressed_texture_etc"),s3tc:fo.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:fo.getExtension("WEBGL_compressed_texture_s3tc_srgb"),pvrtc:fo.getExtension("WEBGL_compressed_texture_pvrtc")||fo.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),etc1:fo.getExtension("WEBGL_compressed_texture_etc1"),atc:fo.getExtension("WEBGL_compressed_texture_atc")}}const TN={extension:{type:Ne.DetectionParser,priority:2},test:async()=>{const r=Ue.ADAPTER.createCanvas().getContext("webgl");return r?(fo=r,!0):(console.warn("WebGL not available for compressed textures."),!1)},add:async r=>{Pc||mb();const e=[];for(const t in Pc)Pc[t]&&e.push(t);return[...e,...r]},remove:async r=>(Pc||mb(),r.filter(e=>!(e in Pc)))};qe.add(TN);class EN extends Gg{constructor(e,t={width:1,height:1,autoLoad:!0}){let n,i;typeof e=="string"?(n=e,i=new Uint8Array):(n=null,i=e),super(i,t),this.origin=n,this.buffer=i?new J0(i):null,this._load=null,this.loaded=!1,this.origin!==null&&t.autoLoad!==!1&&this.load(),this.origin===null&&this.buffer&&(this._load=Promise.resolve(this),this.loaded=!0,this.onBlobLoaded(this.buffer.rawBinaryData))}onBlobLoaded(e){}load(){return this._load?this._load:(this._load=fetch(this.origin).then(e=>e.blob()).then(e=>e.arrayBuffer()).then(e=>(this.data=new Uint32Array(e),this.buffer=new J0(e),this.loaded=!0,this.onBlobLoaded(e),this.update(),this)),this._load)}}class hh extends EN{constructor(e,t){super(e,t),this.format=t.format,this.levels=t.levels||1,this._width=t.width,this._height=t.height,this._extension=hh._formatToExtension(this.format),(t.levelBuffers||this.buffer)&&(this._levelBuffers=t.levelBuffers||hh._createLevelBuffers(e instanceof Uint8Array?e:this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height))}upload(e,t,n){const i=e.gl;if(!e.context.extensions[this._extension])throw new Error(`${this._extension} textures are not supported on the current machine`);if(!this._levelBuffers)return!1;i.pixelStorei(i.UNPACK_ALIGNMENT,4);for(let s=0,a=this.levels;s<a;s++){const{levelID:u,levelWidth:c,levelHeight:f,levelBuffer:m}=this._levelBuffers[s];i.compressedTexImage2D(i.TEXTURE_2D,u,this.format,c,f,0,m)}return!0}onBlobLoaded(){this._levelBuffers=hh._createLevelBuffers(this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height)}static _formatToExtension(e){if(e>=33776&&e<=33779)return"s3tc";if(e>=35916&&e<=35919)return"s3tc_sRGB";if(e>=37488&&e<=37497)return"etc";if(e>=35840&&e<=35843)return"pvrtc";if(e===36196)return"etc1";if(e===35986||e===35987||e===34798)return"atc";if(e>=36492&&e<=36495)return"bptc";if(e===37808)return"astc";throw new Error(`Invalid (compressed) texture format given: ${e}`)}static _createLevelBuffers(e,t,n,i,s,a,u){const c=new Array(n);let f=e.byteOffset,m=a,g=u,v=m+i-1&~(i-1),x=g+s-1&~(s-1),S=v*x*yg[t];for(let b=0;b<n;b++)c[b]={levelID:b,levelWidth:n>1?m:v,levelHeight:n>1?g:x,levelBuffer:new Uint8Array(e.buffer,f,S)},f+=S,m=m>>1||1,g=g>>1||1,v=m+i-1&~(i-1),x=g+s-1&~(s-1),S=v*x*yg[t];return c}}const p0=4,Em=124,AN=32,gb=20,CN=542327876,Am={HEIGHT:3,WIDTH:4,MIPMAP_COUNT:7,PIXEL_FORMAT:19},PN={FOURCC:2},Cm={DXGI_FORMAT:0,RESOURCE_DIMENSION:1,MISC_FLAG:2,ARRAY_SIZE:3},RN=1,IN=2,kN=4,MN=64,DN=512,ON=131072,NN=827611204,FN=861165636,LN=894720068,BN=808540228,UN=4,zN={[NN]:nn.COMPRESSED_RGBA_S3TC_DXT1_EXT,[FN]:nn.COMPRESSED_RGBA_S3TC_DXT3_EXT,[LN]:nn.COMPRESSED_RGBA_S3TC_DXT5_EXT},VN={70:nn.COMPRESSED_RGBA_S3TC_DXT1_EXT,71:nn.COMPRESSED_RGBA_S3TC_DXT1_EXT,73:nn.COMPRESSED_RGBA_S3TC_DXT3_EXT,74:nn.COMPRESSED_RGBA_S3TC_DXT3_EXT,76:nn.COMPRESSED_RGBA_S3TC_DXT5_EXT,77:nn.COMPRESSED_RGBA_S3TC_DXT5_EXT,72:nn.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,75:nn.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,78:nn.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT,96:nn.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT,95:nn.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT,98:nn.COMPRESSED_RGBA_BPTC_UNORM_EXT,99:nn.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT};function GN(r){const e=new Uint32Array(r);if(e[0]!==CN)throw new Error("Invalid DDS file magic word");const t=new Uint32Array(r,0,Em/Uint32Array.BYTES_PER_ELEMENT),n=t[Am.HEIGHT],i=t[Am.WIDTH],s=t[Am.MIPMAP_COUNT],a=new Uint32Array(r,Am.PIXEL_FORMAT*Uint32Array.BYTES_PER_ELEMENT,AN/Uint32Array.BYTES_PER_ELEMENT),u=a[RN];if(u&kN){const c=a[PN.FOURCC];if(c!==BN){const k=zN[c],R=p0+Em,L=new Uint8Array(r,R);return[new hh(L,{format:k,width:i,height:n,levels:s})]}const f=p0+Em,m=new Uint32Array(e.buffer,f,gb/Uint32Array.BYTES_PER_ELEMENT),g=m[Cm.DXGI_FORMAT],v=m[Cm.RESOURCE_DIMENSION],x=m[Cm.MISC_FLAG],S=m[Cm.ARRAY_SIZE],b=VN[g];if(b===void 0)throw new Error(`DDSParser cannot parse texture data with DXGI format ${g}`);if(x===UN)throw new Error("DDSParser does not support cubemap textures");if(v===6)throw new Error("DDSParser does not supported 3D texture data");const E=new Array,P=p0+Em+gb;if(S===1)E.push(new Uint8Array(r,P));else{const k=yg[b];let R=0,L=i,D=n;for(let N=0;N<s;N++){const G=Math.max(1,L+3&-4),X=Math.max(1,D+3&-4),re=G*X*k;R+=re,L=L>>>1,D=D>>>1}let H=P;for(let N=0;N<S;N++)E.push(new Uint8Array(r,H,R)),H+=R}return E.map(k=>new hh(k,{format:b,width:i,height:n,levels:s}))}throw u&MN?new Error("DDSParser does not support uncompressed texture data."):u&DN?new Error("DDSParser does not supported YUV uncompressed texture data."):u&ON?new Error("DDSParser does not support single-channel (lumninance) texture data!"):u&IN?new Error("DDSParser does not support single-channel (alpha) texture data!"):new Error("DDSParser failed to load a texture file due to an unknown reason!")}const yb=[171,75,84,88,32,49,49,187,13,10,26,10],jN=67305985,Rs={ENDIANNESS:12,GL_TYPE:16,GL_FORMAT:24,GL_INTERNAL_FORMAT:28,PIXEL_WIDTH:36,PIXEL_HEIGHT:40,PIXEL_DEPTH:44,NUMBER_OF_ARRAY_ELEMENTS:48,NUMBER_OF_FACES:52,NUMBER_OF_MIPMAP_LEVELS:56,BYTES_OF_KEY_VALUE_DATA:60},T_=64,vb={[Je.UNSIGNED_BYTE]:1,[Je.UNSIGNED_SHORT]:2,[Je.INT]:4,[Je.UNSIGNED_INT]:4,[Je.FLOAT]:4,[Je.HALF_FLOAT]:8},HN={[Re.RGBA]:4,[Re.RGB]:3,[Re.RG]:2,[Re.RED]:1,[Re.LUMINANCE]:1,[Re.LUMINANCE_ALPHA]:2,[Re.ALPHA]:1},$N={[Je.UNSIGNED_SHORT_4_4_4_4]:2,[Je.UNSIGNED_SHORT_5_5_5_1]:2,[Je.UNSIGNED_SHORT_5_6_5]:2};function WN(r,e,t=!1){const n=new DataView(e);if(!XN(r,n))return null;const i=n.getUint32(Rs.ENDIANNESS,!0)===jN,s=n.getUint32(Rs.GL_TYPE,i),a=n.getUint32(Rs.GL_FORMAT,i),u=n.getUint32(Rs.GL_INTERNAL_FORMAT,i),c=n.getUint32(Rs.PIXEL_WIDTH,i),f=n.getUint32(Rs.PIXEL_HEIGHT,i)||1,m=n.getUint32(Rs.PIXEL_DEPTH,i)||1,g=n.getUint32(Rs.NUMBER_OF_ARRAY_ELEMENTS,i)||1,v=n.getUint32(Rs.NUMBER_OF_FACES,i),x=n.getUint32(Rs.NUMBER_OF_MIPMAP_LEVELS,i),S=n.getUint32(Rs.BYTES_OF_KEY_VALUE_DATA,i);if(f===0||m!==1)throw new Error("Only 2D textures are supported");if(v!==1)throw new Error("CubeTextures are not supported by KTXLoader yet!");if(g!==1)throw new Error("WebGL does not support array textures");const b=4,E=4,P=c+3&-4,k=f+3&-4,R=new Array(g);let L=c*f;s===0&&(L=P*k);let D;if(s!==0?vb[s]?D=vb[s]*HN[a]:D=$N[s]:D=yg[u],D===void 0)throw new Error("Unable to resolve the pixel format stored in the *.ktx file!");const H=t?qN(n,S,i):null;let N=L*D,G=c,X=f,re=P,me=k,q=T_+S;for(let Z=0;Z<x;Z++){const le=n.getUint32(q,i);let xe=q+4;for(let U=0;U<g;U++){let z=R[U];z||(z=R[U]=new Array(x)),z[Z]={levelID:Z,levelWidth:x>1||s!==0?G:re,levelHeight:x>1||s!==0?X:me,levelBuffer:new Uint8Array(e,xe,N)},xe+=N}q+=le+4,q=q%4!==0?q+4-q%4:q,G=G>>1||1,X=X>>1||1,re=G+b-1&-4,me=X+E-1&-4,N=re*me*D}return s!==0?{uncompressed:R.map(Z=>{let le=Z[0].levelBuffer,xe=!1;return s===Je.FLOAT?le=new Float32Array(Z[0].levelBuffer.buffer,Z[0].levelBuffer.byteOffset,Z[0].levelBuffer.byteLength/4):s===Je.UNSIGNED_INT?(xe=!0,le=new Uint32Array(Z[0].levelBuffer.buffer,Z[0].levelBuffer.byteOffset,Z[0].levelBuffer.byteLength/4)):s===Je.INT&&(xe=!0,le=new Int32Array(Z[0].levelBuffer.buffer,Z[0].levelBuffer.byteOffset,Z[0].levelBuffer.byteLength/4)),{resource:new Gg(le,{width:Z[0].levelWidth,height:Z[0].levelHeight}),type:s,format:xe?YN(a):a}}),kvData:H}:{compressed:R.map(Z=>new hh(null,{format:u,width:c,height:f,levels:x,levelBuffers:Z})),kvData:H}}function XN(r,e){for(let t=0;t<yb.length;t++)if(e.getUint8(t)!==yb[t])return console.error(`${r} is not a valid *.ktx file!`),!1;return!0}function YN(r){switch(r){case Re.RGBA:return Re.RGBA_INTEGER;case Re.RGB:return Re.RGB_INTEGER;case Re.RG:return Re.RG_INTEGER;case Re.RED:return Re.RED_INTEGER;default:return r}}function qN(r,e,t){const n=new Map;let i=0;for(;i<e;){const s=r.getUint32(T_+i,t),a=T_+i+4,u=3-(s+3)%4;if(s===0||s>e-i){console.error("KTXLoader: keyAndValueByteSize out of bounds");break}let c=0;for(;c<s&&r.getUint8(a+c)!==0;c++);if(c===-1){console.error("KTXLoader: Failed to find null byte terminating kvData key");break}const f=new TextDecoder().decode(new Uint8Array(r.buffer,a,c)),m=new DataView(r.buffer,a+c+1,s-c-1);n.set(f,m),i+=4+s+u}return n}const KN={extension:{type:Ne.LoadParser,priority:zs.High},name:"loadDDS",test(r){return Gl(r,".dds")},async load(r,e,t){const n=await(await Ue.ADAPTER.fetch(r)).arrayBuffer(),i=GN(n).map(s=>{const a=new lt(s,{mipmap:Co.OFF,alphaMode:li.NO_PREMULTIPLIED_ALPHA,resolution:ya(r),...e.data});return vp(a,t,r)});return i.length===1?i[0]:i},unload(r){Array.isArray(r)?r.forEach(e=>e.destroy(!0)):r.destroy(!0)}};qe.add(KN);const QN={extension:{type:Ne.LoadParser,priority:zs.High},name:"loadKTX",test(r){return Gl(r,".ktx")},async load(r,e,t){const n=await(await Ue.ADAPTER.fetch(r)).arrayBuffer(),{compressed:i,uncompressed:s,kvData:a}=WN(r,n),u=i??s,c={mipmap:Co.OFF,alphaMode:li.NO_PREMULTIPLIED_ALPHA,resolution:ya(r),...e.data},f=u.map(m=>{u===s&&Object.assign(c,{type:m.type,format:m.format});const g=m.resource??m,v=new lt(g,c);return v.ktxKeyValueData=a,vp(v,t,r)});return f.length===1?f[0]:f},unload(r){Array.isArray(r)?r.forEach(e=>e.destroy(!0)):r.destroy(!0)}};qe.add(QN);const ZN=["s3tc","s3tc_sRGB","etc","etc1","pvrtc","atc","astc","bptc"],JN={extension:Ne.ResolveParser,test:r=>{const e=Kr.extname(r).slice(1);return["basis","ktx","dds"].includes(e)},parse:r=>{var n,i;const e=r.split("."),t=e.pop();if(["ktx","dds"].includes(t)){const s=e.pop();if(ZN.includes(s))return{resolution:parseFloat(((n=Ue.RETINA_PREFIX.exec(r))==null?void 0:n[1])??"1"),format:s,src:r}}return{resolution:parseFloat(((i=Ue.RETINA_PREFIX.exec(r))==null?void 0:i[1])??"1"),format:t,src:r}}};qe.add(JN);const Pm=new ht,eF=4,nC=class Cf{constructor(e){this.renderer=e,this._rendererPremultipliedAlpha=!1}contextChange(){var t;const e=(t=this.renderer)==null?void 0:t.gl.getContextAttributes();this._rendererPremultipliedAlpha=!!(e&&e.alpha&&e.premultipliedAlpha)}async image(e,t,n,i){const s=new Image;return s.src=await this.base64(e,t,n,i),s}async base64(e,t,n,i){const s=this.canvas(e,i);if(s.toBlob!==void 0)return new Promise((a,u)=>{s.toBlob(c=>{if(!c){u(new Error("ICanvas.toBlob failed!"));return}const f=new FileReader;f.onload=()=>a(f.result),f.onerror=u,f.readAsDataURL(c)},t,n)});if(s.toDataURL!==void 0)return s.toDataURL(t,n);if(s.convertToBlob!==void 0){const a=await s.convertToBlob({type:t,quality:n});return new Promise((u,c)=>{const f=new FileReader;f.onload=()=>u(f.result),f.onerror=c,f.readAsDataURL(a)})}throw new Error("Extract.base64() requires ICanvas.toDataURL, ICanvas.toBlob, or ICanvas.convertToBlob to be implemented")}canvas(e,t){const{pixels:n,width:i,height:s,flipY:a,premultipliedAlpha:u}=this._rawPixels(e,t);a&&Cf._flipY(n,i,s),u&&Cf._unpremultiplyAlpha(n);const c=new O2(i,s,1),f=new ImageData(new Uint8ClampedArray(n.buffer),i,s);return c.context.putImageData(f,0,0),c.canvas}pixels(e,t){const{pixels:n,width:i,height:s,flipY:a,premultipliedAlpha:u}=this._rawPixels(e,t);return a&&Cf._flipY(n,i,s),u&&Cf._unpremultiplyAlpha(n),n}_rawPixels(e,t){const n=this.renderer;if(!n)throw new Error("The Extract has already been destroyed");let i,s=!1,a=!1,u,c=!1;e&&(e instanceof xh?u=e:(u=n.generateTexture(e,{region:t,resolution:n.resolution,multisample:n.multisample}),c=!0,t&&(Pm.width=t.width,Pm.height=t.height,t=Pm)));const f=n.gl;if(u){if(i=u.baseTexture.resolution,t=t??u.frame,s=!1,a=u.baseTexture.alphaMode>0&&u.baseTexture.format===Re.RGBA,!c){n.renderTexture.bind(u);const x=u.framebuffer.glFramebuffers[n.CONTEXT_UID];x.blitFramebuffer&&n.framebuffer.bind(x.blitFramebuffer)}}else i=n.resolution,t||(t=Pm,t.width=n.width/i,t.height=n.height/i),s=!0,a=this._rendererPremultipliedAlpha,n.renderTexture.bind();const m=Math.max(Math.round(t.width*i),1),g=Math.max(Math.round(t.height*i),1),v=new Uint8Array(eF*m*g);return f.readPixels(Math.round(t.x*i),Math.round(t.y*i),m,g,f.RGBA,f.UNSIGNED_BYTE,v),c&&(u==null||u.destroy(!0)),{pixels:v,width:m,height:g,flipY:s,premultipliedAlpha:a}}destroy(){this.renderer=null}static _flipY(e,t,n){const i=t<<2,s=n>>1,a=new Uint8Array(i);for(let u=0;u<s;u++){const c=u*i,f=(n-u-1)*i;a.set(e.subarray(c,c+i)),e.copyWithin(c,f,f+i),e.set(a,f)}}static _unpremultiplyAlpha(e){e instanceof Uint8ClampedArray&&(e=new Uint8Array(e.buffer));const t=e.length;for(let n=0;n<t;n+=4){const i=e[n+3];if(i!==0){const s=255.001/i;e[n]=e[n]*s+.5,e[n+1]=e[n+1]*s+.5,e[n+2]=e[n+2]*s+.5}}}};nC.extension={name:"extract",type:Ne.RendererSystem};let tF=nC;qe.add(tF);const vg={build(r){const e=r.points;let t,n,i,s,a,u;if(r.type===an.CIRC){const S=r.shape;t=S.x,n=S.y,a=u=S.radius,i=s=0}else if(r.type===an.ELIP){const S=r.shape;t=S.x,n=S.y,a=S.width,u=S.height,i=s=0}else{const S=r.shape,b=S.width/2,E=S.height/2;t=S.x+b,n=S.y+E,a=u=Math.max(0,Math.min(S.radius,Math.min(b,E))),i=b-a,s=E-u}if(!(a>=0&&u>=0&&i>=0&&s>=0)){e.length=0;return}const c=Math.ceil(2.3*Math.sqrt(a+u)),f=c*8+(i?4:0)+(s?4:0);if(e.length=f,f===0)return;if(c===0){e.length=8,e[0]=e[6]=t+i,e[1]=e[3]=n+s,e[2]=e[4]=t-i,e[5]=e[7]=n-s;return}let m=0,g=c*4+(i?2:0)+2,v=g,x=f;{const S=i+a,b=s,E=t+S,P=t-S,k=n+b;if(e[m++]=E,e[m++]=k,e[--g]=k,e[--g]=P,s){const R=n-b;e[v++]=P,e[v++]=R,e[--x]=R,e[--x]=E}}for(let S=1;S<c;S++){const b=Math.PI/2*(S/c),E=i+Math.cos(b)*a,P=s+Math.sin(b)*u,k=t+E,R=t-E,L=n+P,D=n-P;e[m++]=k,e[m++]=L,e[--g]=L,e[--g]=R,e[v++]=R,e[v++]=D,e[--x]=D,e[--x]=k}{const S=i,b=s+u,E=t+S,P=t-S,k=n+b,R=n-b;e[m++]=E,e[m++]=k,e[--x]=R,e[--x]=E,i&&(e[m++]=P,e[m++]=k,e[--x]=R,e[--x]=P)}},triangulate(r,e){const t=r.points,n=e.points,i=e.indices;if(t.length===0)return;let s=n.length/2;const a=s;let u,c;if(r.type!==an.RREC){const m=r.shape;u=m.x,c=m.y}else{const m=r.shape;u=m.x+m.width/2,c=m.y+m.height/2}const f=r.matrix;n.push(r.matrix?f.a*u+f.c*c+f.tx:u,r.matrix?f.b*u+f.d*c+f.ty:c),s++,n.push(t[0],t[1]);for(let m=2;m<t.length;m+=2)n.push(t[m],t[m+1]),i.push(s++,a,s);i.push(a+1,a,s)}};function _b(r,e=!1){const t=r.length;if(t<6)return;let n=0;for(let i=0,s=r[t-2],a=r[t-1];i<t;i+=2){const u=r[i],c=r[i+1];n+=(u-s)*(c+a),s=u,a=c}if(!e&&n>0||e&&n<=0){const i=t/2;for(let s=i+i%2;s<t;s+=2){const a=t-s-2,u=t-s-1,c=s,f=s+1;[r[a],r[c]]=[r[c],r[a]],[r[u],r[f]]=[r[f],r[u]]}}}const iC={build(r){r.points=r.shape.points.slice()},triangulate(r,e){let t=r.points;const n=r.holes,i=e.points,s=e.indices;if(t.length>=6){_b(t,!1);const a=[];for(let f=0;f<n.length;f++){const m=n[f];_b(m.points,!0),a.push(t.length/2),t=t.concat(m.points)}const u=MM(t,a,2);if(!u)return;const c=i.length/2;for(let f=0;f<u.length;f+=3)s.push(u[f]+c),s.push(u[f+1]+c),s.push(u[f+2]+c);for(let f=0;f<t.length;f++)i.push(t[f])}}},rF={build(r){const e=r.shape,t=e.x,n=e.y,i=e.width,s=e.height,a=r.points;a.length=0,i>=0&&s>=0&&a.push(t,n,t+i,n,t+i,n+s,t,n+s)},triangulate(r,e){const t=r.points,n=e.points;if(t.length===0)return;const i=n.length/2;n.push(t[0],t[1],t[2],t[3],t[6],t[7],t[4],t[5]),e.indices.push(i,i+1,i+2,i+1,i+2,i+3)}},nF={build(r){vg.build(r)},triangulate(r,e){vg.triangulate(r,e)}};var Ji=(r=>(r.MITER="miter",r.BEVEL="bevel",r.ROUND="round",r))(Ji||{}),Cl=(r=>(r.BUTT="butt",r.ROUND="round",r.SQUARE="square",r))(Cl||{});const qc={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount(r,e=20){if(!this.adaptive||!r||isNaN(r))return e;let t=Math.ceil(r/this.maxLength);return t<this.minSegments?t=this.minSegments:t>this.maxSegments&&(t=this.maxSegments),t}};class xb{static curveTo(e,t,n,i,s,a){const u=a[a.length-2],c=a[a.length-1]-t,f=u-e,m=i-t,g=n-e,v=Math.abs(c*g-f*m);if(v<1e-8||s===0)return(a[a.length-2]!==e||a[a.length-1]!==t)&&a.push(e,t),null;const x=c*c+f*f,S=m*m+g*g,b=c*m+f*g,E=s*Math.sqrt(x)/v,P=s*Math.sqrt(S)/v,k=E*b/x,R=P*b/S,L=E*g+P*f,D=E*m+P*c,H=f*(P+k),N=c*(P+k),G=g*(E+R),X=m*(E+R),re=Math.atan2(N-D,H-L),me=Math.atan2(X-D,G-L);return{cx:L+e,cy:D+t,radius:s,startAngle:re,endAngle:me,anticlockwise:f*m>g*c}}static arc(e,t,n,i,s,a,u,c,f){const m=u-a,g=qc._segmentsCount(Math.abs(m)*s,Math.ceil(Math.abs(m)/ug)*40),v=m/(g*2),x=v*2,S=Math.cos(v),b=Math.sin(v),E=g-1,P=E%1/E;for(let k=0;k<=E;++k){const R=k+P*k,L=v+a+x*R,D=Math.cos(L),H=-Math.sin(L);f.push((S*D+b*H)*s+n,(S*-H+b*D)*s+i)}}}class iF{constructor(){this.reset()}begin(e,t,n){this.reset(),this.style=e,this.start=t,this.attribStart=n}end(e,t){this.attribSize=t-this.attribStart,this.size=e-this.start}reset(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0}}class Ix{static curveLength(e,t,n,i,s,a,u,c){let f=0,m=0,g=0,v=0,x=0,S=0,b=0,E=0,P=0,k=0,R=0,L=e,D=t;for(let H=1;H<=10;++H)m=H/10,g=m*m,v=g*m,x=1-m,S=x*x,b=S*x,E=b*e+3*S*m*n+3*x*g*s+v*u,P=b*t+3*S*m*i+3*x*g*a+v*c,k=L-E,R=D-P,L=E,D=P,f+=Math.sqrt(k*k+R*R);return f}static curveTo(e,t,n,i,s,a,u){const c=u[u.length-2],f=u[u.length-1];u.length-=2;const m=qc._segmentsCount(Ix.curveLength(c,f,e,t,n,i,s,a));let g=0,v=0,x=0,S=0,b=0;u.push(c,f);for(let E=1,P=0;E<=m;++E)P=E/m,g=1-P,v=g*g,x=v*g,S=P*P,b=S*P,u.push(x*c+3*v*P*e+3*g*S*n+b*s,x*f+3*v*P*t+3*g*S*i+b*a)}}function wb(r,e,t,n,i,s,a,u){const c=r-t*i,f=e-n*i,m=r+t*s,g=e+n*s;let v,x;a?(v=n,x=-t):(v=-n,x=t);const S=c+v,b=f+x,E=m+v,P=g+x;return u.push(S,b,E,P),2}function Wu(r,e,t,n,i,s,a,u){const c=t-r,f=n-e;let m=Math.atan2(c,f),g=Math.atan2(i-r,s-e);u&&m<g?m+=Math.PI*2:!u&&m>g&&(g+=Math.PI*2);let v=m;const x=g-m,S=Math.abs(x),b=Math.sqrt(c*c+f*f),E=(15*S*Math.sqrt(b)/Math.PI>>0)+1,P=x/E;if(v+=P,u){a.push(r,e,t,n);for(let k=1,R=v;k<E;k++,R+=P)a.push(r,e,r+Math.sin(R)*b,e+Math.cos(R)*b);a.push(r,e,i,s)}else{a.push(t,n,r,e);for(let k=1,R=v;k<E;k++,R+=P)a.push(r+Math.sin(R)*b,e+Math.cos(R)*b,r,e);a.push(i,s,r,e)}return E*2}function sF(r,e){const t=r.shape;let n=r.points||t.points.slice();const i=e.closePointEps;if(n.length===0)return;const s=r.lineStyle,a=new gt(n[0],n[1]),u=new gt(n[n.length-2],n[n.length-1]),c=t.type!==an.POLY||t.closeStroke,f=Math.abs(a.x-u.x)<i&&Math.abs(a.y-u.y)<i;if(c){n=n.slice(),f&&(n.pop(),n.pop(),u.set(n[n.length-2],n[n.length-1]));const z=(a.x+u.x)*.5,M=(u.y+a.y)*.5;n.unshift(z,M),n.push(z,M)}const m=e.points,g=n.length/2;let v=n.length;const x=m.length/2,S=s.width/2,b=S*S,E=s.miterLimit*s.miterLimit;let P=n[0],k=n[1],R=n[2],L=n[3],D=0,H=0,N=-(k-L),G=P-R,X=0,re=0,me=Math.sqrt(N*N+G*G);N/=me,G/=me,N*=S,G*=S;const q=s.alignment,Z=(1-q)*2,le=q*2;c||(s.cap===Cl.ROUND?v+=Wu(P-N*(Z-le)*.5,k-G*(Z-le)*.5,P-N*Z,k-G*Z,P+N*le,k+G*le,m,!0)+2:s.cap===Cl.SQUARE&&(v+=wb(P,k,N,G,Z,le,!0,m))),m.push(P-N*Z,k-G*Z,P+N*le,k+G*le);for(let z=1;z<g-1;++z){P=n[(z-1)*2],k=n[(z-1)*2+1],R=n[z*2],L=n[z*2+1],D=n[(z+1)*2],H=n[(z+1)*2+1],N=-(k-L),G=P-R,me=Math.sqrt(N*N+G*G),N/=me,G/=me,N*=S,G*=S,X=-(L-H),re=R-D,me=Math.sqrt(X*X+re*re),X/=me,re/=me,X*=S,re*=S;const M=R-P,$=k-L,B=R-D,O=H-L,j=M*B+$*O,Q=$*B-O*M,ie=Q<0;if(Math.abs(Q)<.001*Math.abs(j)){m.push(R-N*Z,L-G*Z,R+N*le,L+G*le),j>=0&&(s.join===Ji.ROUND?v+=Wu(R,L,R-N*Z,L-G*Z,R-X*Z,L-re*Z,m,!1)+4:v+=2,m.push(R-X*le,L-re*le,R+X*Z,L+re*Z));continue}const de=(-N+P)*(-G+L)-(-N+R)*(-G+k),ye=(-X+D)*(-re+L)-(-X+R)*(-re+H),be=(M*ye-B*de)/Q,Pe=(O*de-$*ye)/Q,ke=(be-R)*(be-R)+(Pe-L)*(Pe-L),we=R+(be-R)*Z,De=L+(Pe-L)*Z,Ve=R-(be-R)*le,We=L-(Pe-L)*le,ct=Math.min(M*M+$*$,B*B+O*O),He=ie?Z:le,Xe=ct+He*He*b,Ft=ke<=Xe;let Xt=s.join;if(Xt===Ji.MITER&&ke/b>E&&(Xt=Ji.BEVEL),Ft)switch(Xt){case Ji.MITER:{m.push(we,De,Ve,We);break}case Ji.BEVEL:{ie?m.push(we,De,R+N*le,L+G*le,we,De,R+X*le,L+re*le):m.push(R-N*Z,L-G*Z,Ve,We,R-X*Z,L-re*Z,Ve,We),v+=2;break}case Ji.ROUND:{ie?(m.push(we,De,R+N*le,L+G*le),v+=Wu(R,L,R+N*le,L+G*le,R+X*le,L+re*le,m,!0)+4,m.push(we,De,R+X*le,L+re*le)):(m.push(R-N*Z,L-G*Z,Ve,We),v+=Wu(R,L,R-N*Z,L-G*Z,R-X*Z,L-re*Z,m,!1)+4,m.push(R-X*Z,L-re*Z,Ve,We));break}}else{switch(m.push(R-N*Z,L-G*Z,R+N*le,L+G*le),Xt){case Ji.MITER:{ie?m.push(Ve,We,Ve,We):m.push(we,De,we,De),v+=2;break}case Ji.ROUND:{ie?v+=Wu(R,L,R+N*le,L+G*le,R+X*le,L+re*le,m,!0)+2:v+=Wu(R,L,R-N*Z,L-G*Z,R-X*Z,L-re*Z,m,!1)+2;break}}m.push(R-X*Z,L-re*Z,R+X*le,L+re*le),v+=2}}P=n[(g-2)*2],k=n[(g-2)*2+1],R=n[(g-1)*2],L=n[(g-1)*2+1],N=-(k-L),G=P-R,me=Math.sqrt(N*N+G*G),N/=me,G/=me,N*=S,G*=S,m.push(R-N*Z,L-G*Z,R+N*le,L+G*le),c||(s.cap===Cl.ROUND?v+=Wu(R-N*(Z-le)*.5,L-G*(Z-le)*.5,R-N*Z,L-G*Z,R+N*le,L+G*le,m,!1)+2:s.cap===Cl.SQUARE&&(v+=wb(R,L,N,G,Z,le,!1,m)));const xe=e.indices,U=qc.epsilon*qc.epsilon;for(let z=x;z<v+x-2;++z)P=m[z*2],k=m[z*2+1],R=m[(z+1)*2],L=m[(z+1)*2+1],D=m[(z+2)*2],H=m[(z+2)*2+1],!(Math.abs(P*(L-H)+R*(H-k)+D*(k-L))<U)&&xe.push(z,z+1,z+2)}function oF(r,e){let t=0;const n=r.shape,i=r.points||n.points,s=n.type!==an.POLY||n.closeStroke;if(i.length===0)return;const a=e.points,u=e.indices,c=i.length/2,f=a.length/2;let m=f;for(a.push(i[0],i[1]),t=1;t<c;t++)a.push(i[t*2],i[t*2+1]),u.push(m,m+1),m++;s&&u.push(m,f)}function Sb(r,e){r.lineStyle.native?oF(r,e):sF(r,e)}class kx{static curveLength(e,t,n,i,s,a){const u=e-2*n+s,c=t-2*i+a,f=2*n-2*e,m=2*i-2*t,g=4*(u*u+c*c),v=4*(u*f+c*m),x=f*f+m*m,S=2*Math.sqrt(g+v+x),b=Math.sqrt(g),E=2*g*b,P=2*Math.sqrt(x),k=v/b;return(E*S+b*v*(S-P)+(4*x*g-v*v)*Math.log((2*b+k+S)/(k+P)))/(4*E)}static curveTo(e,t,n,i,s){const a=s[s.length-2],u=s[s.length-1],c=qc._segmentsCount(kx.curveLength(a,u,e,t,n,i));let f=0,m=0;for(let g=1;g<=c;++g){const v=g/c;f=a+(e-a)*v,m=u+(t-u)*v,s.push(f+(e+(n-e)*v-f)*v,m+(t+(i-t)*v-m)*v)}}}const m0={[an.POLY]:iC,[an.CIRC]:vg,[an.ELIP]:vg,[an.RECT]:rF,[an.RREC]:nF},bb=[],Rm=[];class _g{constructor(e,t=null,n=null,i=null){this.points=[],this.holes=[],this.shape=e,this.lineStyle=n,this.fillStyle=t,this.matrix=i,this.type=e.type}clone(){return new _g(this.shape,this.fillStyle,this.lineStyle,this.matrix)}destroy(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null}}const wc=new gt,sC=class oC extends dA{constructor(){super(),this.closePointEps=1e-4,this.boundsPadding=0,this.uvsFloat32=null,this.indicesUint16=null,this.batchable=!1,this.points=[],this.colors=[],this.uvs=[],this.indices=[],this.textureIds=[],this.graphicsData=[],this.drawCalls=[],this.batchDirty=-1,this.batches=[],this.dirty=0,this.cacheDirty=-1,this.clearDirty=0,this.shapeIndex=0,this._bounds=new pg,this.boundsDirty=-1}get bounds(){return this.updateBatches(),this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds}invalidate(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(let e=0;e<this.drawCalls.length;e++)this.drawCalls[e].texArray.clear(),Rm.push(this.drawCalls[e]);this.drawCalls.length=0;for(let e=0;e<this.batches.length;e++){const t=this.batches[e];t.reset(),bb.push(t)}this.batches.length=0}clear(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this}drawShape(e,t=null,n=null,i=null){const s=new _g(e,t,n,i);return this.graphicsData.push(s),this.dirty++,this}drawHole(e,t=null){if(!this.graphicsData.length)return null;const n=new _g(e,null,null,t),i=this.graphicsData[this.graphicsData.length-1];return n.lineStyle=i.lineStyle,i.holes.push(n),this.dirty++,this}destroy(){super.destroy();for(let e=0;e<this.graphicsData.length;++e)this.graphicsData[e].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null}containsPoint(e){const t=this.graphicsData;for(let n=0;n<t.length;++n){const i=t[n];if(i.fillStyle.visible&&i.shape&&(i.matrix?i.matrix.applyInverse(e,wc):wc.copyFrom(e),i.shape.contains(wc.x,wc.y))){let s=!1;if(i.holes){for(let a=0;a<i.holes.length;a++)if(i.holes[a].shape.contains(wc.x,wc.y)){s=!0;break}}if(!s)return!0}}return!1}updateBatches(){if(!this.graphicsData.length){this.batchable=!0;return}if(!this.validateBatching())return;this.cacheDirty=this.dirty;const e=this.uvs,t=this.graphicsData;let n=null,i=null;this.batches.length>0&&(n=this.batches[this.batches.length-1],i=n.style);for(let c=this.shapeIndex;c<t.length;c++){this.shapeIndex++;const f=t[c],m=f.fillStyle,g=f.lineStyle;m0[f.type].build(f),f.matrix&&this.transformPoints(f.points,f.matrix),(m.visible||g.visible)&&this.processHoles(f.holes);for(let v=0;v<2;v++){const x=v===0?m:g;if(!x.visible)continue;const S=x.texture.baseTexture,b=this.indices.length,E=this.points.length/2;S.wrapMode=pa.REPEAT,v===0?this.processFill(f):this.processLine(f);const P=this.points.length/2-E;P!==0&&(n&&!this._compareStyles(i,x)&&(n.end(b,E),n=null),n||(n=bb.pop()||new iF,n.begin(x,b,E),this.batches.push(n),i=x),this.addUvs(this.points,e,x.texture,E,P,x.matrix))}}const s=this.indices.length,a=this.points.length/2;if(n&&n.end(s,a),this.batches.length===0){this.batchable=!0;return}const u=a>65535;this.indicesUint16&&this.indices.length===this.indicesUint16.length&&u===this.indicesUint16.BYTES_PER_ELEMENT>2?this.indicesUint16.set(this.indices):this.indicesUint16=u?new Uint32Array(this.indices):new Uint16Array(this.indices),this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}_compareStyles(e,t){return!(!e||!t||e.texture.baseTexture!==t.texture.baseTexture||e.color+e.alpha!==t.color+t.alpha||!!e.native!=!!t.native)}validateBatching(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(let e=0,t=this.graphicsData.length;e<t;e++){const n=this.graphicsData[e],i=n.fillStyle,s=n.lineStyle;if(i&&!i.texture.baseTexture.valid||s&&!s.texture.baseTexture.valid)return!1}return!0}packBatches(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);const e=this.batches;for(let t=0,n=e.length;t<n;t++){const i=e[t];for(let s=0;s<i.size;s++){const a=i.start+s;this.indicesUint16[a]=this.indicesUint16[a]-i.attribStart}}}isBatchable(){if(this.points.length>65535*2)return!1;const e=this.batches;for(let t=0;t<e.length;t++)if(e[t].style.native)return!1;return this.points.length<oC.BATCHABLE_SIZE*2}buildDrawCalls(){let e=++lt._globalBatch;for(let g=0;g<this.drawCalls.length;g++)this.drawCalls[g].texArray.clear(),Rm.push(this.drawCalls[g]);this.drawCalls.length=0;const t=this.colors,n=this.textureIds;let i=Rm.pop();i||(i=new r_,i.texArray=new o_),i.texArray.count=0,i.start=0,i.size=0,i.type=Os.TRIANGLES;let s=0,a=null,u=0,c=!1,f=Os.TRIANGLES,m=0;this.drawCalls.push(i);for(let g=0;g<this.batches.length;g++){const v=this.batches[g],x=8,S=v.style,b=S.texture.baseTexture;c!==!!S.native&&(c=!!S.native,f=c?Os.LINES:Os.TRIANGLES,a=null,s=x,e++),a!==b&&(a=b,b._batchEnabled!==e&&(s===x&&(e++,s=0,i.size>0&&(i=Rm.pop(),i||(i=new r_,i.texArray=new o_),this.drawCalls.push(i)),i.start=m,i.size=0,i.texArray.count=0,i.type=f),b.touched=1,b._batchEnabled=e,b._batchLocation=s,b.wrapMode=pa.REPEAT,i.texArray.elements[i.texArray.count++]=b,s++)),i.size+=v.size,m+=v.size,u=b._batchLocation,this.addColors(t,S.color,S.alpha,v.attribSize,v.attribStart),this.addTextureIds(n,u,v.attribSize,v.attribStart)}lt._globalBatch=e,this.packAttributes()}packAttributes(){const e=this.points,t=this.uvs,n=this.colors,i=this.textureIds,s=new ArrayBuffer(e.length*3*4),a=new Float32Array(s),u=new Uint32Array(s);let c=0;for(let f=0;f<e.length/2;f++)a[c++]=e[f*2],a[c++]=e[f*2+1],a[c++]=t[f*2],a[c++]=t[f*2+1],u[c++]=n[f],a[c++]=i[f];this._buffer.update(s),this._indexBuffer.update(this.indicesUint16)}processFill(e){e.holes.length?iC.triangulate(e,this):m0[e.type].triangulate(e,this)}processLine(e){Sb(e,this);for(let t=0;t<e.holes.length;t++)Sb(e.holes[t],this)}processHoles(e){for(let t=0;t<e.length;t++){const n=e[t];m0[n.type].build(n),n.matrix&&this.transformPoints(n.points,n.matrix)}}calculateBounds(){const e=this._bounds;e.clear(),e.addVertexData(this.points,0,this.points.length),e.pad(this.boundsPadding,this.boundsPadding)}transformPoints(e,t){for(let n=0;n<e.length/2;n++){const i=e[n*2],s=e[n*2+1];e[n*2]=t.a*i+t.c*s+t.tx,e[n*2+1]=t.b*i+t.d*s+t.ty}}addColors(e,t,n,i,s=0){const a=Ht.shared.setValue(t).toLittleEndianNumber(),u=Ht.shared.setValue(a).toPremultiplied(n);e.length=Math.max(e.length,s+i);for(let c=0;c<i;c++)e[s+c]=u}addTextureIds(e,t,n,i=0){e.length=Math.max(e.length,i+n);for(let s=0;s<n;s++)e[i+s]=t}addUvs(e,t,n,i,s,a=null){let u=0;const c=t.length,f=n.frame;for(;u<s;){let g=e[(i+u)*2],v=e[(i+u)*2+1];if(a){const x=a.a*g+a.c*v+a.tx;v=a.b*g+a.d*v+a.ty,g=x}u++,t.push(g/f.width,v/f.height)}const m=n.baseTexture;(f.width<m.width||f.height<m.height)&&this.adjustUvs(t,n,c,s)}adjustUvs(e,t,n,i){const s=t.baseTexture,a=1e-6,u=n+i*2,c=t.frame,f=c.width/s.width,m=c.height/s.height;let g=c.x/c.width,v=c.y/c.height,x=Math.floor(e[n]+a),S=Math.floor(e[n+1]+a);for(let b=n+2;b<u;b+=2)x=Math.min(x,Math.floor(e[b]+a)),S=Math.min(S,Math.floor(e[b+1]+a));g-=x,v-=S;for(let b=n;b<u;b+=2)e[b]=(e[b]+g)*f,e[b+1]=(e[b+1]+v)*m}};sC.BATCHABLE_SIZE=100;let aF=sC;class Kg{constructor(){this.color=16777215,this.alpha=1,this.texture=Oe.WHITE,this.matrix=null,this.visible=!1,this.reset()}clone(){const e=new Kg;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e}reset(){this.color=16777215,this.alpha=1,this.texture=Oe.WHITE,this.matrix=null,this.visible=!1}destroy(){this.texture=null,this.matrix=null}}class Mx extends Kg{constructor(){super(...arguments),this.width=0,this.alignment=.5,this.native=!1,this.cap=Cl.BUTT,this.join=Ji.MITER,this.miterLimit=10}clone(){const e=new Mx;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e.width=this.width,e.alignment=this.alignment,e.native=this.native,e.cap=this.cap,e.join=this.join,e.miterLimit=this.miterLimit,e}reset(){super.reset(),this.color=0,this.alignment=.5,this.width=0,this.native=!1,this.cap=Cl.BUTT,this.join=Ji.MITER,this.miterLimit=10}}const g0={},E_=class Km extends Un{constructor(e=null){super(),this.shader=null,this.pluginName="batch",this.currentPath=null,this.batches=[],this.batchTint=-1,this.batchDirty=-1,this.vertexData=null,this._fillStyle=new Kg,this._lineStyle=new Mx,this._matrix=null,this._holeMode=!1,this.state=Mo.for2d(),this._geometry=e||new aF,this._geometry.refCount++,this._transformID=-1,this._tintColor=new Ht(16777215),this.blendMode=rt.NORMAL}get geometry(){return this._geometry}clone(){return this.finishPoly(),new Km(this._geometry)}set blendMode(e){this.state.blendMode=e}get blendMode(){return this.state.blendMode}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e)}get fill(){return this._fillStyle}get line(){return this._lineStyle}lineStyle(e=null,t=0,n,i=.5,s=!1){return typeof e=="number"&&(e={width:e,color:t,alpha:n,alignment:i,native:s}),this.lineTextureStyle(e)}lineTextureStyle(e){const t={width:0,texture:Oe.WHITE,color:e!=null&&e.texture?16777215:0,matrix:null,alignment:.5,native:!1,cap:Cl.BUTT,join:Ji.MITER,miterLimit:10};e=Object.assign(t,e),this.normalizeColor(e),this.currentPath&&this.startPoly();const n=e.width>0&&e.alpha>0;return n?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._lineStyle,{visible:n},e)):this._lineStyle.reset(),this}startPoly(){if(this.currentPath){const e=this.currentPath.points,t=this.currentPath.points.length;t>2&&(this.drawShape(this.currentPath),this.currentPath=new uh,this.currentPath.closeStroke=!1,this.currentPath.points.push(e[t-2],e[t-1]))}else this.currentPath=new uh,this.currentPath.closeStroke=!1}finishPoly(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)}moveTo(e,t){return this.startPoly(),this.currentPath.points[0]=e,this.currentPath.points[1]=t,this}lineTo(e,t){this.currentPath||this.moveTo(0,0);const n=this.currentPath.points,i=n[n.length-2],s=n[n.length-1];return(i!==e||s!==t)&&n.push(e,t),this}_initCurve(e=0,t=0){this.currentPath?this.currentPath.points.length===0&&(this.currentPath.points=[e,t]):this.moveTo(e,t)}quadraticCurveTo(e,t,n,i){this._initCurve();const s=this.currentPath.points;return s.length===0&&this.moveTo(0,0),kx.curveTo(e,t,n,i,s),this}bezierCurveTo(e,t,n,i,s,a){return this._initCurve(),Ix.curveTo(e,t,n,i,s,a,this.currentPath.points),this}arcTo(e,t,n,i,s){this._initCurve(e,t);const a=this.currentPath.points,u=xb.curveTo(e,t,n,i,s,a);if(u){const{cx:c,cy:f,radius:m,startAngle:g,endAngle:v,anticlockwise:x}=u;this.arc(c,f,m,g,v,x)}return this}arc(e,t,n,i,s,a=!1){if(i===s)return this;if(!a&&s<=i?s+=ug:a&&i<=s&&(i+=ug),s-i===0)return this;const u=e+Math.cos(i)*n,c=t+Math.sin(i)*n,f=this._geometry.closePointEps;let m=this.currentPath?this.currentPath.points:null;if(m){const g=Math.abs(m[m.length-2]-u),v=Math.abs(m[m.length-1]-c);g<f&&v<f||m.push(u,c)}else this.moveTo(u,c),m=this.currentPath.points;return xb.arc(u,c,e,t,n,i,s,a,m),this}beginFill(e=0,t){return this.beginTextureFill({texture:Oe.WHITE,color:e,alpha:t})}normalizeColor(e){const t=Ht.shared.setValue(e.color??0);e.color=t.toNumber(),e.alpha??(e.alpha=t.alpha)}beginTextureFill(e){const t={texture:Oe.WHITE,color:16777215,matrix:null};e=Object.assign(t,e),this.normalizeColor(e),this.currentPath&&this.startPoly();const n=e.alpha>0;return n?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._fillStyle,{visible:n},e)):this._fillStyle.reset(),this}endFill(){return this.finishPoly(),this._fillStyle.reset(),this}drawRect(e,t,n,i){return this.drawShape(new ht(e,t,n,i))}drawRoundedRect(e,t,n,i,s){return this.drawShape(new $g(e,t,n,i,s))}drawCircle(e,t,n){return this.drawShape(new jg(e,t,n))}drawEllipse(e,t,n,i){return this.drawShape(new Hg(e,t,n,i))}drawPolygon(...e){let t,n=!0;const i=e[0];i.points?(n=i.closeStroke,t=i.points):Array.isArray(e[0])?t=e[0]:t=e;const s=new uh(t);return s.closeStroke=n,this.drawShape(s),this}drawShape(e){return this._holeMode?this._geometry.drawHole(e,this._matrix):this._geometry.drawShape(e,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this}clear(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this}isFastRect(){const e=this._geometry.graphicsData;return e.length===1&&e[0].shape.type===an.RECT&&!e[0].matrix&&!e[0].holes.length&&!(e[0].lineStyle.visible&&e[0].lineStyle.width)}_render(e){this.finishPoly();const t=this._geometry;t.updateBatches(),t.batchable?(this.batchDirty!==t.batchDirty&&this._populateBatches(),this._renderBatched(e)):(e.batch.flush(),this._renderDirect(e))}_populateBatches(){const e=this._geometry,t=this.blendMode,n=e.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=e.batchDirty,this.batches.length=n,this.vertexData=new Float32Array(e.points);for(let i=0;i<n;i++){const s=e.batches[i],a=s.style.color,u=new Float32Array(this.vertexData.buffer,s.attribStart*4*2,s.attribSize*2),c=new Float32Array(e.uvsFloat32.buffer,s.attribStart*4*2,s.attribSize*2),f=new Uint16Array(e.indicesUint16.buffer,s.start*2,s.size),m={vertexData:u,blendMode:t,indices:f,uvs:c,_batchRGB:Ht.shared.setValue(a).toRgbArray(),_tintRGB:a,_texture:s.style.texture,alpha:s.style.alpha,worldAlpha:1};this.batches[i]=m}}_renderBatched(e){if(this.batches.length){e.batch.setObjectRenderer(e.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(let t=0,n=this.batches.length;t<n;t++){const i=this.batches[t];i.worldAlpha=this.worldAlpha*i.alpha,e.plugins[this.pluginName].render(i)}}}_renderDirect(e){const t=this._resolveDirectShader(e),n=this._geometry,i=this.worldAlpha,s=t.uniforms,a=n.drawCalls;s.translationMatrix=this.transform.worldTransform,Ht.shared.setValue(this._tintColor).premultiply(i).toArray(s.tint),e.shader.bind(t),e.geometry.bind(n,t),e.state.set(this.state);for(let u=0,c=a.length;u<c;u++)this._renderDrawCallDirect(e,n.drawCalls[u])}_renderDrawCallDirect(e,t){const{texArray:n,type:i,size:s,start:a}=t,u=n.count;for(let c=0;c<u;c++)e.texture.bind(n.elements[c],c);e.geometry.draw(i,s,a)}_resolveDirectShader(e){let t=this.shader;const n=this.pluginName;if(!t){if(!g0[n]){const{maxTextures:i}=e.plugins[n],s=new Int32Array(i);for(let c=0;c<i;c++)s[c]=c;const a={tint:new Float32Array([1,1,1,1]),translationMatrix:new Wt,default:Bs.from({uSamplers:s},!0)},u=e.plugins[n]._shader.program;g0[n]=new So(u,a)}t=g0[n]}return t}_calculateBounds(){this.finishPoly();const e=this._geometry;if(!e.graphicsData.length)return;const{minX:t,minY:n,maxX:i,maxY:s}=e.bounds;this._bounds.addFrame(this.transform,t,n,i,s)}containsPoint(e){return this.worldTransform.applyInverse(e,Km._TEMP_POINT),this._geometry.containsPoint(Km._TEMP_POINT)}calculateTints(){if(this.batchTint!==this.tint){this.batchTint=this._tintColor.toNumber();for(let e=0;e<this.batches.length;e++){const t=this.batches[e];t._tintRGB=Ht.shared.setValue(this._tintColor).multiply(t._batchRGB).toLittleEndianNumber()}}}calculateVertices(){const e=this.transform._worldID;if(this._transformID===e)return;this._transformID=e;const t=this.transform.worldTransform,n=t.a,i=t.b,s=t.c,a=t.d,u=t.tx,c=t.ty,f=this._geometry.points,m=this.vertexData;let g=0;for(let v=0;v<f.length;v+=2){const x=f[v],S=f[v+1];m[g++]=n*x+s*S+u,m[g++]=a*S+i*x+c}}closePath(){const e=this.currentPath;return e&&(e.closeStroke=!0,this.finishPoly()),this}setMatrix(e){return this._matrix=e,this}beginHole(){return this.finishPoly(),this._holeMode=!0,this}endHole(){return this.finishPoly(),this._holeMode=!1,this}destroy(e){this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,super.destroy(e)}};E_.curves=qc,E_._TEMP_POINT=new gt;let Lf=E_;class lF{constructor(e,t){this.uvBuffer=e,this.uvMatrix=t,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}update(e){if(!e&&this._bufferUpdateId===this.uvBuffer._updateID&&this._textureUpdateId===this.uvMatrix._updateID)return;this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;const t=this.uvBuffer.data;(!this.data||this.data.length!==t.length)&&(this.data=new Float32Array(t.length)),this.uvMatrix.multiplyUvs(t,this.data),this._updateID++}}const y0=new gt,Tb=new uh,aC=class lC extends Un{constructor(e,t,n,i=Os.TRIANGLES){super(),this.geometry=e,this.shader=t,this.state=n||Mo.for2d(),this.drawMode=i,this.start=0,this.size=0,this.uvs=null,this.indices=null,this.vertexData=new Float32Array(1),this.vertexDirty=-1,this._transformID=-1,this._roundPixels=Ue.ROUND_PIXELS,this.batchUvs=null}get geometry(){return this._geometry}set geometry(e){this._geometry!==e&&(this._geometry&&(this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose()),this._geometry=e,this._geometry&&this._geometry.refCount++,this.vertexDirty=-1)}get uvBuffer(){return this.geometry.buffers[1]}get verticesBuffer(){return this.geometry.buffers[0]}set material(e){this.shader=e}get material(){return this.shader}set blendMode(e){this.state.blendMode=e}get blendMode(){return this.state.blendMode}set roundPixels(e){this._roundPixels!==e&&(this._transformID=-1),this._roundPixels=e}get roundPixels(){return this._roundPixels}get tint(){return"tint"in this.shader?this.shader.tint:null}set tint(e){this.shader.tint=e}get tintValue(){return this.shader.tintValue}get texture(){return"texture"in this.shader?this.shader.texture:null}set texture(e){this.shader.texture=e}_render(e){const t=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===Os.TRIANGLES&&t.length<lC.BATCHABLE_SIZE*2?this._renderToBatch(e):this._renderDefault(e)}_renderDefault(e){const t=this.shader;t.alpha=this.worldAlpha,t.update&&t.update(),e.batch.flush(),t.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0),e.shader.bind(t),e.state.set(this.state),e.geometry.bind(this.geometry,t),e.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)}_renderToBatch(e){const t=this.geometry,n=this.shader;n.uvMatrix&&(n.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=t.indexBuffer.data,this._tintRGB=n._tintRGB,this._texture=n.texture;const i=this.material.pluginName;e.batch.setObjectRenderer(e.plugins[i]),e.plugins[i].render(this)}calculateVertices(){const e=this.geometry.buffers[0],t=e.data,n=e._updateID;if(n===this.vertexDirty&&this._transformID===this.transform._worldID)return;this._transformID=this.transform._worldID,this.vertexData.length!==t.length&&(this.vertexData=new Float32Array(t.length));const i=this.transform.worldTransform,s=i.a,a=i.b,u=i.c,c=i.d,f=i.tx,m=i.ty,g=this.vertexData;for(let v=0;v<g.length/2;v++){const x=t[v*2],S=t[v*2+1];g[v*2]=s*x+u*S+f,g[v*2+1]=a*x+c*S+m}if(this._roundPixels){const v=Ue.RESOLUTION;for(let x=0;x<g.length;++x)g[x]=Math.round(g[x]*v)/v}this.vertexDirty=n}calculateUvs(){const e=this.geometry.buffers[1],t=this.shader;t.uvMatrix.isSimple?this.uvs=e.data:(this.batchUvs||(this.batchUvs=new lF(e,t.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)}_calculateBounds(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)}containsPoint(e){if(!this.getBounds().contains(e.x,e.y))return!1;this.worldTransform.applyInverse(e,y0);const t=this.geometry.getBuffer("aVertexPosition").data,n=Tb.points,i=this.geometry.getIndex().data,s=i.length,a=this.drawMode===4?3:1;for(let u=0;u+2<s;u+=a){const c=i[u]*2,f=i[u+1]*2,m=i[u+2]*2;if(n[0]=t[c],n[1]=t[c+1],n[2]=t[f],n[3]=t[f+1],n[4]=t[m],n[5]=t[m+1],Tb.contains(y0.x,y0.y))return!0}return!1}destroy(e){super.destroy(e),this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null}};aC.BATCHABLE_SIZE=100;let Yf=aC;class Qg extends Nl{constructor(e,t,n){super();const i=new Er(e),s=new Er(t,!0),a=new Er(n,!0,!0);this.addAttribute("aVertexPosition",i,2,!1,Je.FLOAT).addAttribute("aTextureCoord",s,2,!1,Je.FLOAT).addIndex(a),this._updateId=-1}get vertexDirtyId(){return this.buffers[0]._updateID}}var uF=`varying vec2 vTextureCoord;
uniform vec4 uColor;

uniform sampler2D uSampler;

void main(void)
{
    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;
}
`,hF=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTextureMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;
}
`;class qf extends So{constructor(e,t){const n={uSampler:e,alpha:1,uTextureMatrix:Wt.IDENTITY,uColor:new Float32Array([1,1,1,1])};t=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},t),t.uniforms&&Object.assign(n,t.uniforms),super(t.program||da.from(hF,uF),n),this._colorDirty=!1,this.uvMatrix=new Cx(e),this.batchable=t.program===void 0,this.pluginName=t.pluginName,this._tintColor=new Ht(t.tint),this._tintRGB=this._tintColor.toLittleEndianNumber(),this._colorDirty=!0,this.alpha=t.alpha}get texture(){return this.uniforms.uSampler}set texture(e){this.uniforms.uSampler!==e&&(!this.uniforms.uSampler.baseTexture.alphaMode!=!e.baseTexture.alphaMode&&(this._colorDirty=!0),this.uniforms.uSampler=e,this.uvMatrix.texture=e)}set alpha(e){e!==this._alpha&&(this._alpha=e,this._colorDirty=!0)}get alpha(){return this._alpha}set tint(e){e!==this.tint&&(this._tintColor.setValue(e),this._tintRGB=this._tintColor.toLittleEndianNumber(),this._colorDirty=!0)}get tint(){return this._tintColor.value}get tintValue(){return this._tintColor.toNumber()}update(){if(this._colorDirty){this._colorDirty=!1;const e=this.texture.baseTexture.alphaMode;Ht.shared.setValue(this._tintColor).premultiply(this._alpha,e).toArray(this.uniforms.uColor)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)}}class cF extends Qg{constructor(e=100,t=100,n=10,i=10){super(),this.segWidth=n,this.segHeight=i,this.width=e,this.height=t,this.build()}build(){const e=this.segWidth*this.segHeight,t=[],n=[],i=[],s=this.segWidth-1,a=this.segHeight-1,u=this.width/s,c=this.height/a;for(let m=0;m<e;m++){const g=m%this.segWidth,v=m/this.segWidth|0;t.push(g*u,v*c),n.push(g/s,v/a)}const f=s*a;for(let m=0;m<f;m++){const g=m%s,v=m/s|0,x=v*this.segWidth+g,S=v*this.segWidth+g+1,b=(v+1)*this.segWidth+g,E=(v+1)*this.segWidth+g+1;i.push(x,S,b,S,E,b)}this.buffers[0].data=new Float32Array(t),this.buffers[1].data=new Float32Array(n),this.indexBuffer.data=new Uint16Array(i),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()}}class dF extends Qg{constructor(e=200,t,n=0){super(new Float32Array(t.length*4),new Float32Array(t.length*4),new Uint16Array((t.length-1)*6)),this.points=t,this._width=e,this.textureScale=n,this.build()}get width(){return this._width}build(){const e=this.points;if(!e)return;const t=this.getBuffer("aVertexPosition"),n=this.getBuffer("aTextureCoord"),i=this.getIndex();if(e.length<1)return;t.data.length/4!==e.length&&(t.data=new Float32Array(e.length*4),n.data=new Float32Array(e.length*4),i.data=new Uint16Array((e.length-1)*6));const s=n.data,a=i.data;s[0]=0,s[1]=0,s[2]=0,s[3]=1;let u=0,c=e[0];const f=this._width*this.textureScale,m=e.length;for(let v=0;v<m;v++){const x=v*4;if(this.textureScale>0){const S=c.x-e[v].x,b=c.y-e[v].y,E=Math.sqrt(S*S+b*b);c=e[v],u+=E/f}else u=v/(m-1);s[x]=u,s[x+1]=0,s[x+2]=u,s[x+3]=1}let g=0;for(let v=0;v<m-1;v++){const x=v*2;a[g++]=x,a[g++]=x+1,a[g++]=x+2,a[g++]=x+2,a[g++]=x+1,a[g++]=x+3}n.update(),i.update(),this.updateVertices()}updateVertices(){const e=this.points;if(e.length<1)return;let t=e[0],n,i=0,s=0;const a=this.buffers[0].data,u=e.length,c=this.textureScale>0?this.textureScale*this._width/2:this._width/2;for(let f=0;f<u;f++){const m=e[f],g=f*4;f<e.length-1?n=e[f+1]:n=m,s=-(n.x-t.x),i=n.y-t.y;const v=Math.sqrt(i*i+s*s);v<1e-6?(i=0,s=0):(i/=v,s/=v,i*=c,s*=c),a[g]=m.x+i,a[g+1]=m.y+s,a[g+2]=m.x-i,a[g+3]=m.y-s,t=m}this.buffers[0].update()}update(){this.textureScale>0?this.build():this.updateVertices()}}class fF extends Yf{constructor(e,t,n){const i=new cF(e.width,e.height,t,n),s=new qf(Oe.WHITE);super(i,s),this.texture=e,this.autoResize=!0}textureUpdated(){this._textureID=this.shader.texture._updateID;const e=this.geometry,{width:t,height:n}=this.shader.texture;this.autoResize&&(e.width!==t||e.height!==n)&&(e.width=this.shader.texture.width,e.height=this.shader.texture.height,e.build())}set texture(e){this.shader.texture!==e&&(this.shader.texture=e,this._textureID=-1,e.baseTexture.valid?this.textureUpdated():e.once("update",this.textureUpdated,this))}get texture(){return this.shader.texture}_render(e){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),super._render(e)}destroy(e){this.shader.texture.off("update",this.textureUpdated,this),super.destroy(e)}}const Im=10;class pF extends fF{constructor(e,t,n,i,s){var a,u,c,f;super(Oe.WHITE,4,4),this._origWidth=e.orig.width,this._origHeight=e.orig.height,this._width=this._origWidth,this._height=this._origHeight,this._leftWidth=t??((a=e.defaultBorders)==null?void 0:a.left)??Im,this._rightWidth=i??((u=e.defaultBorders)==null?void 0:u.right)??Im,this._topHeight=n??((c=e.defaultBorders)==null?void 0:c.top)??Im,this._bottomHeight=s??((f=e.defaultBorders)==null?void 0:f.bottom)??Im,this.texture=e}textureUpdated(){this._textureID=this.shader.texture._updateID,this._refresh()}get vertices(){return this.geometry.getBuffer("aVertexPosition").data}set vertices(e){this.geometry.getBuffer("aVertexPosition").data=e}updateHorizontalVertices(){const e=this.vertices,t=this._getMinScale();e[9]=e[11]=e[13]=e[15]=this._topHeight*t,e[17]=e[19]=e[21]=e[23]=this._height-this._bottomHeight*t,e[25]=e[27]=e[29]=e[31]=this._height}updateVerticalVertices(){const e=this.vertices,t=this._getMinScale();e[2]=e[10]=e[18]=e[26]=this._leftWidth*t,e[4]=e[12]=e[20]=e[28]=this._width-this._rightWidth*t,e[6]=e[14]=e[22]=e[30]=this._width}_getMinScale(){const e=this._leftWidth+this._rightWidth,t=this._width>e?1:this._width/e,n=this._topHeight+this._bottomHeight,i=this._height>n?1:this._height/n;return Math.min(t,i)}get width(){return this._width}set width(e){this._width=e,this._refresh()}get height(){return this._height}set height(e){this._height=e,this._refresh()}get leftWidth(){return this._leftWidth}set leftWidth(e){this._leftWidth=e,this._refresh()}get rightWidth(){return this._rightWidth}set rightWidth(e){this._rightWidth=e,this._refresh()}get topHeight(){return this._topHeight}set topHeight(e){this._topHeight=e,this._refresh()}get bottomHeight(){return this._bottomHeight}set bottomHeight(e){this._bottomHeight=e,this._refresh()}_refresh(){const e=this.texture,t=this.geometry.buffers[1].data;this._origWidth=e.orig.width,this._origHeight=e.orig.height;const n=1/this._origWidth,i=1/this._origHeight;t[0]=t[8]=t[16]=t[24]=0,t[1]=t[3]=t[5]=t[7]=0,t[6]=t[14]=t[22]=t[30]=1,t[25]=t[27]=t[29]=t[31]=1,t[2]=t[10]=t[18]=t[26]=n*this._leftWidth,t[4]=t[12]=t[20]=t[28]=1-n*this._rightWidth,t[9]=t[11]=t[13]=t[15]=i*this._topHeight,t[17]=t[19]=t[21]=t[23]=1-i*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()}}class mF extends Yf{constructor(e=Oe.EMPTY,t,n,i,s){const a=new Qg(t,n,i);a.getBuffer("aVertexPosition").static=!1;const u=new qf(e);super(a,u,null,s),this.autoUpdate=!0}get vertices(){return this.geometry.getBuffer("aVertexPosition").data}set vertices(e){this.geometry.getBuffer("aVertexPosition").data=e}_render(e){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),super._render(e)}}class gF extends Yf{constructor(e,t,n=0){const i=new dF(e.height,t,n),s=new qf(e);n>0&&(e.baseTexture.wrapMode=pa.REPEAT),super(i,s),this.autoUpdate=!0}_render(e){const t=this.geometry;(this.autoUpdate||t._width!==this.shader.texture.height)&&(t._width=this.shader.texture.height,t.update()),super._render(e)}}class yF extends Un{constructor(e=1500,t,n=16384,i=!1){super();const s=16384;n>s&&(n=s),this._properties=[!1,!0,!1,!1,!1],this._maxSize=e,this._batchSize=n,this._buffers=null,this._bufferUpdateIDs=[],this._updateID=0,this.interactiveChildren=!1,this.blendMode=rt.NORMAL,this.autoResize=i,this.roundPixels=!0,this.baseTexture=null,this.setProperties(t),this._tintColor=new Ht(0),this.tintRgb=new Float32Array(3),this.tint=16777215}setProperties(e){e&&(this._properties[0]="vertices"in e||"scale"in e?!!e.vertices||!!e.scale:this._properties[0],this._properties[1]="position"in e?!!e.position:this._properties[1],this._properties[2]="rotation"in e?!!e.rotation:this._properties[2],this._properties[3]="uvs"in e?!!e.uvs:this._properties[3],this._properties[4]="tint"in e||"alpha"in e?!!e.tint||!!e.alpha:this._properties[4])}updateTransform(){this.displayObjectUpdateTransform()}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e),this._tintColor.toRgbArray(this.tintRgb)}render(e){!this.visible||this.worldAlpha<=0||!this.children.length||!this.renderable||(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",()=>this.onChildrenChange(0))),e.batch.setObjectRenderer(e.plugins.particle),e.plugins.particle.render(this))}onChildrenChange(e){const t=Math.floor(e/this._batchSize);for(;this._bufferUpdateIDs.length<t;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[t]=++this._updateID}dispose(){if(this._buffers){for(let e=0;e<this._buffers.length;++e)this._buffers[e].destroy();this._buffers=null}}destroy(e){super.destroy(e),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null}}class Eb{constructor(e,t,n){this.geometry=new Nl,this.indexBuffer=null,this.size=n,this.dynamicProperties=[],this.staticProperties=[];for(let i=0;i<e.length;++i){let s=e[i];s={attributeName:s.attributeName,size:s.size,uploadFunction:s.uploadFunction,type:s.type||Je.FLOAT,offset:s.offset},t[i]?this.dynamicProperties.push(s):this.staticProperties.push(s)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}initBuffers(){const e=this.geometry;let t=0;this.indexBuffer=new Er(M2(this.size),!0,!0),e.addIndex(this.indexBuffer),this.dynamicStride=0;for(let a=0;a<this.dynamicProperties.length;++a){const u=this.dynamicProperties[a];u.offset=t,t+=u.size,this.dynamicStride+=u.size}const n=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(n),this.dynamicDataUint32=new Uint32Array(n),this.dynamicBuffer=new Er(this.dynamicData,!1,!1);let i=0;this.staticStride=0;for(let a=0;a<this.staticProperties.length;++a){const u=this.staticProperties[a];u.offset=i,i+=u.size,this.staticStride+=u.size}const s=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(s),this.staticDataUint32=new Uint32Array(s),this.staticBuffer=new Er(this.staticData,!0,!1);for(let a=0;a<this.dynamicProperties.length;++a){const u=this.dynamicProperties[a];e.addAttribute(u.attributeName,this.dynamicBuffer,0,u.type===Je.UNSIGNED_BYTE,u.type,this.dynamicStride*4,u.offset*4)}for(let a=0;a<this.staticProperties.length;++a){const u=this.staticProperties[a];e.addAttribute(u.attributeName,this.staticBuffer,0,u.type===Je.UNSIGNED_BYTE,u.type,this.staticStride*4,u.offset*4)}}uploadDynamic(e,t,n){for(let i=0;i<this.dynamicProperties.length;i++){const s=this.dynamicProperties[i];s.uploadFunction(e,t,n,s.type===Je.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,s.offset)}this.dynamicBuffer._updateID++}uploadStatic(e,t,n){for(let i=0;i<this.staticProperties.length;i++){const s=this.staticProperties[i];s.uploadFunction(e,t,n,s.type===Je.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,s.offset)}this.staticBuffer._updateID++}destroy(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()}}var vF=`varying vec2 vTextureCoord;
varying vec4 vColor;

uniform sampler2D uSampler;

void main(void){
    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;
    gl_FragColor = color;
}`,_F=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;

attribute vec2 aPositionCoord;
attribute float aRotation;

uniform mat3 translationMatrix;
uniform vec4 uColor;

varying vec2 vTextureCoord;
varying vec4 vColor;

void main(void){
    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);
    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);

    vec2 v = vec2(x, y);
    v = v + aPositionCoord;

    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vColor = aColor * uColor;
}
`;class uC extends Xg{constructor(e){super(e),this.shader=null,this.properties=null,this.tempMatrix=new Wt,this.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:this.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:this.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:this.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:this.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:Je.UNSIGNED_BYTE,uploadFunction:this.uploadTint,offset:0}],this.shader=So.from(_F,vF,{}),this.state=Mo.for2d()}render(e){const t=e.children,n=e._maxSize,i=e._batchSize,s=this.renderer;let a=t.length;if(a===0)return;a>n&&!e.autoResize&&(a=n);let u=e._buffers;u||(u=e._buffers=this.generateBuffers(e));const c=t[0]._texture.baseTexture,f=c.alphaMode>0;this.state.blendMode=uA(e.blendMode,f),s.state.set(this.state);const m=s.gl,g=e.worldTransform.copyTo(this.tempMatrix);g.prepend(s.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=g.toArray(!0),this.shader.uniforms.uColor=Ht.shared.setValue(e.tintRgb).premultiply(e.worldAlpha,f).toArray(this.shader.uniforms.uColor),this.shader.uniforms.uSampler=c,this.renderer.shader.bind(this.shader);let v=!1;for(let x=0,S=0;x<a;x+=i,S+=1){let b=a-x;b>i&&(b=i),S>=u.length&&u.push(this._generateOneMoreBuffer(e));const E=u[S];E.uploadDynamic(t,x,b);const P=e._bufferUpdateIDs[S]||0;v=v||E._updateID<P,v&&(E._updateID=e._updateID,E.uploadStatic(t,x,b)),s.geometry.bind(E.geometry),m.drawElements(m.TRIANGLES,b*6,m.UNSIGNED_SHORT,0)}}generateBuffers(e){const t=[],n=e._maxSize,i=e._batchSize,s=e._properties;for(let a=0;a<n;a+=i)t.push(new Eb(this.properties,s,i));return t}_generateOneMoreBuffer(e){const t=e._batchSize,n=e._properties;return new Eb(this.properties,n,t)}uploadVertices(e,t,n,i,s,a){let u=0,c=0,f=0,m=0;for(let g=0;g<n;++g){const v=e[t+g],x=v._texture,S=v.scale.x,b=v.scale.y,E=x.trim,P=x.orig;E?(c=E.x-v.anchor.x*P.width,u=c+E.width,m=E.y-v.anchor.y*P.height,f=m+E.height):(u=P.width*(1-v.anchor.x),c=P.width*-v.anchor.x,f=P.height*(1-v.anchor.y),m=P.height*-v.anchor.y),i[a]=c*S,i[a+1]=m*b,i[a+s]=u*S,i[a+s+1]=m*b,i[a+s*2]=u*S,i[a+s*2+1]=f*b,i[a+s*3]=c*S,i[a+s*3+1]=f*b,a+=s*4}}uploadPosition(e,t,n,i,s,a){for(let u=0;u<n;u++){const c=e[t+u].position;i[a]=c.x,i[a+1]=c.y,i[a+s]=c.x,i[a+s+1]=c.y,i[a+s*2]=c.x,i[a+s*2+1]=c.y,i[a+s*3]=c.x,i[a+s*3+1]=c.y,a+=s*4}}uploadRotation(e,t,n,i,s,a){for(let u=0;u<n;u++){const c=e[t+u].rotation;i[a]=c,i[a+s]=c,i[a+s*2]=c,i[a+s*3]=c,a+=s*4}}uploadUvs(e,t,n,i,s,a){for(let u=0;u<n;++u){const c=e[t+u]._texture._uvs;c?(i[a]=c.x0,i[a+1]=c.y0,i[a+s]=c.x1,i[a+s+1]=c.y1,i[a+s*2]=c.x2,i[a+s*2+1]=c.y2,i[a+s*3]=c.x3,i[a+s*3+1]=c.y3,a+=s*4):(i[a]=0,i[a+1]=0,i[a+s]=0,i[a+s+1]=0,i[a+s*2]=0,i[a+s*2+1]=0,i[a+s*3]=0,i[a+s*3+1]=0,a+=s*4)}}uploadTint(e,t,n,i,s,a){for(let u=0;u<n;++u){const c=e[t+u],f=Ht.shared.setValue(c._tintRGB).toPremultiplied(c.alpha,c.texture.baseTexture.alphaMode>0);i[a]=f,i[a+s]=f,i[a+s*2]=f,i[a+s*3]=f,a+=s*4}}destroy(){super.destroy(),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null}}uC.extension={name:"particle",type:Ne.RendererPlugin};qe.add(uC);var Zg=(r=>(r[r.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",r[r.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL",r))(Zg||{});const km={willReadFrequently:!0},po=class Qe{static get experimentalLetterSpacingSupported(){let e=Qe._experimentalLetterSpacingSupported;if(e!==void 0){const t=Ue.ADAPTER.getCanvasRenderingContext2D().prototype;e=Qe._experimentalLetterSpacingSupported="letterSpacing"in t||"textLetterSpacing"in t}return e}constructor(e,t,n,i,s,a,u,c,f){this.text=e,this.style=t,this.width=n,this.height=i,this.lines=s,this.lineWidths=a,this.lineHeight=u,this.maxLineWidth=c,this.fontProperties=f}static measureText(e,t,n,i=Qe._canvas){n=n??t.wordWrap;const s=t.toFontString(),a=Qe.measureFont(s);a.fontSize===0&&(a.fontSize=t.fontSize,a.ascent=t.fontSize);const u=i.getContext("2d",km);u.font=s;const c=(n?Qe.wordWrap(e,t,i):e).split(/(?:\r\n|\r|\n)/),f=new Array(c.length);let m=0;for(let S=0;S<c.length;S++){const b=Qe._measureText(c[S],t.letterSpacing,u);f[S]=b,m=Math.max(m,b)}let g=m+t.strokeThickness;t.dropShadow&&(g+=t.dropShadowDistance);const v=t.lineHeight||a.fontSize+t.strokeThickness;let x=Math.max(v,a.fontSize+t.strokeThickness*2)+t.leading+(c.length-1)*(v+t.leading);return t.dropShadow&&(x+=t.dropShadowDistance),new Qe(e,t,g,x,c,f,v+t.leading,m,a)}static _measureText(e,t,n){let i=!1;Qe.experimentalLetterSpacingSupported&&(Qe.experimentalLetterSpacing?(n.letterSpacing=`${t}px`,n.textLetterSpacing=`${t}px`,i=!0):(n.letterSpacing="0px",n.textLetterSpacing="0px"));let s=n.measureText(e).width;return s>0&&(i?s-=t:s+=(Qe.graphemeSegmenter(e).length-1)*t),s}static wordWrap(e,t,n=Qe._canvas){const i=n.getContext("2d",km);let s=0,a="",u="";const c=Object.create(null),{letterSpacing:f,whiteSpace:m}=t,g=Qe.collapseSpaces(m),v=Qe.collapseNewlines(m);let x=!g;const S=t.wordWrapWidth+f,b=Qe.tokenize(e);for(let E=0;E<b.length;E++){let P=b[E];if(Qe.isNewline(P)){if(!v){u+=Qe.addLine(a),x=!g,a="",s=0;continue}P=" "}if(g){const R=Qe.isBreakingSpace(P),L=Qe.isBreakingSpace(a[a.length-1]);if(R&&L)continue}const k=Qe.getFromCache(P,f,c,i);if(k>S)if(a!==""&&(u+=Qe.addLine(a),a="",s=0),Qe.canBreakWords(P,t.breakWords)){const R=Qe.wordWrapSplit(P);for(let L=0;L<R.length;L++){let D=R[L],H=D,N=1;for(;R[L+N];){const X=R[L+N];if(!Qe.canBreakChars(H,X,P,L,t.breakWords))D+=X;else break;H=X,N++}L+=N-1;const G=Qe.getFromCache(D,f,c,i);G+s>S&&(u+=Qe.addLine(a),x=!1,a="",s=0),a+=D,s+=G}}else{a.length>0&&(u+=Qe.addLine(a),a="",s=0);const R=E===b.length-1;u+=Qe.addLine(P,!R),x=!1,a="",s=0}else k+s>S&&(x=!1,u+=Qe.addLine(a),a="",s=0),(a.length>0||!Qe.isBreakingSpace(P)||x)&&(a+=P,s+=k)}return u+=Qe.addLine(a,!1),u}static addLine(e,t=!0){return e=Qe.trimRight(e),e=t?`${e}
`:e,e}static getFromCache(e,t,n,i){let s=n[e];return typeof s!="number"&&(s=Qe._measureText(e,t,i)+t,n[e]=s),s}static collapseSpaces(e){return e==="normal"||e==="pre-line"}static collapseNewlines(e){return e==="normal"}static trimRight(e){if(typeof e!="string")return"";for(let t=e.length-1;t>=0;t--){const n=e[t];if(!Qe.isBreakingSpace(n))break;e=e.slice(0,-1)}return e}static isNewline(e){return typeof e!="string"?!1:Qe._newlines.includes(e.charCodeAt(0))}static isBreakingSpace(e,t){return typeof e!="string"?!1:Qe._breakingSpaces.includes(e.charCodeAt(0))}static tokenize(e){const t=[];let n="";if(typeof e!="string")return t;for(let i=0;i<e.length;i++){const s=e[i],a=e[i+1];if(Qe.isBreakingSpace(s,a)||Qe.isNewline(s)){n!==""&&(t.push(n),n=""),t.push(s);continue}n+=s}return n!==""&&t.push(n),t}static canBreakWords(e,t){return t}static canBreakChars(e,t,n,i,s){return!0}static wordWrapSplit(e){return Qe.graphemeSegmenter(e)}static measureFont(e){if(Qe._fonts[e])return Qe._fonts[e];const t={ascent:0,descent:0,fontSize:0},n=Qe._canvas,i=Qe._context;i.font=e;const s=Qe.METRICS_STRING+Qe.BASELINE_SYMBOL,a=Math.ceil(i.measureText(s).width);let u=Math.ceil(i.measureText(Qe.BASELINE_SYMBOL).width);const c=Math.ceil(Qe.HEIGHT_MULTIPLIER*u);if(u=u*Qe.BASELINE_MULTIPLIER|0,a===0||c===0)return Qe._fonts[e]=t,t;n.width=a,n.height=c,i.fillStyle="#f00",i.fillRect(0,0,a,c),i.font=e,i.textBaseline="alphabetic",i.fillStyle="#000",i.fillText(s,0,u);const f=i.getImageData(0,0,a,c).data,m=f.length,g=a*4;let v=0,x=0,S=!1;for(v=0;v<u;++v){for(let b=0;b<g;b+=4)if(f[x+b]!==255){S=!0;break}if(!S)x+=g;else break}for(t.ascent=u-v,x=m-g,S=!1,v=c;v>u;--v){for(let b=0;b<g;b+=4)if(f[x+b]!==255){S=!0;break}if(!S)x-=g;else break}return t.descent=v-u,t.fontSize=t.ascent+t.descent,Qe._fonts[e]=t,t}static clearMetrics(e=""){e?delete Qe._fonts[e]:Qe._fonts={}}static get _canvas(){var e;if(!Qe.__canvas){let t;try{const n=new OffscreenCanvas(0,0);if((e=n.getContext("2d",km))!=null&&e.measureText)return Qe.__canvas=n,n;t=Ue.ADAPTER.createCanvas()}catch{t=Ue.ADAPTER.createCanvas()}t.width=t.height=10,Qe.__canvas=t}return Qe.__canvas}static get _context(){return Qe.__context||(Qe.__context=Qe._canvas.getContext("2d",km)),Qe.__context}};po.METRICS_STRING="|q",po.BASELINE_SYMBOL="M",po.BASELINE_MULTIPLIER=1.4,po.HEIGHT_MULTIPLIER=2,po.graphemeSegmenter=(()=>{if(typeof(Intl==null?void 0:Intl.Segmenter)=="function"){const r=new Intl.Segmenter;return e=>[...r.segment(e)].map(t=>t.segment)}return r=>[...r]})(),po.experimentalLetterSpacing=!1,po._fonts={},po._newlines=[10,13],po._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];let Tl=po;const xF=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],hC=class Pf{constructor(e){this.styleID=0,this.reset(),_0(this,e,e)}clone(){const e={};return _0(e,this,Pf.defaultStyle),new Pf(e)}reset(){_0(this,Pf.defaultStyle,Pf.defaultStyle)}get align(){return this._align}set align(e){this._align!==e&&(this._align=e,this.styleID++)}get breakWords(){return this._breakWords}set breakWords(e){this._breakWords!==e&&(this._breakWords=e,this.styleID++)}get dropShadow(){return this._dropShadow}set dropShadow(e){this._dropShadow!==e&&(this._dropShadow=e,this.styleID++)}get dropShadowAlpha(){return this._dropShadowAlpha}set dropShadowAlpha(e){this._dropShadowAlpha!==e&&(this._dropShadowAlpha=e,this.styleID++)}get dropShadowAngle(){return this._dropShadowAngle}set dropShadowAngle(e){this._dropShadowAngle!==e&&(this._dropShadowAngle=e,this.styleID++)}get dropShadowBlur(){return this._dropShadowBlur}set dropShadowBlur(e){this._dropShadowBlur!==e&&(this._dropShadowBlur=e,this.styleID++)}get dropShadowColor(){return this._dropShadowColor}set dropShadowColor(e){const t=v0(e);this._dropShadowColor!==t&&(this._dropShadowColor=t,this.styleID++)}get dropShadowDistance(){return this._dropShadowDistance}set dropShadowDistance(e){this._dropShadowDistance!==e&&(this._dropShadowDistance=e,this.styleID++)}get fill(){return this._fill}set fill(e){const t=v0(e);this._fill!==t&&(this._fill=t,this.styleID++)}get fillGradientType(){return this._fillGradientType}set fillGradientType(e){this._fillGradientType!==e&&(this._fillGradientType=e,this.styleID++)}get fillGradientStops(){return this._fillGradientStops}set fillGradientStops(e){wF(this._fillGradientStops,e)||(this._fillGradientStops=e,this.styleID++)}get fontFamily(){return this._fontFamily}set fontFamily(e){this.fontFamily!==e&&(this._fontFamily=e,this.styleID++)}get fontSize(){return this._fontSize}set fontSize(e){this._fontSize!==e&&(this._fontSize=e,this.styleID++)}get fontStyle(){return this._fontStyle}set fontStyle(e){this._fontStyle!==e&&(this._fontStyle=e,this.styleID++)}get fontVariant(){return this._fontVariant}set fontVariant(e){this._fontVariant!==e&&(this._fontVariant=e,this.styleID++)}get fontWeight(){return this._fontWeight}set fontWeight(e){this._fontWeight!==e&&(this._fontWeight=e,this.styleID++)}get letterSpacing(){return this._letterSpacing}set letterSpacing(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.styleID++)}get lineHeight(){return this._lineHeight}set lineHeight(e){this._lineHeight!==e&&(this._lineHeight=e,this.styleID++)}get leading(){return this._leading}set leading(e){this._leading!==e&&(this._leading=e,this.styleID++)}get lineJoin(){return this._lineJoin}set lineJoin(e){this._lineJoin!==e&&(this._lineJoin=e,this.styleID++)}get miterLimit(){return this._miterLimit}set miterLimit(e){this._miterLimit!==e&&(this._miterLimit=e,this.styleID++)}get padding(){return this._padding}set padding(e){this._padding!==e&&(this._padding=e,this.styleID++)}get stroke(){return this._stroke}set stroke(e){const t=v0(e);this._stroke!==t&&(this._stroke=t,this.styleID++)}get strokeThickness(){return this._strokeThickness}set strokeThickness(e){this._strokeThickness!==e&&(this._strokeThickness=e,this.styleID++)}get textBaseline(){return this._textBaseline}set textBaseline(e){this._textBaseline!==e&&(this._textBaseline=e,this.styleID++)}get trim(){return this._trim}set trim(e){this._trim!==e&&(this._trim=e,this.styleID++)}get whiteSpace(){return this._whiteSpace}set whiteSpace(e){this._whiteSpace!==e&&(this._whiteSpace=e,this.styleID++)}get wordWrap(){return this._wordWrap}set wordWrap(e){this._wordWrap!==e&&(this._wordWrap=e,this.styleID++)}get wordWrapWidth(){return this._wordWrapWidth}set wordWrapWidth(e){this._wordWrapWidth!==e&&(this._wordWrapWidth=e,this.styleID++)}toFontString(){const e=typeof this.fontSize=="number"?`${this.fontSize}px`:this.fontSize;let t=this.fontFamily;Array.isArray(this.fontFamily)||(t=this.fontFamily.split(","));for(let n=t.length-1;n>=0;n--){let i=t[n].trim();!/([\"\'])[^\'\"]+\1/.test(i)&&!xF.includes(i)&&(i=`"${i}"`),t[n]=i}return`${this.fontStyle} ${this.fontVariant} ${this.fontWeight} ${e} ${t.join(",")}`}};hC.defaultStyle={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:Zg.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",leading:0,letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100};let _a=hC;function v0(r){const e=Ht.shared,t=n=>{const i=e.setValue(n);return i.alpha===1?i.toHex():i.toRgbaString()};return Array.isArray(r)?r.map(t):t(r)}function wF(r,e){if(!Array.isArray(r)||!Array.isArray(e)||r.length!==e.length)return!1;for(let t=0;t<r.length;++t)if(r[t]!==e[t])return!1;return!0}function _0(r,e,t){for(const n in t)Array.isArray(e[n])?r[n]=e[n].slice():r[n]=e[n]}const SF={texture:!0,children:!1,baseTexture:!0},cC=class A_ extends Do{constructor(e,t,n){let i=!1;n||(n=Ue.ADAPTER.createCanvas(),i=!0),n.width=3,n.height=3;const s=Oe.from(n);s.orig=new ht,s.trim=new ht,super(s),this._ownCanvas=i,this.canvas=n,this.context=n.getContext("2d",{willReadFrequently:!0}),this._resolution=A_.defaultResolution??Ue.RESOLUTION,this._autoResolution=A_.defaultAutoResolution,this._text=null,this._style=null,this._styleListener=null,this._font="",this.text=e,this.style=t,this.localStyleID=-1}static get experimentalLetterSpacing(){return Tl.experimentalLetterSpacing}static set experimentalLetterSpacing(e){mt("7.1.0","Text.experimentalLetterSpacing is deprecated, use TextMetrics.experimentalLetterSpacing"),Tl.experimentalLetterSpacing=e}updateText(e){const t=this._style;if(this.localStyleID!==t.styleID&&(this.dirty=!0,this.localStyleID=t.styleID),!this.dirty&&e)return;this._font=this._style.toFontString();const n=this.context,i=Tl.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),s=i.width,a=i.height,u=i.lines,c=i.lineHeight,f=i.lineWidths,m=i.maxLineWidth,g=i.fontProperties;this.canvas.width=Math.ceil(Math.ceil(Math.max(1,s)+t.padding*2)*this._resolution),this.canvas.height=Math.ceil(Math.ceil(Math.max(1,a)+t.padding*2)*this._resolution),n.scale(this._resolution,this._resolution),n.clearRect(0,0,this.canvas.width,this.canvas.height),n.font=this._font,n.lineWidth=t.strokeThickness,n.textBaseline=t.textBaseline,n.lineJoin=t.lineJoin,n.miterLimit=t.miterLimit;let v,x;const S=t.dropShadow?2:1;for(let b=0;b<S;++b){const E=t.dropShadow&&b===0,P=E?Math.ceil(Math.max(1,a)+t.padding*2):0,k=P*this._resolution;if(E){n.fillStyle="black",n.strokeStyle="black";const L=t.dropShadowColor,D=t.dropShadowBlur*this._resolution,H=t.dropShadowDistance*this._resolution;n.shadowColor=Ht.shared.setValue(L).setAlpha(t.dropShadowAlpha).toRgbaString(),n.shadowBlur=D,n.shadowOffsetX=Math.cos(t.dropShadowAngle)*H,n.shadowOffsetY=Math.sin(t.dropShadowAngle)*H+k}else n.fillStyle=this._generateFillStyle(t,u,i),n.strokeStyle=t.stroke,n.shadowColor="black",n.shadowBlur=0,n.shadowOffsetX=0,n.shadowOffsetY=0;let R=(c-g.fontSize)/2;c-g.fontSize<0&&(R=0);for(let L=0;L<u.length;L++)v=t.strokeThickness/2,x=t.strokeThickness/2+L*c+g.ascent+R,t.align==="right"?v+=m-f[L]:t.align==="center"&&(v+=(m-f[L])/2),t.stroke&&t.strokeThickness&&this.drawLetterSpacing(u[L],v+t.padding,x+t.padding-P,!0),t.fill&&this.drawLetterSpacing(u[L],v+t.padding,x+t.padding-P)}this.updateTexture()}drawLetterSpacing(e,t,n,i=!1){const s=this._style.letterSpacing;let a=!1;if(Tl.experimentalLetterSpacingSupported&&(Tl.experimentalLetterSpacing?(this.context.letterSpacing=`${s}px`,this.context.textLetterSpacing=`${s}px`,a=!0):(this.context.letterSpacing="0px",this.context.textLetterSpacing="0px")),s===0||a){i?this.context.strokeText(e,t,n):this.context.fillText(e,t,n);return}let u=t;const c=Tl.graphemeSegmenter(e);let f=this.context.measureText(e).width,m=0;for(let g=0;g<c.length;++g){const v=c[g];i?this.context.strokeText(v,u,n):this.context.fillText(v,u,n);let x="";for(let S=g+1;S<c.length;++S)x+=c[S];m=this.context.measureText(x).width,u+=f-m+s,f=m}}updateTexture(){const e=this.canvas;if(this._style.trim){const a=F2(e);a.data&&(e.width=a.width,e.height=a.height,this.context.putImageData(a.data,0,0))}const t=this._texture,n=this._style,i=n.trim?0:n.padding,s=t.baseTexture;t.trim.width=t._frame.width=e.width/this._resolution,t.trim.height=t._frame.height=e.height/this._resolution,t.trim.x=-i,t.trim.y=-i,t.orig.width=t._frame.width-i*2,t.orig.height=t._frame.height-i*2,this._onTextureUpdate(),s.setRealSize(e.width,e.height,this._resolution),t.updateUvs(),this.dirty=!1}_render(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),super._render(e)}updateTransform(){this.updateText(!0),super.updateTransform()}getBounds(e,t){return this.updateText(!0),this._textureID===-1&&(e=!1),super.getBounds(e,t)}getLocalBounds(e){return this.updateText(!0),super.getLocalBounds.call(this,e)}_calculateBounds(){this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_generateFillStyle(e,t,n){const i=e.fill;if(Array.isArray(i)){if(i.length===1)return i[0]}else return i;let s;const a=e.dropShadow?e.dropShadowDistance:0,u=e.padding||0,c=this.canvas.width/this._resolution-a-u*2,f=this.canvas.height/this._resolution-a-u*2,m=i.slice(),g=e.fillGradientStops.slice();if(!g.length){const v=m.length+1;for(let x=1;x<v;++x)g.push(x/v)}if(m.unshift(i[0]),g.unshift(0),m.push(i[i.length-1]),g.push(1),e.fillGradientType===Zg.LINEAR_VERTICAL){s=this.context.createLinearGradient(c/2,u,c/2,f+u);const v=n.fontProperties.fontSize+e.strokeThickness;for(let x=0;x<t.length;x++){const S=n.lineHeight*(x-1)+v,b=n.lineHeight*x;let E=b;x>0&&S>b&&(E=(b+S)/2);const P=b+v,k=n.lineHeight*(x+1);let R=P;x+1<t.length&&k<P&&(R=(P+k)/2);const L=(R-E)/f;for(let D=0;D<m.length;D++){let H=0;typeof g[D]=="number"?H=g[D]:H=D/m.length;let N=Math.min(1,Math.max(0,E/f+H*L));N=Number(N.toFixed(5)),s.addColorStop(N,m[D])}}}else{s=this.context.createLinearGradient(u,f/2,c+u,f/2);const v=m.length+1;let x=1;for(let S=0;S<m.length;S++){let b;typeof g[S]=="number"?b=g[S]:b=x/v,s.addColorStop(b,m[S]),x++}}return s}destroy(e){typeof e=="boolean"&&(e={children:e}),e=Object.assign({},SF,e),super.destroy(e),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width}set width(e){this.updateText(!0);const t=Al(this.scale.x)||1;this.scale.x=t*e/this._texture.orig.width,this._width=e}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height}set height(e){this.updateText(!0);const t=Al(this.scale.y)||1;this.scale.y=t*e/this._texture.orig.height,this._height=e}get style(){return this._style}set style(e){e=e||{},e instanceof _a?this._style=e:this._style=new _a(e),this.localStyleID=-1,this.dirty=!0}get text(){return this._text}set text(e){e=String(e??""),this._text!==e&&(this._text=e,this.dirty=!0)}get resolution(){return this._resolution}set resolution(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)}};cC.defaultAutoResolution=!0;let Dx=cC;class bF{constructor(e){this.maxItemsPerFrame=e,this.itemsLeft=0}beginFrame(){this.itemsLeft=this.maxItemsPerFrame}allowedToUpload(){return this.itemsLeft-- >0}}function TF(r,e){var n;let t=!1;if((n=r==null?void 0:r._textures)!=null&&n.length){for(let i=0;i<r._textures.length;i++)if(r._textures[i]instanceof Oe){const s=r._textures[i].baseTexture;e.includes(s)||(e.push(s),t=!0)}}return t}function EF(r,e){if(r.baseTexture instanceof lt){const t=r.baseTexture;return e.includes(t)||e.push(t),!0}return!1}function AF(r,e){if(r._texture&&r._texture instanceof Oe){const t=r._texture.baseTexture;return e.includes(t)||e.push(t),!0}return!1}function CF(r,e){return e instanceof Dx?(e.updateText(!0),!0):!1}function PF(r,e){if(e instanceof _a){const t=e.toFontString();return Tl.measureFont(t),!0}return!1}function RF(r,e){if(r instanceof Dx){e.includes(r.style)||e.push(r.style),e.includes(r)||e.push(r);const t=r._texture.baseTexture;return e.includes(t)||e.push(t),!0}return!1}function IF(r,e){return r instanceof _a?(e.includes(r)||e.push(r),!0):!1}const dC=class fC{constructor(e){this.limiter=new bF(fC.uploadsPerFrame),this.renderer=e,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=()=>{this.queue&&this.prepareItems()},this.registerFindHook(RF),this.registerFindHook(IF),this.registerFindHook(TF),this.registerFindHook(EF),this.registerFindHook(AF),this.registerUploadHook(CF),this.registerUploadHook(PF)}upload(e){return new Promise(t=>{e&&this.add(e),this.queue.length?(this.completes.push(t),this.ticking||(this.ticking=!0,qr.system.addOnce(this.tick,this,Fl.UTILITY))):t()})}tick(){setTimeout(this.delayedTick,0)}prepareItems(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){const e=this.queue[0];let t=!1;if(e&&!e._destroyed){for(let n=0,i=this.uploadHooks.length;n<i;n++)if(this.uploadHooks[n](this.uploadHookHelper,e)){this.queue.shift(),t=!0;break}}t||this.queue.shift()}if(this.queue.length)qr.system.addOnce(this.tick,this,Fl.UTILITY);else{this.ticking=!1;const e=this.completes.slice(0);this.completes.length=0;for(let t=0,n=e.length;t<n;t++)e[t]()}}registerFindHook(e){return e&&this.addHooks.push(e),this}registerUploadHook(e){return e&&this.uploadHooks.push(e),this}add(e){for(let t=0,n=this.addHooks.length;t<n&&!this.addHooks[t](e,this.queue);t++);if(e instanceof Un)for(let t=e.children.length-1;t>=0;t--)this.add(e.children[t]);return this}destroy(){this.ticking&&qr.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null}};dC.uploadsPerFrame=4;let C_=dC;Object.defineProperties(Ue,{UPLOADS_PER_FRAME:{get(){return C_.uploadsPerFrame},set(r){mt("7.1.0","settings.UPLOADS_PER_FRAME is deprecated, use prepare.BasePrepare.uploadsPerFrame"),C_.uploadsPerFrame=r}}});function pC(r,e){return e instanceof lt?(e._glTextures[r.CONTEXT_UID]||r.texture.bind(e),!0):!1}function kF(r,e){if(!(e instanceof Lf))return!1;const{geometry:t}=e;e.finishPoly(),t.updateBatches();const{batches:n}=t;for(let i=0;i<n.length;i++){const{texture:s}=n[i].style;s&&pC(r,s.baseTexture)}return t.batchable||r.geometry.bind(t,e._resolveDirectShader(r)),!0}function MF(r,e){return r instanceof Lf?(e.push(r),!0):!1}class mC extends C_{constructor(e){super(e),this.uploadHookHelper=this.renderer,this.registerFindHook(MF),this.registerUploadHook(pC),this.registerUploadHook(kF)}}mC.extension={name:"prepare",type:Ne.RendererSystem};qe.add(mC);class Kf extends Do{constructor(e,t=!0){super(e[0]instanceof Oe?e[0]:e[0].texture),this._textures=null,this._durations=null,this._autoUpdate=t,this._isConnectedToTicker=!1,this.animationSpeed=1,this.loop=!0,this.updateAnchor=!1,this.onComplete=null,this.onFrameChange=null,this.onLoop=null,this._currentTime=0,this._playing=!1,this._previousFrame=null,this.textures=e}stop(){this._playing&&(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(qr.shared.remove(this.update,this),this._isConnectedToTicker=!1))}play(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(qr.shared.add(this.update,this,Fl.HIGH),this._isConnectedToTicker=!0))}gotoAndStop(e){this.stop(),this.currentFrame=e}gotoAndPlay(e){this.currentFrame=e,this.play()}update(e){if(!this._playing)return;const t=this.animationSpeed*e,n=this.currentFrame;if(this._durations!==null){let i=this._currentTime%1*this._durations[this.currentFrame];for(i+=t/60*1e3;i<0;)this._currentTime--,i+=this._durations[this.currentFrame];const s=Math.sign(this.animationSpeed*e);for(this._currentTime=Math.floor(this._currentTime);i>=this._durations[this.currentFrame];)i-=this._durations[this.currentFrame]*s,this._currentTime+=s;this._currentTime+=i/this._durations[this.currentFrame]}else this._currentTime+=t;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):n!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<n||this.animationSpeed<0&&this.currentFrame>n)&&this.onLoop(),this.updateTexture())}updateTexture(){const e=this.currentFrame;this._previousFrame!==e&&(this._previousFrame=e,this._texture=this._textures[e],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))}destroy(e){this.stop(),super.destroy(e),this.onComplete=null,this.onFrameChange=null,this.onLoop=null}static fromFrames(e){const t=[];for(let n=0;n<e.length;++n)t.push(Oe.from(e[n]));return new Kf(t)}static fromImages(e){const t=[];for(let n=0;n<e.length;++n)t.push(Oe.from(e[n]));return new Kf(t)}get totalFrames(){return this._textures.length}get textures(){return this._textures}set textures(e){if(e[0]instanceof Oe)this._textures=e,this._durations=null;else{this._textures=[],this._durations=[];for(let t=0;t<e.length;t++)this._textures.push(e[t].texture),this._durations.push(e[t].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()}get currentFrame(){let e=Math.floor(this._currentTime)%this._textures.length;return e<0&&(e+=this._textures.length),e}set currentFrame(e){if(e<0||e>this.totalFrames-1)throw new Error(`[AnimatedSprite]: Invalid frame index value ${e}, expected to be between 0 and totalFrames ${this.totalFrames}.`);const t=this.currentFrame;this._currentTime=e,t!==this.currentFrame&&this.updateTexture()}get playing(){return this._playing}get autoUpdate(){return this._autoUpdate}set autoUpdate(e){e!==this._autoUpdate&&(this._autoUpdate=e,!this._autoUpdate&&this._isConnectedToTicker?(qr.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(qr.shared.add(this.update,this),this._isConnectedToTicker=!0))}}const vf=new gt;class Ox extends Do{constructor(e,t=100,n=100){super(e),this.tileTransform=new Wg,this._width=t,this._height=n,this.uvMatrix=this.texture.uvMatrix||new Cx(e),this.pluginName="tilingSprite",this.uvRespectAnchor=!1}get clampMargin(){return this.uvMatrix.clampMargin}set clampMargin(e){this.uvMatrix.clampMargin=e,this.uvMatrix.update(!0)}get tileScale(){return this.tileTransform.scale}set tileScale(e){this.tileTransform.scale.copyFrom(e)}get tilePosition(){return this.tileTransform.position}set tilePosition(e){this.tileTransform.position.copyFrom(e)}_onTextureUpdate(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215}_render(e){const t=this._texture;!t||!t.valid||(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this))}_calculateBounds(){const e=this._width*-this._anchor._x,t=this._height*-this._anchor._y,n=this._width*(1-this._anchor._x),i=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,e,t,n,i)}getLocalBounds(e){return this.children.length===0?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new ht),e=this._localBoundsRect),this._bounds.getRectangle(e)):super.getLocalBounds.call(this,e)}containsPoint(e){this.worldTransform.applyInverse(e,vf);const t=this._width,n=this._height,i=-t*this.anchor._x;if(vf.x>=i&&vf.x<i+t){const s=-n*this.anchor._y;if(vf.y>=s&&vf.y<s+n)return!0}return!1}destroy(e){super.destroy(e),this.tileTransform=null,this.uvMatrix=null}static from(e,t){const n=e instanceof Oe?e:Oe.from(e,t);return new Ox(n,t.width,t.height)}get width(){return this._width}set width(e){this._width=e}get height(){return this._height}set height(e){this._height=e}}var DF=`#version 300 es
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

in vec2 vTextureCoord;

out vec4 fragmentColor;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0

    fragmentColor = texSample * uColor;
}
`,OF=`#version 300 es
#define SHADER_NAME Tiling-Sprite-300

precision lowp float;

in vec2 aVertexPosition;
in vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

out vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,NF=`#version 100
#ifdef GL_EXT_shader_texture_lod
    #extension GL_EXT_shader_texture_lod : enable
#endif
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    #ifdef GL_EXT_shader_texture_lod
        vec4 texSample = unclamped == coord
            ? texture2D(uSampler, coord) 
            : texture2DLodEXT(uSampler, coord, 0);
    #else
        vec4 texSample = texture2D(uSampler, coord);
    #endif

    gl_FragColor = texSample * uColor;
}
`,Ab=`#version 100
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,FF=`#version 100
#define SHADER_NAME Tiling-Sprite-Simple-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;

void main(void)
{
    vec4 texSample = texture2D(uSampler, vTextureCoord);
    gl_FragColor = texSample * uColor;
}
`;const Mm=new Wt;class gC extends Xg{constructor(e){super(e),e.runners.contextChange.add(this),this.quad=new SA,this.state=Mo.for2d()}contextChange(){const e=this.renderer,t={globals:e.globalUniforms};this.simpleShader=So.from(Ab,FF,t),this.shader=e.context.webGLVersion>1?So.from(OF,DF,t):So.from(Ab,NF,t)}render(e){const t=this.renderer,n=this.quad;let i=n.vertices;i[0]=i[6]=e._width*-e.anchor.x,i[1]=i[3]=e._height*-e.anchor.y,i[2]=i[4]=e._width*(1-e.anchor.x),i[5]=i[7]=e._height*(1-e.anchor.y);const s=e.uvRespectAnchor?e.anchor.x:0,a=e.uvRespectAnchor?e.anchor.y:0;i=n.uvs,i[0]=i[6]=-s,i[1]=i[3]=-a,i[2]=i[4]=1-s,i[5]=i[7]=1-a,n.invalidate();const u=e._texture,c=u.baseTexture,f=c.alphaMode>0,m=e.tileTransform.localTransform,g=e.uvMatrix;let v=c.isPowerOfTwo&&u.frame.width===c.width&&u.frame.height===c.height;v&&(c._glTextures[t.CONTEXT_UID]?v=c.wrapMode!==pa.CLAMP:c.wrapMode===pa.CLAMP&&(c.wrapMode=pa.REPEAT));const x=v?this.simpleShader:this.shader,S=u.width,b=u.height,E=e._width,P=e._height;Mm.set(m.a*S/E,m.b*S/P,m.c*b/E,m.d*b/P,m.tx/E,m.ty/P),Mm.invert(),v?Mm.prepend(g.mapCoord):(x.uniforms.uMapCoord=g.mapCoord.toArray(!0),x.uniforms.uClampFrame=g.uClampFrame,x.uniforms.uClampOffset=g.uClampOffset),x.uniforms.uTransform=Mm.toArray(!0),x.uniforms.uColor=Ht.shared.setValue(e.tint).premultiply(e.worldAlpha,f).toArray(x.uniforms.uColor),x.uniforms.translationMatrix=e.transform.worldTransform.toArray(!0),x.uniforms.uSampler=u,t.shader.bind(x),t.geometry.bind(n),this.state.blendMode=uA(e.blendMode,f),t.state.set(this.state),t.geometry.draw(this.renderer.gl.TRIANGLES,6,0)}}gC.extension={name:"tilingSprite",type:Ne.RendererPlugin};qe.add(gC);const yC=class Rf{constructor(e,t,n){this.linkedSheets=[],(e instanceof lt||e instanceof Oe)&&(e={texture:e,data:t,resolutionFilename:n});const{texture:i,data:s,resolutionFilename:a=null,cachePrefix:u=""}=e;this.cachePrefix=u,this._texture=i instanceof Oe?i:null,this.baseTexture=i instanceof lt?i:this._texture.baseTexture,this.textures={},this.animations={},this.data=s;const c=this.baseTexture.resource;this.resolution=this._updateResolution(a||(c?c.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}_updateResolution(e=null){const{scale:t}=this.data.meta;let n=ya(e,null);return n===null&&(n=typeof t=="number"?t:parseFloat(t??"1")),n!==1&&this.baseTexture.setResolution(n),n}parse(){return new Promise(e=>{this._callback=e,this._batchIndex=0,this._frameKeys.length<=Rf.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()})}_processFrames(e){let t=e;const n=Rf.BATCH_SIZE;for(;t-e<n&&t<this._frameKeys.length;){const i=this._frameKeys[t],s=this._frames[i],a=s.frame;if(a){let u=null,c=null;const f=s.trimmed!==!1&&s.sourceSize?s.sourceSize:s.frame,m=new ht(0,0,Math.floor(f.w)/this.resolution,Math.floor(f.h)/this.resolution);s.rotated?u=new ht(Math.floor(a.x)/this.resolution,Math.floor(a.y)/this.resolution,Math.floor(a.h)/this.resolution,Math.floor(a.w)/this.resolution):u=new ht(Math.floor(a.x)/this.resolution,Math.floor(a.y)/this.resolution,Math.floor(a.w)/this.resolution,Math.floor(a.h)/this.resolution),s.trimmed!==!1&&s.spriteSourceSize&&(c=new ht(Math.floor(s.spriteSourceSize.x)/this.resolution,Math.floor(s.spriteSourceSize.y)/this.resolution,Math.floor(a.w)/this.resolution,Math.floor(a.h)/this.resolution)),this.textures[i]=new Oe(this.baseTexture,u,m,c,s.rotated?2:0,s.anchor,s.borders),Oe.addToCache(this.textures[i],this.cachePrefix+i.toString())}t++}}_processAnimations(){const e=this.data.animations||{};for(const t in e){this.animations[t]=[];for(let n=0;n<e[t].length;n++){const i=e[t][n];this.animations[t].push(this.textures[i])}}}_parseComplete(){const e=this._callback;this._callback=null,this._batchIndex=0,e.call(this,this.textures)}_nextBatch(){this._processFrames(this._batchIndex*Rf.BATCH_SIZE),this._batchIndex++,setTimeout(()=>{this._batchIndex*Rf.BATCH_SIZE<this._frameKeys.length?this._nextBatch():(this._processAnimations(),this._parseComplete())},0)}destroy(e=!1){var t;for(const n in this.textures)this.textures[n].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,e&&((t=this._texture)==null||t.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null,this.linkedSheets=[]}};yC.BATCH_SIZE=1e3;let Cb=yC;const LF=["jpg","png","jpeg","avif","webp","s3tc","s3tc_sRGB","etc","etc1","pvrtc","atc","astc","bptc"];function vC(r,e,t){const n={};if(r.forEach(i=>{n[i]=e}),Object.keys(e.textures).forEach(i=>{n[`${e.cachePrefix}${i}`]=e.textures[i]}),!t){const i=Kr.dirname(r[0]);e.linkedSheets.forEach((s,a)=>{Object.assign(n,vC([`${i}/${e.data.meta.related_multi_packs[a]}`],s,!0))})}return n}const BF={extension:Ne.Asset,cache:{test:r=>r instanceof Cb,getCacheableAssets:(r,e)=>vC(r,e,!1)},resolver:{test:r=>{const e=r.split("?")[0].split("."),t=e.pop(),n=e.pop();return t==="json"&&LF.includes(n)},parse:r=>{var t;const e=r.split(".");return{resolution:parseFloat(((t=Ue.RETINA_PREFIX.exec(r))==null?void 0:t[1])??"1"),format:e[e.length-2],src:r}}},loader:{name:"spritesheetLoader",extension:{type:Ne.LoadParser,priority:zs.Normal},async testParse(r,e){return Kr.extname(e.src).toLowerCase()===".json"&&!!r.frames},async parse(r,e,t){var m,g;const{texture:n,imageFilename:i,cachePrefix:s}=(e==null?void 0:e.data)??{};let a=Kr.dirname(e.src);a&&a.lastIndexOf("/")!==a.length-1&&(a+="/");let u;if(n&&n.baseTexture)u=n;else{const v=S_(a+(i??r.meta.image),e.src);u=(await t.load([v]))[v]}const c=new Cb({texture:u.baseTexture,data:r,resolutionFilename:e.src,cachePrefix:s});await c.parse();const f=(m=r==null?void 0:r.meta)==null?void 0:m.related_multi_packs;if(Array.isArray(f)){const v=[];for(const S of f){if(typeof S!="string")continue;let b=a+S;(g=e.data)!=null&&g.ignoreMultiPack||(b=S_(b,e.src),v.push(t.load({src:b,data:{ignoreMultiPack:!0}})))}const x=await Promise.all(v);c.linkedSheets=x,x.forEach(S=>{S.linkedSheets=[c].concat(c.linkedSheets.filter(b=>b!==S))})}return c},unload(r){r.destroy(!0)}}};qe.add(BF);class xg{constructor(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[],this.distanceField=[]}}class Qm{static test(e){return typeof e=="string"&&e.startsWith("info face=")}static parse(e){const t=e.match(/^[a-z]+\s+.+$/gm),n={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(const s in t){const a=t[s].match(/^[a-z]+/gm)[0],u=t[s].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),c={};for(const f in u){const m=u[f].split("="),g=m[0],v=m[1].replace(/"/gm,""),x=parseFloat(v),S=isNaN(x)?v:x;c[g]=S}n[a].push(c)}const i=new xg;return n.info.forEach(s=>i.info.push({face:s.face,size:parseInt(s.size,10)})),n.common.forEach(s=>i.common.push({lineHeight:parseInt(s.lineHeight,10)})),n.page.forEach(s=>i.page.push({id:parseInt(s.id,10),file:s.file})),n.char.forEach(s=>i.char.push({id:parseInt(s.id,10),page:parseInt(s.page,10),x:parseInt(s.x,10),y:parseInt(s.y,10),width:parseInt(s.width,10),height:parseInt(s.height,10),xoffset:parseInt(s.xoffset,10),yoffset:parseInt(s.yoffset,10),xadvance:parseInt(s.xadvance,10)})),n.kerning.forEach(s=>i.kerning.push({first:parseInt(s.first,10),second:parseInt(s.second,10),amount:parseInt(s.amount,10)})),n.distanceField.forEach(s=>i.distanceField.push({distanceRange:parseInt(s.distanceRange,10),fieldType:s.fieldType})),i}}class P_{static test(e){const t=e;return typeof e!="string"&&"getElementsByTagName"in e&&t.getElementsByTagName("page").length&&t.getElementsByTagName("info")[0].getAttribute("face")!==null}static parse(e){const t=new xg,n=e.getElementsByTagName("info"),i=e.getElementsByTagName("common"),s=e.getElementsByTagName("page"),a=e.getElementsByTagName("char"),u=e.getElementsByTagName("kerning"),c=e.getElementsByTagName("distanceField");for(let f=0;f<n.length;f++)t.info.push({face:n[f].getAttribute("face"),size:parseInt(n[f].getAttribute("size"),10)});for(let f=0;f<i.length;f++)t.common.push({lineHeight:parseInt(i[f].getAttribute("lineHeight"),10)});for(let f=0;f<s.length;f++)t.page.push({id:parseInt(s[f].getAttribute("id"),10)||0,file:s[f].getAttribute("file")});for(let f=0;f<a.length;f++){const m=a[f];t.char.push({id:parseInt(m.getAttribute("id"),10),page:parseInt(m.getAttribute("page"),10)||0,x:parseInt(m.getAttribute("x"),10),y:parseInt(m.getAttribute("y"),10),width:parseInt(m.getAttribute("width"),10),height:parseInt(m.getAttribute("height"),10),xoffset:parseInt(m.getAttribute("xoffset"),10),yoffset:parseInt(m.getAttribute("yoffset"),10),xadvance:parseInt(m.getAttribute("xadvance"),10)})}for(let f=0;f<u.length;f++)t.kerning.push({first:parseInt(u[f].getAttribute("first"),10),second:parseInt(u[f].getAttribute("second"),10),amount:parseInt(u[f].getAttribute("amount"),10)});for(let f=0;f<c.length;f++)t.distanceField.push({fieldType:c[f].getAttribute("fieldType"),distanceRange:parseInt(c[f].getAttribute("distanceRange"),10)});return t}}class R_{static test(e){return typeof e=="string"&&e.includes("<font>")?P_.test(Ue.ADAPTER.parseXML(e)):!1}static parse(e){return P_.parse(Ue.ADAPTER.parseXML(e))}}const x0=[Qm,P_,R_];function UF(r){for(let e=0;e<x0.length;e++)if(x0[e].test(r))return x0[e];return null}function zF(r,e,t,n,i,s){const a=t.fill;if(Array.isArray(a)){if(a.length===1)return a[0]}else return a;let u;const c=t.dropShadow?t.dropShadowDistance:0,f=t.padding||0,m=r.width/n-c-f*2,g=r.height/n-c-f*2,v=a.slice(),x=t.fillGradientStops.slice();if(!x.length){const S=v.length+1;for(let b=1;b<S;++b)x.push(b/S)}if(v.unshift(a[0]),x.unshift(0),v.push(a[a.length-1]),x.push(1),t.fillGradientType===Zg.LINEAR_VERTICAL){u=e.createLinearGradient(m/2,f,m/2,g+f);let S=0;const b=(s.fontProperties.fontSize+t.strokeThickness)/g;for(let E=0;E<i.length;E++){const P=s.lineHeight*E;for(let k=0;k<v.length;k++){let R=0;typeof x[k]=="number"?R=x[k]:R=k/v.length;const L=P/g+R*b;let D=Math.max(S,L);D=Math.min(D,1),u.addColorStop(D,v[k]),S=D}}}else{u=e.createLinearGradient(f,g/2,m+f,g/2);const S=v.length+1;let b=1;for(let E=0;E<v.length;E++){let P;typeof x[E]=="number"?P=x[E]:P=b/S,u.addColorStop(P,v[E]),b++}}return u}function VF(r,e,t,n,i,s,a){const u=t.text,c=t.fontProperties;e.translate(n,i),e.scale(s,s);const f=a.strokeThickness/2,m=-(a.strokeThickness/2);if(e.font=a.toFontString(),e.lineWidth=a.strokeThickness,e.textBaseline=a.textBaseline,e.lineJoin=a.lineJoin,e.miterLimit=a.miterLimit,e.fillStyle=zF(r,e,a,s,[u],t),e.strokeStyle=a.stroke,a.dropShadow){const g=a.dropShadowColor,v=a.dropShadowBlur*s,x=a.dropShadowDistance*s;e.shadowColor=Ht.shared.setValue(g).setAlpha(a.dropShadowAlpha).toRgbaString(),e.shadowBlur=v,e.shadowOffsetX=Math.cos(a.dropShadowAngle)*x,e.shadowOffsetY=Math.sin(a.dropShadowAngle)*x}else e.shadowColor="black",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0;a.stroke&&a.strokeThickness&&e.strokeText(u,f,m+t.lineHeight-c.descent),a.fill&&e.fillText(u,f,m+t.lineHeight-c.descent),e.setTransform(1,0,0,1,0,0),e.fillStyle="rgba(0, 0, 0, 0)"}function Zm(r){return r.codePointAt?r.codePointAt(0):r.charCodeAt(0)}function _C(r){return Array.from?Array.from(r):r.split("")}function GF(r){typeof r=="string"&&(r=[r]);const e=[];for(let t=0,n=r.length;t<n;t++){const i=r[t];if(Array.isArray(i)){if(i.length!==2)throw new Error(`[BitmapFont]: Invalid character range length, expecting 2 got ${i.length}.`);const s=i[0].charCodeAt(0),a=i[1].charCodeAt(0);if(a<s)throw new Error("[BitmapFont]: Invalid character range.");for(let u=s,c=a;u<=c;u++)e.push(String.fromCharCode(u))}else e.push(..._C(i))}if(e.length===0)throw new Error("[BitmapFont]: Empty set when resolving characters.");return e}const wl=class mo{constructor(e,t,n){var m;const[i]=e.info,[s]=e.common,[a]=e.page,[u]=e.distanceField,c=ya(a.file),f={};this._ownsTextures=n,this.font=i.face,this.size=i.size,this.lineHeight=s.lineHeight/c,this.chars={},this.pageTextures=f;for(let g=0;g<e.page.length;g++){const{id:v,file:x}=e.page[g];f[v]=t instanceof Array?t[g]:t[x],u!=null&&u.fieldType&&u.fieldType!=="none"&&(f[v].baseTexture.alphaMode=li.NO_PREMULTIPLIED_ALPHA,f[v].baseTexture.mipmap=Co.OFF)}for(let g=0;g<e.char.length;g++){const{id:v,page:x}=e.char[g];let{x:S,y:b,width:E,height:P,xoffset:k,yoffset:R,xadvance:L}=e.char[g];S/=c,b/=c,E/=c,P/=c,k/=c,R/=c,L/=c;const D=new ht(S+f[x].frame.x/c,b+f[x].frame.y/c,E,P);this.chars[v]={xOffset:k,yOffset:R,xAdvance:L,kerning:{},texture:new Oe(f[x].baseTexture,D),page:x}}for(let g=0;g<e.kerning.length;g++){let{first:v,second:x,amount:S}=e.kerning[g];v/=c,x/=c,S/=c,this.chars[x]&&(this.chars[x].kerning[v]=S)}this.distanceFieldRange=u==null?void 0:u.distanceRange,this.distanceFieldType=((m=u==null?void 0:u.fieldType)==null?void 0:m.toLowerCase())??"none"}destroy(){for(const e in this.chars)this.chars[e].texture.destroy(),this.chars[e].texture=null;for(const e in this.pageTextures)this._ownsTextures&&this.pageTextures[e].destroy(!0),this.pageTextures[e]=null;this.chars=null,this.pageTextures=null}static install(e,t,n){let i;if(e instanceof xg)i=e;else{const a=UF(e);if(!a)throw new Error("Unrecognized data format for font.");i=a.parse(e)}t instanceof Oe&&(t=[t]);const s=new mo(i,t,n);return mo.available[s.font]=s,s}static uninstall(e){const t=mo.available[e];if(!t)throw new Error(`No font found named '${e}'`);t.destroy(),delete mo.available[e]}static from(e,t,n){if(!e)throw new Error("[BitmapFont] Property `name` is required.");const{chars:i,padding:s,resolution:a,textureWidth:u,textureHeight:c,...f}=Object.assign({},mo.defaultOptions,n),m=GF(i),g=t instanceof _a?t:new _a(t),v=u,x=new xg;x.info[0]={face:g.fontFamily,size:g.fontSize},x.common[0]={lineHeight:g.fontSize};let S=0,b=0,E,P,k,R=0;const L=[];for(let H=0;H<m.length;H++){E||(E=Ue.ADAPTER.createCanvas(),E.width=u,E.height=c,P=E.getContext("2d"),k=new lt(E,{resolution:a,...f}),L.push(new Oe(k)),x.page.push({id:L.length-1,file:""}));const N=m[H],G=Tl.measureText(N,g,!1,E),X=G.width,re=Math.ceil(G.height),me=Math.ceil((g.fontStyle==="italic"?2:1)*X);if(b>=c-re*a){if(b===0)throw new Error(`[BitmapFont] textureHeight ${c}px is too small (fontFamily: '${g.fontFamily}', fontSize: ${g.fontSize}px, char: '${N}')`);--H,E=null,P=null,k=null,b=0,S=0,R=0;continue}if(R=Math.max(re+G.fontProperties.descent,R),me*a+S>=v){if(S===0)throw new Error(`[BitmapFont] textureWidth ${u}px is too small (fontFamily: '${g.fontFamily}', fontSize: ${g.fontSize}px, char: '${N}')`);--H,b+=R*a,b=Math.ceil(b),S=0,R=0;continue}VF(E,P,G,S,b,a,g);const q=Zm(G.text);x.char.push({id:q,page:L.length-1,x:S/a,y:b/a,width:me,height:re,xoffset:0,yoffset:0,xadvance:X-(g.dropShadow?g.dropShadowDistance:0)-(g.stroke?g.strokeThickness:0)}),S+=(me+2*s)*a,S=Math.ceil(S)}if(!(n!=null&&n.skipKerning))for(let H=0,N=m.length;H<N;H++){const G=m[H];for(let X=0;X<N;X++){const re=m[X],me=P.measureText(G).width,q=P.measureText(re).width,Z=P.measureText(G+re).width-(me+q);Z&&x.kerning.push({first:Zm(G),second:Zm(re),amount:Z})}}const D=new mo(x,L,!0);return mo.available[e]!==void 0&&mo.uninstall(e),mo.available[e]=D,D}};wl.ALPHA=[["a","z"],["A","Z"]," "],wl.NUMERIC=[["0","9"]],wl.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],wl.ASCII=[[" ","~"]],wl.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:wl.ALPHANUMERIC},wl.available={};let Sl=wl;var jF=`// Pixi texture info\r
varying vec2 vTextureCoord;\r
uniform sampler2D uSampler;\r
\r
// Tint\r
uniform vec4 uColor;\r
\r
// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\r
uniform float uFWidth;\r
\r
void main(void) {\r
\r
  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\r
  vec4 texColor = texture2D(uSampler, vTextureCoord);\r
\r
  // MSDF\r
  float median = texColor.r + texColor.g + texColor.b -\r
                  min(texColor.r, min(texColor.g, texColor.b)) -\r
                  max(texColor.r, max(texColor.g, texColor.b));\r
  // SDF\r
  median = min(median, texColor.a);\r
\r
  float screenPxDistance = uFWidth * (median - 0.5);\r
  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\r
  if (median < 0.01) {\r
    alpha = 0.0;\r
  } else if (median > 0.99) {\r
    alpha = 1.0;\r
  }\r
\r
  // Gamma correction for coverage-like alpha\r
  float luma = dot(uColor.rgb, vec3(0.299, 0.587, 0.114));\r
  float gamma = mix(1.0, 1.0 / 2.2, luma);\r
  float coverage = pow(uColor.a * alpha, gamma);  \r
\r
  // NPM Textures, NPM outputs\r
  gl_FragColor = vec4(uColor.rgb, coverage);\r
}\r
`,HF=`// Mesh material default fragment\r
attribute vec2 aVertexPosition;\r
attribute vec2 aTextureCoord;\r
\r
uniform mat3 projectionMatrix;\r
uniform mat3 translationMatrix;\r
uniform mat3 uTextureMatrix;\r
\r
varying vec2 vTextureCoord;\r
\r
void main(void)\r
{\r
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\r
\r
    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\r
}\r
`;const Pb=[],Rb=[],Ib=[],xC=class wC extends Un{constructor(e,t={}){super();const{align:n,tint:i,maxWidth:s,letterSpacing:a,fontName:u,fontSize:c}=Object.assign({},wC.styleDefaults,t);if(!Sl.available[u])throw new Error(`Missing BitmapFont "${u}"`);this._activePagesMeshData=[],this._textWidth=0,this._textHeight=0,this._align=n,this._tintColor=new Ht(i),this._font=void 0,this._fontName=u,this._fontSize=c,this.text=e,this._maxWidth=s,this._maxLineHeight=0,this._letterSpacing=a,this._anchor=new _o(()=>{this.dirty=!0},this,0,0),this._roundPixels=Ue.ROUND_PIXELS,this.dirty=!0,this._resolution=Ue.RESOLUTION,this._autoResolution=!0,this._textureCache={}}updateText(){var me;const e=Sl.available[this._fontName],t=this.fontSize,n=t/e.size,i=new gt,s=[],a=[],u=[],c=this._text.replace(/(?:\r\n|\r)/g,`
`)||" ",f=_C(c),m=this._maxWidth*e.size/t,g=e.distanceFieldType==="none"?Pb:Rb;let v=null,x=0,S=0,b=0,E=-1,P=0,k=0,R=0,L=0;for(let q=0;q<f.length;q++){const Z=f[q],le=Zm(Z);if(/(?:\s)/.test(Z)&&(E=q,P=x,L++),Z==="\r"||Z===`
`){a.push(x),u.push(-1),S=Math.max(S,x),++b,++k,i.x=0,i.y+=e.lineHeight,v=null,L=0;continue}const xe=e.chars[le];if(!xe)continue;v&&xe.kerning[v]&&(i.x+=xe.kerning[v]);const U=Ib.pop()||{texture:Oe.EMPTY,line:0,charCode:0,prevSpaces:0,position:new gt};U.texture=xe.texture,U.line=b,U.charCode=le,U.position.x=Math.round(i.x+xe.xOffset+this._letterSpacing/2),U.position.y=Math.round(i.y+xe.yOffset),U.prevSpaces=L,s.push(U),x=U.position.x+Math.max(xe.xAdvance-xe.xOffset,xe.texture.orig.width),i.x+=xe.xAdvance+this._letterSpacing,R=Math.max(R,xe.yOffset+xe.texture.height),v=le,E!==-1&&m>0&&i.x>m&&(++k,Vc(s,1+E-k,1+q-E),q=E,E=-1,a.push(P),u.push(s.length>0?s[s.length-1].prevSpaces:0),S=Math.max(S,P),b++,i.x=0,i.y+=e.lineHeight,v=null,L=0)}const D=f[f.length-1];D!=="\r"&&D!==`
`&&(/(?:\s)/.test(D)&&(x=P),a.push(x),S=Math.max(S,x),u.push(-1));const H=[];for(let q=0;q<=b;q++){let Z=0;this._align==="right"?Z=S-a[q]:this._align==="center"?Z=(S-a[q])/2:this._align==="justify"&&(Z=u[q]<0?0:(S-a[q])/u[q]),H.push(Z)}const N=s.length,G={},X=[],re=this._activePagesMeshData;g.push(...re);for(let q=0;q<N;q++){const Z=s[q].texture,le=Z.baseTexture.uid;if(!G[le]){let xe=g.pop();if(!xe){const z=new Qg;let M,$;e.distanceFieldType==="none"?(M=new qf(Oe.EMPTY),$=rt.NORMAL):(M=new qf(Oe.EMPTY,{program:da.from(HF,jF),uniforms:{uFWidth:0}}),$=rt.NORMAL_NPM);const B=new Yf(z,M);B.blendMode=$,xe={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:B,vertices:null,uvs:null,indices:null}}xe.index=0,xe.indexCount=0,xe.vertexCount=0,xe.uvsCount=0,xe.total=0;const{_textureCache:U}=this;U[le]=U[le]||new Oe(Z.baseTexture),xe.mesh.texture=U[le],xe.mesh.tint=this._tintColor.value,X.push(xe),G[le]=xe}G[le].total++}for(let q=0;q<re.length;q++)X.includes(re[q])||this.removeChild(re[q].mesh);for(let q=0;q<X.length;q++)X[q].mesh.parent!==this&&this.addChild(X[q].mesh);this._activePagesMeshData=X;for(const q in G){const Z=G[q],le=Z.total;if(!(((me=Z.indices)==null?void 0:me.length)>6*le)||Z.vertices.length<Yf.BATCHABLE_SIZE*2)Z.vertices=new Float32Array(4*2*le),Z.uvs=new Float32Array(4*2*le),Z.indices=new Uint16Array(6*le);else{const xe=Z.total,U=Z.vertices;for(let z=xe*4*2;z<U.length;z++)U[z]=0}Z.mesh.size=6*le}for(let q=0;q<N;q++){const Z=s[q];let le=Z.position.x+H[Z.line]*(this._align==="justify"?Z.prevSpaces:1);this._roundPixels&&(le=Math.round(le));const xe=le*n,U=Z.position.y*n,z=Z.texture,M=G[z.baseTexture.uid],$=z.frame,B=z._uvs,O=M.index++;M.indices[O*6+0]=0+O*4,M.indices[O*6+1]=1+O*4,M.indices[O*6+2]=2+O*4,M.indices[O*6+3]=0+O*4,M.indices[O*6+4]=2+O*4,M.indices[O*6+5]=3+O*4,M.vertices[O*8+0]=xe,M.vertices[O*8+1]=U,M.vertices[O*8+2]=xe+$.width*n,M.vertices[O*8+3]=U,M.vertices[O*8+4]=xe+$.width*n,M.vertices[O*8+5]=U+$.height*n,M.vertices[O*8+6]=xe,M.vertices[O*8+7]=U+$.height*n,M.uvs[O*8+0]=B.x0,M.uvs[O*8+1]=B.y0,M.uvs[O*8+2]=B.x1,M.uvs[O*8+3]=B.y1,M.uvs[O*8+4]=B.x2,M.uvs[O*8+5]=B.y2,M.uvs[O*8+6]=B.x3,M.uvs[O*8+7]=B.y3}this._textWidth=S*n,this._textHeight=(i.y+e.lineHeight)*n;for(const q in G){const Z=G[q];if(this.anchor.x!==0||this.anchor.y!==0){let z=0;const M=this._textWidth*this.anchor.x,$=this._textHeight*this.anchor.y;for(let B=0;B<Z.total;B++)Z.vertices[z++]-=M,Z.vertices[z++]-=$,Z.vertices[z++]-=M,Z.vertices[z++]-=$,Z.vertices[z++]-=M,Z.vertices[z++]-=$,Z.vertices[z++]-=M,Z.vertices[z++]-=$}this._maxLineHeight=R*n;const le=Z.mesh.geometry.getBuffer("aVertexPosition"),xe=Z.mesh.geometry.getBuffer("aTextureCoord"),U=Z.mesh.geometry.getIndex();le.data=Z.vertices,xe.data=Z.uvs,U.data=Z.indices,le.update(),xe.update(),U.update()}for(let q=0;q<s.length;q++)Ib.push(s[q]);this._font=e,this.dirty=!1}updateTransform(){this.validate(),this.containerUpdateTransform()}_render(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0);const{distanceFieldRange:t,distanceFieldType:n,size:i}=Sl.available[this._fontName];if(n!=="none"){const{a:s,b:a,c:u,d:c}=this.worldTransform,f=Math.sqrt(s*s+a*a),m=Math.sqrt(u*u+c*c),g=(Math.abs(f)+Math.abs(m))/2,v=this.fontSize/i,x=e._view.resolution;for(const S of this._activePagesMeshData)S.mesh.shader.uniforms.uFWidth=g*t*v*x}super._render(e)}getLocalBounds(){return this.validate(),super.getLocalBounds()}validate(){const e=Sl.available[this._fontName];if(!e)throw new Error(`Missing BitmapFont "${this._fontName}"`);this._font!==e&&(this.dirty=!0),this.dirty&&this.updateText()}get tint(){return this._tintColor.value}set tint(e){if(this.tint!==e){this._tintColor.setValue(e);for(let t=0;t<this._activePagesMeshData.length;t++)this._activePagesMeshData[t].mesh.tint=e}}get align(){return this._align}set align(e){this._align!==e&&(this._align=e,this.dirty=!0)}get fontName(){return this._fontName}set fontName(e){if(!Sl.available[e])throw new Error(`Missing BitmapFont "${e}"`);this._fontName!==e&&(this._fontName=e,this.dirty=!0)}get fontSize(){return this._fontSize??Sl.available[this._fontName].size}set fontSize(e){this._fontSize!==e&&(this._fontSize=e,this.dirty=!0)}get anchor(){return this._anchor}set anchor(e){typeof e=="number"?this._anchor.set(e):this._anchor.copyFrom(e)}get text(){return this._text}set text(e){e=String(e??""),this._text!==e&&(this._text=e,this.dirty=!0)}get maxWidth(){return this._maxWidth}set maxWidth(e){this._maxWidth!==e&&(this._maxWidth=e,this.dirty=!0)}get maxLineHeight(){return this.validate(),this._maxLineHeight}get textWidth(){return this.validate(),this._textWidth}get letterSpacing(){return this._letterSpacing}set letterSpacing(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.dirty=!0)}get roundPixels(){return this._roundPixels}set roundPixels(e){e!==this._roundPixels&&(this._roundPixels=e,this.dirty=!0)}get textHeight(){return this.validate(),this._textHeight}get resolution(){return this._resolution}set resolution(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)}destroy(e){const{_textureCache:t}=this,n=Sl.available[this._fontName].distanceFieldType==="none"?Pb:Rb;n.push(...this._activePagesMeshData);for(const i of this._activePagesMeshData)this.removeChild(i.mesh);this._activePagesMeshData=[],n.filter(i=>t[i.mesh.texture.baseTexture.uid]).forEach(i=>{i.mesh.texture=Oe.EMPTY});for(const i in t)t[i].destroy(),delete t[i];this._font=null,this._tintColor=null,this._textureCache=null,super.destroy(e)}};xC.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0};let $F=xC;const WF=[".xml",".fnt"],XF={extension:{type:Ne.LoadParser,priority:zs.Normal},name:"loadBitmapFont",test(r){return WF.includes(Kr.extname(r).toLowerCase())},async testParse(r){return Qm.test(r)||R_.test(r)},async parse(r,e,t){const n=Qm.test(r)?Qm.parse(r):R_.parse(r),{src:i}=e,{page:s}=n,a=[];for(let f=0;f<s.length;++f){const m=s[f].file;let g=Kr.join(Kr.dirname(i),m);g=S_(g,i),a.push(g)}const u=await t.load(a),c=a.map(f=>u[f]);return Sl.install(n,c,!0)},async load(r,e){return(await Ue.ADAPTER.fetch(r)).text()},unload(r){r.destroy()}};qe.add(XF);const I_=class Rc extends _a{constructor(){super(...arguments),this._fonts=[],this._overrides=[],this._stylesheet="",this.fontsDirty=!1}static from(e){return new Rc(Object.keys(Rc.defaultOptions).reduce((t,n)=>({...t,[n]:e[n]}),{}))}cleanFonts(){this._fonts.length>0&&(this._fonts.forEach(e=>{URL.revokeObjectURL(e.src),e.refs--,e.refs===0&&(e.fontFace&&document.fonts.delete(e.fontFace),delete Rc.availableFonts[e.originalUrl])}),this.fontFamily="Arial",this._fonts.length=0,this.styleID++,this.fontsDirty=!0)}loadFont(e,t={}){const{availableFonts:n}=Rc;if(n[e]){const i=n[e];return this._fonts.push(i),i.refs++,this.styleID++,this.fontsDirty=!0,Promise.resolve()}return Ue.ADAPTER.fetch(e).then(i=>i.blob()).then(async i=>new Promise((s,a)=>{const u=URL.createObjectURL(i),c=new FileReader;c.onload=()=>s([u,c.result]),c.onerror=a,c.readAsDataURL(i)})).then(async([i,s])=>{const a=Object.assign({family:Kr.basename(e,Kr.extname(e)),weight:"normal",style:"normal",display:"auto",src:i,dataSrc:s,refs:1,originalUrl:e,fontFace:null},t);n[e]=a,this._fonts.push(a),this.styleID++;const u=new FontFace(a.family,`url(${a.src})`,{weight:a.weight,style:a.style,display:a.display});a.fontFace=u,await u.load(),document.fonts.add(u),await document.fonts.ready,this.styleID++,this.fontsDirty=!0})}addOverride(...e){const t=e.filter(n=>!this._overrides.includes(n));t.length>0&&(this._overrides.push(...t),this.styleID++)}removeOverride(...e){const t=e.filter(n=>this._overrides.includes(n));t.length>0&&(this._overrides=this._overrides.filter(n=>!t.includes(n)),this.styleID++)}toCSS(e){return[`transform: scale(${e})`,"transform-origin: top left","display: inline-block",`color: ${this.normalizeColor(this.fill)}`,`font-size: ${this.fontSize}px`,`font-family: ${this.fontFamily}`,`font-weight: ${this.fontWeight}`,`font-style: ${this.fontStyle}`,`font-variant: ${this.fontVariant}`,`letter-spacing: ${this.letterSpacing}px`,`text-align: ${this.align}`,`padding: ${this.padding}px`,`white-space: ${this.whiteSpace}`,...this.lineHeight?[`line-height: ${this.lineHeight}px`]:[],...this.wordWrap?[`word-wrap: ${this.breakWords?"break-all":"break-word"}`,`max-width: ${this.wordWrapWidth}px`]:[],...this.strokeThickness?[`-webkit-text-stroke-width: ${this.strokeThickness}px`,`-webkit-text-stroke-color: ${this.normalizeColor(this.stroke)}`,`text-stroke-width: ${this.strokeThickness}px`,`text-stroke-color: ${this.normalizeColor(this.stroke)}`,"paint-order: stroke"]:[],...this.dropShadow?[this.dropShadowToCSS()]:[],...this._overrides].join(";")}toGlobalCSS(){return this._fonts.reduce((e,t)=>`${e}
            @font-face {
                font-family: "${t.family}";
                src: url('${t.dataSrc}');
                font-weight: ${t.weight};
                font-style: ${t.style};
                font-display: ${t.display};
            }`,this._stylesheet)}get stylesheet(){return this._stylesheet}set stylesheet(e){this._stylesheet!==e&&(this._stylesheet=e,this.styleID++)}normalizeColor(e){return Array.isArray(e)&&(e=I2(e)),typeof e=="number"?R2(e):e}dropShadowToCSS(){let e=this.normalizeColor(this.dropShadowColor);const t=this.dropShadowAlpha,n=Math.round(Math.cos(this.dropShadowAngle)*this.dropShadowDistance),i=Math.round(Math.sin(this.dropShadowAngle)*this.dropShadowDistance);e.startsWith("#")&&t<1&&(e+=(t*255|0).toString(16).padStart(2,"0"));const s=`${n}px ${i}px`;return this.dropShadowBlur>0?`text-shadow: ${s} ${this.dropShadowBlur}px ${e}`:`text-shadow: ${s} ${e}`}reset(){Object.assign(this,Rc.defaultOptions)}onBeforeDraw(){const{fontsDirty:e}=this;return this.fontsDirty=!1,this.isSafari&&this._fonts.length>0&&e?new Promise(t=>setTimeout(t,100)):Promise.resolve()}get isSafari(){const{userAgent:e}=Ue.ADAPTER.getNavigator();return/^((?!chrome|android).)*safari/i.test(e)}set fillGradientStops(e){console.warn("[HTMLTextStyle] fillGradientStops is not supported by HTMLText")}get fillGradientStops(){return super.fillGradientStops}set fillGradientType(e){console.warn("[HTMLTextStyle] fillGradientType is not supported by HTMLText")}get fillGradientType(){return super.fillGradientType}set miterLimit(e){console.warn("[HTMLTextStyle] miterLimit is not supported by HTMLText")}get miterLimit(){return super.miterLimit}set trim(e){console.warn("[HTMLTextStyle] trim is not supported by HTMLText")}get trim(){return super.trim}set textBaseline(e){console.warn("[HTMLTextStyle] textBaseline is not supported by HTMLText")}get textBaseline(){return super.textBaseline}set leading(e){console.warn("[HTMLTextStyle] leading is not supported by HTMLText")}get leading(){return super.leading}set lineJoin(e){console.warn("[HTMLTextStyle] lineJoin is not supported by HTMLText")}get lineJoin(){return super.lineJoin}};I_.availableFonts={},I_.defaultOptions={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,padding:0,stroke:"black",strokeThickness:0,whiteSpace:"normal",wordWrap:!1,wordWrapWidth:100};let w0=I_;const Dm=class Ic extends Do{constructor(e="",t={}){super(Oe.EMPTY),this._text=null,this._style=null,this._autoResolution=!0,this.localStyleID=-1,this.dirty=!1,this._updateID=0,this.ownsStyle=!1;const n=new Image,i=Oe.from(n,{scaleMode:Ue.SCALE_MODE,resourceOptions:{autoLoad:!1}});i.orig=new ht,i.trim=new ht,this.texture=i;const s="http://www.w3.org/2000/svg",a="http://www.w3.org/1999/xhtml",u=document.createElementNS(s,"svg"),c=document.createElementNS(s,"foreignObject"),f=document.createElementNS(a,"div"),m=document.createElementNS(a,"style");c.setAttribute("width","10000"),c.setAttribute("height","10000"),c.style.overflow="hidden",u.appendChild(c),this.maxWidth=Ic.defaultMaxWidth,this.maxHeight=Ic.defaultMaxHeight,this._domElement=f,this._styleElement=m,this._svgRoot=u,this._foreignObject=c,this._foreignObject.appendChild(m),this._foreignObject.appendChild(f),this._image=n,this._loadImage=new Image,this._autoResolution=Ic.defaultAutoResolution,this._resolution=Ic.defaultResolution??Ue.RESOLUTION,this.text=e,this.style=t}measureText(e){var m,g;const{text:t,style:n,resolution:i}=Object.assign({text:this._text,style:this._style,resolution:this._resolution},e);Object.assign(this._domElement,{innerHTML:t,style:n.toCSS(i)}),this._styleElement.textContent=n.toGlobalCSS(),document.body.appendChild(this._svgRoot);const s=this._domElement.getBoundingClientRect();this._svgRoot.remove();const{width:a,height:u}=s;(a>this.maxWidth||u>this.maxHeight)&&console.warn("[HTMLText] Large expanse of text, increase HTMLText.maxWidth or HTMLText.maxHeight property.");const c=Math.min(this.maxWidth,Math.ceil(a)),f=Math.min(this.maxHeight,Math.ceil(u));return this._svgRoot.setAttribute("width",c.toString()),this._svgRoot.setAttribute("height",f.toString()),t!==this._text&&(this._domElement.innerHTML=this._text),n!==this._style&&(Object.assign(this._domElement,{style:(m=this._style)==null?void 0:m.toCSS(i)}),this._styleElement.textContent=(g=this._style)==null?void 0:g.toGlobalCSS()),{width:c+n.padding*2,height:f+n.padding*2}}async updateText(e=!0){const{style:t,_image:n,_loadImage:i}=this;if(this.localStyleID!==t.styleID&&(this.dirty=!0,this.localStyleID=t.styleID),!this.dirty&&e)return;const{width:s,height:a}=this.measureText();n.width=i.width=Math.ceil(Math.max(1,s)),n.height=i.height=Math.ceil(Math.max(1,a)),this._updateID++;const u=this._updateID;await new Promise(c=>{i.onload=async()=>{if(u<this._updateID){c();return}await t.onBeforeDraw(),n.src=i.src,i.onload=null,i.src="",this.updateTexture(),c()};const f=new XMLSerializer().serializeToString(this._svgRoot);i.src=`data:image/svg+xml;charset=utf8,${encodeURIComponent(f)}`})}get source(){return this._image}updateTexture(){const{style:e,texture:t,_image:n,resolution:i}=this,{padding:s}=e,{baseTexture:a}=t;t.trim.width=t._frame.width=n.width/i,t.trim.height=t._frame.height=n.height/i,t.trim.x=-s,t.trim.y=-s,t.orig.width=t._frame.width-s*2,t.orig.height=t._frame.height-s*2,this._onTextureUpdate(),a.setRealSize(n.width,n.height,i),this.dirty=!1}_render(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),super._render(e)}_renderCanvas(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),super._renderCanvas(e)}getLocalBounds(e){return this.updateText(!0),super.getLocalBounds(e)}_calculateBounds(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_onStyleChange(){this.dirty=!0}destroy(e){var n,i,s,a,u;typeof e=="boolean"&&(e={children:e}),e=Object.assign({},Ic.defaultDestroyOptions,e),super.destroy(e);const t=null;this.ownsStyle&&((n=this._style)==null||n.cleanFonts()),this._style=t,(i=this._svgRoot)==null||i.remove(),this._svgRoot=t,(s=this._domElement)==null||s.remove(),this._domElement=t,(a=this._foreignObject)==null||a.remove(),this._foreignObject=t,(u=this._styleElement)==null||u.remove(),this._styleElement=t,this._loadImage.src="",this._loadImage.onload=null,this._loadImage=t,this._image.src="",this._image=t}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._image.width/this.resolution}set width(e){this.updateText(!0);const t=Al(this.scale.x)||1;this.scale.x=t*e/this._image.width/this.resolution,this._width=e}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._image.height/this.resolution}set height(e){this.updateText(!0);const t=Al(this.scale.y)||1;this.scale.y=t*e/this._image.height/this.resolution,this._height=e}get style(){return this._style}set style(e){this._style!==e&&(e=e||{},e instanceof w0?(this.ownsStyle=!1,this._style=e):e instanceof _a?(console.warn("[HTMLText] Cloning TextStyle, if this is not what you want, use HTMLTextStyle"),this.ownsStyle=!0,this._style=w0.from(e)):(this.ownsStyle=!0,this._style=new w0(e)),this.localStyleID=-1,this.dirty=!0)}get text(){return this._text}set text(e){e=String(e===""||e===null||e===void 0?" ":e),e=this.sanitiseText(e),this._text!==e&&(this._text=e,this.dirty=!0)}get resolution(){return this._resolution}set resolution(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)}sanitiseText(e){return e.replace(/<br>/gi,"<br/>").replace(/<hr>/gi,"<hr/>").replace(/&nbsp;/gi,"&#160;")}};Dm.defaultDestroyOptions={texture:!0,children:!1,baseTexture:!0},Dm.defaultMaxWidth=2024,Dm.defaultMaxHeight=2024,Dm.defaultAutoResolution=!0;var Bf={exports:{}};function Mi(r){return Mi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mi(r)}function SC(r){var e=function(t,n){if(Mi(t)!=="object"||t===null)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var s=i.call(t,n);if(Mi(s)!=="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(t)}(r,"string");return Mi(e)==="symbol"?e:String(e)}function br(r,e,t){return(e=SC(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function S0(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}function xa(r){return function(e){if(Array.isArray(e))return S0(e)}(r)||function(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(r)||function(e,t){if(e){if(typeof e=="string")return S0(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?S0(e,t):void 0}}(r)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function gr(r,e){for(var t=arguments.length,n=new Array(t>2?t-2:0),i=2;i<t;i++)n[i-2]=arguments[i]}var YF=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function qF(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var KF=function(r){return r==null};function If(r){var e=[];if(r===void 0)return e;if(typeof r=="string")e=r.split(",");else if(typeof r=="number")e=[r];else if(Array.isArray(r))e=xa(r);else{if(r===null||Mi(r)!=="object")return e;e=[r&&(r==null?void 0:r.x)||0,r&&(r==null?void 0:r.y)||0]}return e.filter(function(t){return!KF(t)&&!isNaN(t)}).map(Number)}function kb(r,e){if(r.length!==e.length)return!1;for(var t=0;t<r.length;t++)if(r[t]!==e[t])return!1;return!0}function b0(r){return r instanceof gt||r instanceof _o}var wg=["click","mousedown","mousemove","mouseout","mouseover","mouseup","mouseupoutside","tap","touchstart","touchmove","touchend","touchendoutside","pointercancel","pointerout","pointerover","pointertap","pointerdown","pointerup","pointerupoutside","pointermove","rightclick","rightdown","rightup","rightupoutside","touchcancel","touchendoutside","touchmove","touchstart"];function T0(r,e,t){if(b0(r[e])&&b0(t))r[e].copyFrom(t);else if(b0(r[e])){var n=If(t);gr(n!==void 0&&n.length>0&&n.length<3,"The property `%s` is a `Point` and must be set to a comma-separated string of either coordinates, an array containing coordinates, or a Point.",e,JSON.stringify(t),Mi(t)),r[e].set(n.shift(),n.shift())}else r[e]=t}var Sc,bC=function(r){var e,t=r;if(!Array.isArray(t)){if(e=r,Object.prototype.toString.call(e)!=="[object Object]")throw new Error("collection needs to be an Array or Object");t=Object.keys(r)}var n={};return t.forEach(function(i){n[i]=!0}),function(i){return n[i]!==void 0}},TC=function(r){return function(){return!r.apply(void 0,arguments)}},k_="children",QF=(br(Sc={},k_,!0),br(Sc,"parent",!0),br(Sc,"worldAlpha",!0),br(Sc,"worldTransform",!0),br(Sc,"worldVisible",!0),Sc),M_={alpha:1,buttonMode:!1,cacheAsBitmap:!1,cursor:null,filterArea:null,filters:null,hitArea:null,interactive:!1,mask:null,pivot:0,position:0,renderable:!0,rotation:0,scale:1,skew:0,transform:null,visible:!0,x:0,y:0},Po=function(r,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=function(u){return requestAnimationFrame(function(){var c,f;u==null||(c=u.__reactpixi)===null||c===void 0||(f=c.root)===null||f===void 0||f.emit("__REACT_PIXI_REQUEST_RENDER__")})},i=function(u,c){if(t.hasOwnProperty(u))return gr(c.typeofs.some(function(f){return Mi(t[u])===f})||c.instanceofs.some(function(f){return t[u]instanceof f}),"".concat(r," ").concat(u," prop is invalid")),t[u]};if(t.texture)return gr(t.texture instanceof Oe,"".concat(r," texture needs to be typeof `Texture`")),t.texture;var s=i("image",{typeofs:["string"],instanceofs:[HTMLImageElement]})||i("video",{typeofs:["string"],instanceofs:[HTMLVideoElement]})||i("source",{typeofs:["string","number"],instanceofs:[HTMLImageElement,HTMLVideoElement,HTMLCanvasElement,Oe]});gr(!!s,"".concat(r," could not get texture from props"));var a=Oe.from(s);return a.__reactpixi={root:e},a.once("update",n),a.once("loaded",n),a.valid&&n(a),a},ZF=TC(bC([].concat(xa(Object.keys(QF)),xa(wg))));function Ro(r,e,t){var n=!1;if(gr(Zt.prototype.isPrototypeOf(r),"instance needs to be typeof `DisplayObject`, got `%s`",Mi(r)),!t.ignoreEvents)for(var i=typeof r.removeListener=="function",s=typeof r.on=="function",a=0;a<wg.length;a++){var u=wg[a];e[u]!==t[u]&&(n=!0,typeof e[u]=="function"&&i&&r.removeListener(u,e[u]),typeof t[u]=="function"&&s&&r.on(u,t[u]))}var c=Object.keys(t||{});if(t.overwriteProps){for(var f=0;f<c.length;f++){var m=c[f];e[m]!==t[m]&&(n=!0,T0(r,m,t[m]))}return n}for(var g=c.filter(ZF),v=0;v<g.length;v++){var x=g[v],S=t[x];t[x]!==e[x]&&(n=!0),S!==void 0?T0(r,x,S):x in M_?(console.warn("setting default value: ".concat(x,", from: ").concat(r[x]," to: ").concat(S," for"),r),n=!0,T0(r,x,M_[x])):console.warn("ignoring prop: ".concat(x,", from ").concat(r[x]," to ").concat(S," for"),r)}return n}var JF=function(r,e){var t=e.text,n=e.style;return new $F(t,n)},eL=function(){return new Un};function jl(r,e){if(r==null)return{};var t,n,i=function(a,u){if(a==null)return{};var c,f,m={},g=Object.keys(a);for(f=0;f<g.length;f++)c=g[f],u.indexOf(c)>=0||(m[c]=a[c]);return m}(r,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(n=0;n<s.length;n++)t=s[n],e.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(r,t)&&(i[t]=r[t])}return i}var tL=["draw","geometry"],rL=function(r,e){var t=e.geometry;gr(!t||t instanceof Lf,"Graphics geometry needs to be a `Graphics`");var n=t?new Lf(t.geometry):new Lf;return n.applyProps=function(i,s,a){var u=a.draw;a.geometry;var c=Ro(i,s,jl(a,tL));return s.draw!==u&&typeof u=="function"&&(c=!0,u.call(n,n)),c},n},nL=["image","texture"],iL=function(r,e){var t=e.leftWidth,n=t===void 0?10:t,i=e.topHeight,s=i===void 0?10:i,a=e.rightWidth,u=a===void 0?10:a,c=e.bottomHeight,f=c===void 0?10:c,m=Po("NineSlicePlane",r,e),g=new pF(m,n,s,u,f);return g.applyProps=function(v,x,S){var b=S.image,E=S.texture,P=Ro(v,x,jl(S,nL));return(b||E)&&(E!==x.texture&&(P=!0),v.texture=Po("NineSlicePlane",r,S)),P},g};function Mb(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function Om(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Mb(Object(t),!0).forEach(function(n){br(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):Mb(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var sL=function(r,e){var t=e.maxSize,n=t===void 0?1500:t,i=e.batchSize,s=i===void 0?16384:i,a=e.autoResize,u=a!==void 0&&a,c=Om(Om({},{vertices:!1,scale:!0,position:!0,rotation:!0,uvs:!0,tint:!0}),e.properties||{}),f=Om(Om({},{children:!1,texture:!1,baseTexture:!1}),e.destroyOptions||{}),m=new yF(n,c,s,u);return m.willUnmount=function(g,v,x){g.destroy(f)},m},oL=["image","texture"],aL=function(r,e){var t=new Do(Po("Sprite",r,e));return t.applyProps=function(n,i,s){var a=s.image,u=s.texture,c=Ro(n,i,jl(s,oL));return(u&&i.texture!==s.texture||a&&i.image!==s.image)&&(i.texture!==s.texture&&(c=!0),n.texture=Po("Sprite",r,s)),c},t},lL=["textures","isPlaying","initialFrame","images"],uL=function(r,e){var t=e.textures,n=e.images,i=e.isPlaying,s=i===void 0||i,a=e.initialFrame,u=function(f){return f.map(function(m){return gr(m instanceof Oe||(m==null?void 0:m.texture),"AnimationSprite texture needs to be an array of `Texture` or `{ texture: Texture, time:\n                number }`"),m})},c=n?Kf.fromImages(n):new Kf(u(t));return c[s?"gotoAndPlay":"gotoAndStop"](a||0),c.applyProps=function(f,m,g){var v=g.textures,x=g.isPlaying,S=g.initialFrame,b=g.images,E=Ro(f,m,jl(g,lL));if(b&&m.images!==b){for(var P=[],k=0;k<b.length;++k)P.push(Oe.from(b[k]));f.textures=P,E=!0}if(v&&m.textures!==v&&(f.textures=u(v),E=!0),x!==m.isPlaying||S!==m.initialFrame){var R=typeof S=="number"?S:c.currentFrame||0;c[x?"gotoAndPlay":"gotoAndStop"](R),E=!0}return E},c},hL=function(r,e){var t=e.text,n=t===void 0?"":t,i=e.style,s=i===void 0?{}:i,a=e.isSprite,u=new Dx(n,s);return a?(u.updateText(),new Do(u.texture)):u},cL=["tileScale","tilePosition","image","texture"],dL=function(r,e){var t=e.width,n=t===void 0?100:t,i=e.height,s=i===void 0?100:i,a=Po("TilingSprite",r,e),u=new Ox(a,n,s);return u.applyProps=function(c,f,m){var g=m.tileScale,v=m.tilePosition,x=m.image,S=m.texture,b=Ro(c,f,jl(m,cL));if(v){var E,P=If(v);(E=c.tilePosition).set.apply(E,xa(P)),b=!kb(If(f.tilePosition),P)||b}if(g){var k,R=If(g);(k=c.tileScale).set.apply(k,xa(R)),b=!kb(If(f.tileScale),R)||b}return(x||S)&&(S!==f.texture&&(b=!0),c.texture=Po("Sprite",r,m)),b},u},fL=["image","texture"],pL=function(r,e){var t=Po("Mesh",r,e),n=e.vertices,i=e.uvs,s=e.indices,a=e.drawMode,u=a===void 0?Os.TRIANGLES:a,c=new mF(t,n,i,s,u);return c.applyProps=function(f,m,g){var v=g.image,x=g.texture,S=Ro(f,m,jl(g,fL));return(v||x)&&(x!==m.texture&&(S=!0),f.texture=Po("Mesh",r,g)),S},c},mL=["image","texture"],gL=function(r,e){var t=Po("SimpleRope",r,e),n=e.points,i=new gF(t,n);return i.applyProps=function(s,a,u){var c=u.image,f=u.texture,m=jl(u,mL);gr(Array.isArray(u.points),"SimpleRope points needs to be %s","Array<Point>");var g=Ro(s,a,m);return(c||f)&&(f!==a.texture&&(g=!0),s.texture=Po("SimpleRope",r,u)),g},i},yL=Object.freeze({__proto__:null,BitmapText:JF,Container:eL,Graphics:rL,NineSlicePlane:iL,ParticleContainer:sL,Sprite:aL,Text:hL,TilingSprite:dL,SimpleMesh:pL,SimpleRope:gL,AnimatedSprite:uL});function Db(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function Ob(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Db(Object(t),!0).forEach(function(n){br(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):Db(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var pi={BitmapText:"BitmapText",Container:"Container",Graphics:"Graphics",NineSlicePlane:"NineSlicePlane",ParticleContainer:"ParticleContainer",Sprite:"Sprite",AnimatedSprite:"AnimatedSprite",Text:"Text",TilingSprite:"TilingSprite",SimpleMesh:"SimpleMesh",SimpleRope:"SimpleRope"},vL=Object.keys(pi).reduce(function(r,e){return Ob(Ob({},r),{},br({},e,yL[e]))},{}),EC={};function _L(r,e){return gr(!!r,"Expect type to be defined, got `%s`",r),gr(!pi[r],"Component `%s` could not be created, already exists in default components.",r),EC[r]=e,r}var Nb,Fb,Lb,Bb,D_={},O_={},xL={get exports(){return O_},set exports(r){O_=r}},Ub={};function wL(){return Fb||(Fb=1,xL.exports=(Nb||(Nb=1,function(r){function e(M,$){var B=M.length;M.push($);e:for(;0<B;){var O=B-1>>>1,j=M[O];if(!(0<i(j,$)))break e;M[O]=$,M[B]=j,B=O}}function t(M){return M.length===0?null:M[0]}function n(M){if(M.length===0)return null;var $=M[0],B=M.pop();if(B!==$){M[0]=B;e:for(var O=0,j=M.length,Q=j>>>1;O<Q;){var ie=2*(O+1)-1,de=M[ie],ye=ie+1,be=M[ye];if(0>i(de,B))ye<j&&0>i(be,de)?(M[O]=be,M[ye]=B,O=ye):(M[O]=de,M[ie]=B,O=ie);else{if(!(ye<j&&0>i(be,B)))break e;M[O]=be,M[ye]=B,O=ye}}}return $}function i(M,$){var B=M.sortIndex-$.sortIndex;return B!==0?B:M.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;r.unstable_now=function(){return s.now()}}else{var a=Date,u=a.now();r.unstable_now=function(){return a.now()-u}}var c=[],f=[],m=1,g=null,v=3,x=!1,S=!1,b=!1,E=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;function R(M){for(var $=t(f);$!==null;){if($.callback===null)n(f);else{if(!($.startTime<=M))break;n(f),$.sortIndex=$.expirationTime,e(c,$)}$=t(f)}}function L(M){if(b=!1,R(M),!S)if(t(c)!==null)S=!0,U(D);else{var $=t(f);$!==null&&z(L,$.startTime-M)}}function D(M,$){S=!1,b&&(b=!1,P(X),X=-1),x=!0;var B=v;try{for(R($),g=t(c);g!==null&&(!(g.expirationTime>$)||M&&!q());){var O=g.callback;if(typeof O=="function"){g.callback=null,v=g.priorityLevel;var j=O(g.expirationTime<=$);$=r.unstable_now(),typeof j=="function"?g.callback=j:g===t(c)&&n(c),R($)}else n(c);g=t(c)}if(g!==null)var Q=!0;else{var ie=t(f);ie!==null&&z(L,ie.startTime-$),Q=!1}return Q}finally{g=null,v=B,x=!1}}typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var H,N=!1,G=null,X=-1,re=5,me=-1;function q(){return!(r.unstable_now()-me<re)}function Z(){if(G!==null){var M=r.unstable_now();me=M;var $=!0;try{$=G(!0,M)}finally{$?H():(N=!1,G=null)}}else N=!1}if(typeof k=="function")H=function(){k(Z)};else if(typeof MessageChannel<"u"){var le=new MessageChannel,xe=le.port2;le.port1.onmessage=Z,H=function(){xe.postMessage(null)}}else H=function(){E(Z,0)};function U(M){G=M,N||(N=!0,H())}function z(M,$){X=E(function(){M(r.unstable_now())},$)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(M){M.callback=null},r.unstable_continueExecution=function(){S||x||(S=!0,U(D))},r.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):re=0<M?Math.floor(1e3/M):5},r.unstable_getCurrentPriorityLevel=function(){return v},r.unstable_getFirstCallbackNode=function(){return t(c)},r.unstable_next=function(M){switch(v){case 1:case 2:case 3:var $=3;break;default:$=v}var B=v;v=$;try{return M()}finally{v=B}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(M,$){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var B=v;v=M;try{return $()}finally{v=B}},r.unstable_scheduleCallback=function(M,$,B){var O=r.unstable_now();switch(B=typeof B=="object"&&B!==null&&typeof(B=B.delay)=="number"&&0<B?O+B:O,M){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return M={id:m++,callback:$,priorityLevel:M,startTime:B,expirationTime:j=B+j,sortIndex:-1},B>O?(M.sortIndex=B,e(f,M),t(c)===null&&M===t(f)&&(b?(P(X),X=-1):b=!0,z(L,B-O))):(M.sortIndex=j,e(c,M),S||x||(S=!0,U(D))),M},r.unstable_shouldYield=q,r.unstable_wrapCallback=function(M){var $=v;return function(){var B=v;v=$;try{return M.apply(this,arguments)}finally{v=B}}}}(Ub)),Ub)),O_}/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function SL(){return Bb||(Bb=1,Lb=function(r){var e={},t=ns,n=wL(),i=Object.assign;function s(h){for(var d="https://reactjs.org/docs/error-decoder.html?invariant="+h,_=1;_<arguments.length;_++)d+="&args[]="+encodeURIComponent(arguments[_]);return"Minified React error #"+h+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,u=Symbol.for("react.element"),c=Symbol.for("react.portal"),f=Symbol.for("react.fragment"),m=Symbol.for("react.strict_mode"),g=Symbol.for("react.profiler"),v=Symbol.for("react.provider"),x=Symbol.for("react.context"),S=Symbol.for("react.forward_ref"),b=Symbol.for("react.suspense"),E=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),k=Symbol.for("react.lazy"),R=Symbol.for("react.offscreen"),L=Symbol.iterator;function D(h){return h===null||typeof h!="object"?null:typeof(h=L&&h[L]||h["@@iterator"])=="function"?h:null}function H(h){if(h==null)return null;if(typeof h=="function")return h.displayName||h.name||null;if(typeof h=="string")return h;switch(h){case f:return"Fragment";case c:return"Portal";case g:return"Profiler";case m:return"StrictMode";case b:return"Suspense";case E:return"SuspenseList"}if(typeof h=="object")switch(h.$$typeof){case x:return(h.displayName||"Context")+".Consumer";case v:return(h._context.displayName||"Context")+".Provider";case S:var d=h.render;return(h=h.displayName)||(h=(h=d.displayName||d.name||"")!==""?"ForwardRef("+h+")":"ForwardRef"),h;case P:return(d=h.displayName||null)!==null?d:H(h.type)||"Memo";case k:d=h._payload,h=h._init;try{return H(h(d))}catch{}}return null}function N(h){var d=h.type;switch(h.tag){case 24:return"Cache";case 9:return(d.displayName||"Context")+".Consumer";case 10:return(d._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return h=(h=d.render).displayName||h.name||"",d.displayName||(h!==""?"ForwardRef("+h+")":"ForwardRef");case 7:return"Fragment";case 5:return d;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return H(d);case 8:return d===m?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof d=="function")return d.displayName||d.name||null;if(typeof d=="string")return d}return null}function G(h){var d=h,_=h;if(h.alternate)for(;d.return;)d=d.return;else{h=d;do 4098&(d=h).flags&&(_=d.return),h=d.return;while(h)}return d.tag===3?_:null}function X(h){if(G(h)!==h)throw Error(s(188))}function re(h){var d=h.alternate;if(!d){if((d=G(h))===null)throw Error(s(188));return d!==h?null:h}for(var _=h,T=d;;){var A=_.return;if(A===null)break;var I=A.alternate;if(I===null){if((T=A.return)!==null){_=T;continue}break}if(A.child===I.child){for(I=A.child;I;){if(I===_)return X(A),h;if(I===T)return X(A),d;I=I.sibling}throw Error(s(188))}if(_.return!==T.return)_=A,T=I;else{for(var V=!1,K=A.child;K;){if(K===_){V=!0,_=A,T=I;break}if(K===T){V=!0,T=A,_=I;break}K=K.sibling}if(!V){for(K=I.child;K;){if(K===_){V=!0,_=I,T=A;break}if(K===T){V=!0,T=I,_=A;break}K=K.sibling}if(!V)throw Error(s(189))}}if(_.alternate!==T)throw Error(s(190))}if(_.tag!==3)throw Error(s(188));return _.stateNode.current===_?h:d}function me(h){return(h=re(h))!==null?q(h):null}function q(h){if(h.tag===5||h.tag===6)return h;for(h=h.child;h!==null;){var d=q(h);if(d!==null)return d;h=h.sibling}return null}function Z(h){if(h.tag===5||h.tag===6)return h;for(h=h.child;h!==null;){if(h.tag!==4){var d=Z(h);if(d!==null)return d}h=h.sibling}return null}var le,xe=Array.isArray,U=r.getPublicInstance,z=r.getRootHostContext,M=r.getChildHostContext,$=r.prepareForCommit,B=r.resetAfterCommit,O=r.createInstance,j=r.appendInitialChild,Q=r.finalizeInitialChildren,ie=r.prepareUpdate,de=r.shouldSetTextContent,ye=r.createTextInstance,be=r.scheduleTimeout,Pe=r.cancelTimeout,ke=r.noTimeout,we=r.isPrimaryRenderer,De=r.supportsMutation,Ve=r.supportsPersistence,We=r.supportsHydration,ct=r.getInstanceFromNode,He=r.preparePortalMount,Xe=r.getCurrentEventPriority,Ft=r.detachDeletedInstance,Xt=r.supportsMicrotasks,Li=r.scheduleMicrotask,Ar=r.supportsTestSelectors,Cr=r.findFiberRoot,Bi=r.getBoundingRect,is=r.getTextContent,En=r.isHiddenSubtree,bh=r.matchAccessibilityRole,Th=r.setFocusIfFocusable,Ea=r.setupIntersectionObserver,Aa=r.appendChild,Vs=r.appendChildToContainer,ss=r.commitTextUpdate,Gs=r.commitMount,cd=r.commitUpdate,Eh=r.insertBefore,Ca=r.insertInContainerBefore,Pa=r.removeChild,oe=r.removeChildFromContainer,ue=r.resetTextContent,ft=r.hideInstance,Tt=r.hideTextInstance,Ct=r.unhideInstance,it=r.unhideTextInstance,Zr=r.clearContainer,Ui=r.cloneInstance,Dr=r.createContainerChildSet,zn=r.appendChildToContainerChildSet,Ra=r.finalizeContainerChildren,mi=r.replaceContainerChildren,zr=r.cloneHiddenInstance,Ia=r.cloneHiddenTextInstance,js=r.canHydrateInstance,ka=r.canHydrateTextInstance,gi=r.canHydrateSuspenseInstance,Ma=r.isSuspenseInstancePending,Vn=r.isSuspenseInstanceFallback,Hs=r.getSuspenseInstanceFallbackErrorDetails,$s=r.registerSuspenseInstanceRetry,os=r.getNextHydratableSibling,Ah=r.getFirstHydratableChild,Wl=r.getFirstHydratableChildWithinContainer,Ch=r.getFirstHydratableChildWithinSuspenseInstance,yi=r.hydrateInstance,Xl=r.hydrateTextInstance,Ph=r.hydrateSuspenseInstance,Yl=r.getNextHydratableInstanceAfterSuspenseInstance,as=r.commitHydratedContainer,Oo=r.commitHydratedSuspenseInstance,Rh=r.clearSuspenseBoundary,ql=r.clearSuspenseBoundaryFromContainer,ay=r.shouldDeleteUnhydratedTailInstances,ly=r.didNotMatchHydratedContainerTextInstance,Jt=r.didNotMatchHydratedTextInstance;function Kl(h){if(le===void 0)try{throw Error()}catch(_){var d=_.stack.trim().match(/\n( *(at )?)/);le=d&&d[1]||""}return`
`+le+h}var Ql=!1;function Ih(h,d){if(!h||Ql)return"";Ql=!0;var _=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(d)if(d=function(){throw Error()},Object.defineProperty(d.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(d,[])}catch(pe){var T=pe}Reflect.construct(h,[],d)}else{try{d.call()}catch(pe){T=pe}h.call(d.prototype)}else{try{throw Error()}catch(pe){T=pe}h()}}catch(pe){if(pe&&T&&typeof pe.stack=="string"){for(var A=pe.stack.split(`
`),I=T.stack.split(`
`),V=A.length-1,K=I.length-1;1<=V&&0<=K&&A[V]!==I[K];)K--;for(;1<=V&&0<=K;V--,K--)if(A[V]!==I[K]){if(V!==1||K!==1)do if(V--,0>--K||A[V]!==I[K]){var se=`
`+A[V].replace(" at new "," at ");return h.displayName&&se.includes("<anonymous>")&&(se=se.replace("<anonymous>",h.displayName)),se}while(1<=V&&0<=K);break}}}finally{Ql=!1,Error.prepareStackTrace=_}return(h=h?h.displayName||h.name:"")?Kl(h):""}var kh=Object.prototype.hasOwnProperty,dd=[],No=-1;function vi(h){return{current:h}}function yt(h){0>No||(h.current=dd[No],dd[No]=null,No--)}function kt(h,d){No++,dd[No]=h.current,h.current=d}var Pr={},Vr=vi(Pr),un=vi(!1),Fo=Pr;function ls(h,d){var _=h.type.contextTypes;if(!_)return Pr;var T=h.stateNode;if(T&&T.__reactInternalMemoizedUnmaskedChildContext===d)return T.__reactInternalMemoizedMaskedChildContext;var A,I={};for(A in _)I[A]=d[A];return T&&((h=h.stateNode).__reactInternalMemoizedUnmaskedChildContext=d,h.__reactInternalMemoizedMaskedChildContext=I),I}function Gr(h){return(h=h.childContextTypes)!=null}function Lo(){yt(un),yt(Vr)}function Zl(h,d,_){if(Vr.current!==Pr)throw Error(s(168));kt(Vr,d),kt(un,_)}function Tp(h,d,_){var T=h.stateNode;if(d=d.childContextTypes,typeof T.getChildContext!="function")return _;for(var A in T=T.getChildContext())if(!(A in d))throw Error(s(108,N(h)||"Unknown",A));return i({},_,T)}function Mh(h){return h=(h=h.stateNode)&&h.__reactInternalMemoizedMergedChildContext||Pr,Fo=Vr.current,kt(Vr,h),kt(un,un.current),!0}function Dh(h,d,_){var T=h.stateNode;if(!T)throw Error(s(169));_?(h=Tp(h,d,Fo),T.__reactInternalMemoizedMergedChildContext=h,yt(un),yt(Vr),kt(Vr,h)):yt(un),kt(un,_)}var Gn=Math.clz32?Math.clz32:function(h){return(h>>>=0)===0?32:31-(fd(h)/Jl|0)|0},fd=Math.log,Jl=Math.LN2,pd=64,eu=4194304;function vt(h){switch(h&-h){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&h;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&h;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return h}}function tu(h,d){var _=h.pendingLanes;if(_===0)return 0;var T=0,A=h.suspendedLanes,I=h.pingedLanes,V=268435455&_;if(V!==0){var K=V&~A;K!==0?T=vt(K):(I&=V)!==0&&(T=vt(I))}else(V=_&~A)!==0?T=vt(V):I!==0&&(T=vt(I));if(T===0)return 0;if(d!==0&&d!==T&&!(d&A)&&((A=T&-T)>=(I=d&-d)||A===16&&4194240&I))return d;if(4&T&&(T|=16&_),(d=h.entangledLanes)!==0)for(h=h.entanglements,d&=T;0<d;)A=1<<(_=31-Gn(d)),T|=h[_],d&=~A;return T}function Ep(h,d){switch(h){case 1:case 2:case 4:return d+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+5e3;default:return-1}}function ru(h){return(h=-1073741825&h.pendingLanes)!==0?h:1073741824&h?1073741824:0}function md(){var h=pd;return!(4194240&(pd<<=1))&&(pd=64),h}function Oh(h){for(var d=[],_=0;31>_;_++)d.push(h);return d}function Da(h,d,_){h.pendingLanes|=d,d!==536870912&&(h.suspendedLanes=0,h.pingedLanes=0),(h=h.eventTimes)[d=31-Gn(d)]=_}function nu(h,d){var _=h.entangledLanes|=d;for(h=h.entanglements;_;){var T=31-Gn(_),A=1<<T;A&d|h[T]&d&&(h[T]|=d),_&=~A}}var pt=0;function us(h){return 1<(h&=-h)?4<h?268435455&h?16:536870912:4:1}var zi=n.unstable_scheduleCallback,hs=n.unstable_cancelCallback,iu=n.unstable_shouldYield,su=n.unstable_requestPaint,Lt=n.unstable_now,gd=n.unstable_ImmediatePriority,Ap=n.unstable_UserBlockingPriority,Oa=n.unstable_NormalPriority,uy=n.unstable_IdlePriority,ou=null,An=null,jn=typeof Object.is=="function"?Object.is:function(h,d){return h===d&&(h!==0||1/h==1/d)||h!=h&&d!=d},cs=null,Ws=!1,Bo=!1;function Uo(h){cs===null?cs=[h]:cs.push(h)}function Cn(){if(!Bo&&cs!==null){Bo=!0;var h=0,d=pt;try{var _=cs;for(pt=1;h<_.length;h++){var T=_[h];do T=T(!0);while(T!==null)}cs=null,Ws=!1}catch(A){throw cs!==null&&(cs=cs.slice(h+1)),zi(gd,Cn),A}finally{pt=d,Bo=!1}}return null}var Na=[],Fa=0,La=null,zo=0,hn=[],Pn=0,cn=null,Hn=1,$n="";function Xs(h,d){Na[Fa++]=zo,Na[Fa++]=La,La=h,zo=d}function au(h,d,_){hn[Pn++]=Hn,hn[Pn++]=$n,hn[Pn++]=cn,cn=h;var T=Hn;h=$n;var A=32-Gn(T)-1;T&=~(1<<A),_+=1;var I=32-Gn(d)+A;if(30<I){var V=A-A%5;I=(T&(1<<V)-1).toString(32),T>>=V,A-=V,Hn=1<<32-Gn(d)+A|_<<A|T,$n=I+h}else Hn=1<<I|_<<A|T,$n=h}function Ba(h){h.return!==null&&(Xs(h,1),au(h,1,0))}function Nh(h){for(;h===La;)La=Na[--Fa],Na[Fa]=null,zo=Na[--Fa],Na[Fa]=null;for(;h===cn;)cn=hn[--Pn],hn[Pn]=null,$n=hn[--Pn],hn[Pn]=null,Hn=hn[--Pn],hn[Pn]=null}var Bt=null,Or=null,Mt=!1,ds=!1,_i=null;function Fh(h,d){var _=On(5,null,null,0);_.elementType="DELETED",_.stateNode=d,_.return=h,(d=h.deletions)===null?(h.deletions=[_],h.flags|=16):d.push(_)}function Lh(h,d){switch(h.tag){case 5:return(d=js(d,h.type,h.pendingProps))!==null&&(h.stateNode=d,Bt=h,Or=Ah(d),!0);case 6:return(d=ka(d,h.pendingProps))!==null&&(h.stateNode=d,Bt=h,Or=null,!0);case 13:if((d=gi(d))!==null){var _=cn!==null?{id:Hn,overflow:$n}:null;return h.memoizedState={dehydrated:d,treeContext:_,retryLane:1073741824},(_=On(18,null,null,0)).stateNode=d,_.return=h,h.child=_,Bt=h,Or=null,!0}return!1;default:return!1}}function Vo(h){return(1&h.mode)!=0&&(128&h.flags)==0}function Ua(h){if(Mt){var d=Or;if(d){var _=d;if(!Lh(h,d)){if(Vo(h))throw Error(s(418));d=os(_);var T=Bt;d&&Lh(h,d)?Fh(T,_):(h.flags=-4097&h.flags|2,Mt=!1,Bt=h)}}else{if(Vo(h))throw Error(s(418));h.flags=-4097&h.flags|2,Mt=!1,Bt=h}}}function yd(h){for(h=h.return;h!==null&&h.tag!==5&&h.tag!==3&&h.tag!==13;)h=h.return;Bt=h}function Bh(h){if(!We||h!==Bt)return!1;if(!Mt)return yd(h),Mt=!0,!1;if(h.tag!==3&&(h.tag!==5||ay(h.type)&&!de(h.type,h.memoizedProps))){var d=Or;if(d){if(Vo(h))throw Cp(),Error(s(418));for(;d;)Fh(h,d),d=os(d)}}if(yd(h),h.tag===13){if(!We)throw Error(s(316));if(!(h=(h=h.memoizedState)!==null?h.dehydrated:null))throw Error(s(317));Or=Yl(h)}else Or=Bt?os(h.stateNode):null;return!0}function Cp(){for(var h=Or;h;)h=os(h)}function za(){We&&(Or=Bt=null,ds=Mt=!1)}function lu(h){_i===null?_i=[h]:_i.push(h)}var hy=a.ReactCurrentBatchConfig;function Uh(h,d){if(jn(h,d))return!0;if(typeof h!="object"||h===null||typeof d!="object"||d===null)return!1;var _=Object.keys(h),T=Object.keys(d);if(_.length!==T.length)return!1;for(T=0;T<_.length;T++){var A=_[T];if(!kh.call(d,A)||!jn(h[A],d[A]))return!1}return!0}function cy(h){switch(h.tag){case 5:return Kl(h.type);case 16:return Kl("Lazy");case 13:return Kl("Suspense");case 19:return Kl("SuspenseList");case 0:case 2:case 15:return h=Ih(h.type,!1);case 11:return h=Ih(h.type.render,!1);case 1:return h=Ih(h.type,!0);default:return""}}function xi(h,d){if(h&&h.defaultProps){for(var _ in d=i({},d),h=h.defaultProps)d[_]===void 0&&(d[_]=h[_]);return d}return d}var zh=vi(null),uu=null,Va=null,vd=null;function _d(){vd=Va=uu=null}function Pp(h,d,_){we?(kt(zh,d._currentValue),d._currentValue=_):(kt(zh,d._currentValue2),d._currentValue2=_)}function hu(h){var d=zh.current;yt(zh),we?h._currentValue=d:h._currentValue2=d}function xd(h,d,_){for(;h!==null;){var T=h.alternate;if((h.childLanes&d)!==d?(h.childLanes|=d,T!==null&&(T.childLanes|=d)):T!==null&&(T.childLanes&d)!==d&&(T.childLanes|=d),h===_)break;h=h.return}}function Ga(h,d){uu=h,vd=Va=null,(h=h.dependencies)!==null&&h.firstContext!==null&&(h.lanes&d&&(qt=!0),h.firstContext=null)}function Wn(h){var d=we?h._currentValue:h._currentValue2;if(vd!==h)if(h={context:h,memoizedValue:d,next:null},Va===null){if(uu===null)throw Error(s(308));Va=h,uu.dependencies={lanes:0,firstContext:h}}else Va=Va.next=h;return d}var Ys=null;function wd(h){Ys===null?Ys=[h]:Ys.push(h)}function Rp(h,d,_,T){var A=d.interleaved;return A===null?(_.next=_,wd(d)):(_.next=A.next,A.next=_),d.interleaved=_,Vi(h,T)}function Vi(h,d){h.lanes|=d;var _=h.alternate;for(_!==null&&(_.lanes|=d),_=h,h=h.return;h!==null;)h.childLanes|=d,(_=h.alternate)!==null&&(_.childLanes|=d),_=h,h=h.return;return _.tag===3?_.stateNode:null}var qs=!1;function Sd(h){h.updateQueue={baseState:h.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ip(h,d){h=h.updateQueue,d.updateQueue===h&&(d.updateQueue={baseState:h.baseState,firstBaseUpdate:h.firstBaseUpdate,lastBaseUpdate:h.lastBaseUpdate,shared:h.shared,effects:h.effects})}function fs(h,d){return{eventTime:h,lane:d,tag:0,payload:null,callback:null,next:null}}function Gi(h,d,_){var T=h.updateQueue;if(T===null)return null;if(T=T.shared,(2&at)!=0){var A=T.pending;return A===null?d.next=d:(d.next=A.next,A.next=d),T.pending=d,Vi(h,_)}return(A=T.interleaved)===null?(d.next=d,wd(T)):(d.next=A.next,A.next=d),T.interleaved=d,Vi(h,_)}function Ks(h,d,_){if((d=d.updateQueue)!==null&&(d=d.shared,(4194240&_)!=0)){var T=d.lanes;_|=T&=h.pendingLanes,d.lanes=_,nu(h,_)}}function kp(h,d){var _=h.updateQueue,T=h.alternate;if(T!==null&&_===(T=T.updateQueue)){var A=null,I=null;if((_=_.firstBaseUpdate)!==null){do{var V={eventTime:_.eventTime,lane:_.lane,tag:_.tag,payload:_.payload,callback:_.callback,next:null};I===null?A=I=V:I=I.next=V,_=_.next}while(_!==null);I===null?A=I=d:I=I.next=d}else A=I=d;return _={baseState:T.baseState,firstBaseUpdate:A,lastBaseUpdate:I,shared:T.shared,effects:T.effects},void(h.updateQueue=_)}(h=_.lastBaseUpdate)===null?_.firstBaseUpdate=d:h.next=d,_.lastBaseUpdate=d}function cu(h,d,_,T){var A=h.updateQueue;qs=!1;var I=A.firstBaseUpdate,V=A.lastBaseUpdate,K=A.shared.pending;if(K!==null){A.shared.pending=null;var se=K,pe=se.next;se.next=null,V===null?I=pe:V.next=pe,V=se;var ve=h.alternate;ve!==null&&(K=(ve=ve.updateQueue).lastBaseUpdate)!==V&&(K===null?ve.firstBaseUpdate=pe:K.next=pe,ve.lastBaseUpdate=se)}if(I!==null){var Me=A.baseState;for(V=0,ve=pe=se=null,K=I;;){var ge=K.lane,Ce=K.eventTime;if((T&ge)===ge){ve!==null&&(ve=ve.next={eventTime:Ce,lane:0,tag:K.tag,payload:K.payload,callback:K.callback,next:null});e:{var Ge=h,ut=K;switch(ge=d,Ce=_,ut.tag){case 1:if(typeof(Ge=ut.payload)=="function"){Me=Ge.call(Ce,Me,ge);break e}Me=Ge;break e;case 3:Ge.flags=-65537&Ge.flags|128;case 0:if((ge=typeof(Ge=ut.payload)=="function"?Ge.call(Ce,Me,ge):Ge)==null)break e;Me=i({},Me,ge);break e;case 2:qs=!0}}K.callback!==null&&K.lane!==0&&(h.flags|=64,(ge=A.effects)===null?A.effects=[K]:ge.push(K))}else Ce={eventTime:Ce,lane:ge,tag:K.tag,payload:K.payload,callback:K.callback,next:null},ve===null?(pe=ve=Ce,se=Me):ve=ve.next=Ce,V|=ge;if((K=K.next)===null){if((K=A.shared.pending)===null)break;K=(ge=K).next,ge.next=null,A.lastBaseUpdate=ge,A.shared.pending=null}}if(ve===null&&(se=Me),A.baseState=se,A.firstBaseUpdate=pe,A.lastBaseUpdate=ve,(d=A.shared.interleaved)!==null){A=d;do V|=A.lane,A=A.next;while(A!==d)}else I===null&&(A.shared.lanes=0);oo|=V,h.lanes=V,h.memoizedState=Me}}function bd(h,d,_){if(h=d.effects,d.effects=null,h!==null)for(d=0;d<h.length;d++){var T=h[d],A=T.callback;if(A!==null){if(T.callback=null,T=_,typeof A!="function")throw Error(s(191,A));A.call(T)}}}var Td=new t.Component().refs;function Vh(h,d,_,T){_=(_=_(T,d=h.memoizedState))==null?d:i({},d,_),h.memoizedState=_,h.lanes===0&&(h.updateQueue.baseState=_)}var du={isMounted:function(h){return!!(h=h._reactInternals)&&G(h)===h},enqueueSetState:function(h,d,_){h=h._reactInternals;var T=_r(),A=ii(h),I=fs(T,A);I.payload=d,_!=null&&(I.callback=_),(d=Gi(h,I,A))!==null&&($r(d,h,A,T),Ks(d,h,A))},enqueueReplaceState:function(h,d,_){h=h._reactInternals;var T=_r(),A=ii(h),I=fs(T,A);I.tag=1,I.payload=d,_!=null&&(I.callback=_),(d=Gi(h,I,A))!==null&&($r(d,h,A,T),Ks(d,h,A))},enqueueForceUpdate:function(h,d){h=h._reactInternals;var _=_r(),T=ii(h),A=fs(_,T);A.tag=2,d!=null&&(A.callback=d),(d=Gi(h,A,T))!==null&&($r(d,h,T,_),Ks(d,h,T))}};function Go(h,d,_,T,A,I,V){return typeof(h=h.stateNode).shouldComponentUpdate=="function"?h.shouldComponentUpdate(T,I,V):!d.prototype||!d.prototype.isPureReactComponent||!Uh(_,T)||!Uh(A,I)}function Mp(h,d,_){var T=!1,A=Pr,I=d.contextType;return typeof I=="object"&&I!==null?I=Wn(I):(A=Gr(d)?Fo:Vr.current,I=(T=(T=d.contextTypes)!=null)?ls(h,A):Pr),d=new d(_,I),h.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=du,h.stateNode=d,d._reactInternals=h,T&&((h=h.stateNode).__reactInternalMemoizedUnmaskedChildContext=A,h.__reactInternalMemoizedMaskedChildContext=I),d}function Dp(h,d,_,T){h=d.state,typeof d.componentWillReceiveProps=="function"&&d.componentWillReceiveProps(_,T),typeof d.UNSAFE_componentWillReceiveProps=="function"&&d.UNSAFE_componentWillReceiveProps(_,T),d.state!==h&&du.enqueueReplaceState(d,d.state,null)}function Ed(h,d,_,T){var A=h.stateNode;A.props=_,A.state=h.memoizedState,A.refs=Td,Sd(h);var I=d.contextType;typeof I=="object"&&I!==null?A.context=Wn(I):(I=Gr(d)?Fo:Vr.current,A.context=ls(h,I)),A.state=h.memoizedState,typeof(I=d.getDerivedStateFromProps)=="function"&&(Vh(h,d,I,_),A.state=h.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof A.getSnapshotBeforeUpdate=="function"||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(d=A.state,typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount(),d!==A.state&&du.enqueueReplaceState(A,A.state,null),cu(h,_,A,T),A.state=h.memoizedState),typeof A.componentDidMount=="function"&&(h.flags|=4194308)}function ja(h,d,_){if((h=_.ref)!==null&&typeof h!="function"&&typeof h!="object"){if(_._owner){if(_=_._owner){if(_.tag!==1)throw Error(s(309));var T=_.stateNode}if(!T)throw Error(s(147,h));var A=T,I=""+h;return d!==null&&d.ref!==null&&typeof d.ref=="function"&&d.ref._stringRef===I?d.ref:(d=function(V){var K=A.refs;K===Td&&(K=A.refs={}),V===null?delete K[I]:K[I]=V},d._stringRef=I,d)}if(typeof h!="string")throw Error(s(284));if(!_._owner)throw Error(s(290,h))}return h}function fu(h,d){throw h=Object.prototype.toString.call(d),Error(s(31,h==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":h))}function Ha(h){return(0,h._init)(h._payload)}function $a(h){function d(_e,ee){if(h){var ce=_e.deletions;ce===null?(_e.deletions=[ee],_e.flags|=16):ce.push(ee)}}function _(_e,ee){if(!h)return null;for(;ee!==null;)d(_e,ee),ee=ee.sibling;return null}function T(_e,ee){for(_e=new Map;ee!==null;)ee.key!==null?_e.set(ee.key,ee):_e.set(ee.index,ee),ee=ee.sibling;return _e}function A(_e,ee){return(_e=Ts(_e,ee)).index=0,_e.sibling=null,_e}function I(_e,ee,ce){return _e.index=ce,h?(ce=_e.alternate)!==null?(ce=ce.index)<ee?(_e.flags|=2,ee):ce:(_e.flags|=2,ee):(_e.flags|=1048576,ee)}function V(_e){return h&&_e.alternate===null&&(_e.flags|=2),_e}function K(_e,ee,ce,Ee){return ee===null||ee.tag!==6?((ee=fc(ce,_e.mode,Ee)).return=_e,ee):((ee=A(ee,ce)).return=_e,ee)}function se(_e,ee,ce,Ee){var Ze=ce.type;return Ze===f?ve(_e,ee,ce.props.children,Ee,ce.key):ee!==null&&(ee.elementType===Ze||typeof Ze=="object"&&Ze!==null&&Ze.$$typeof===k&&Ha(Ze)===ee.type)?((Ee=A(ee,ce.props)).ref=ja(_e,ee,ce),Ee.return=_e,Ee):((Ee=Lu(ce.type,ce.key,ce.props,null,_e.mode,Ee)).ref=ja(_e,ee,ce),Ee.return=_e,Ee)}function pe(_e,ee,ce,Ee){return ee===null||ee.tag!==4||ee.stateNode.containerInfo!==ce.containerInfo||ee.stateNode.implementation!==ce.implementation?((ee=ef(ce,_e.mode,Ee)).return=_e,ee):((ee=A(ee,ce.children||[])).return=_e,ee)}function ve(_e,ee,ce,Ee,Ze){return ee===null||ee.tag!==7?((ee=lo(ce,_e.mode,Ee,Ze)).return=_e,ee):((ee=A(ee,ce)).return=_e,ee)}function Me(_e,ee,ce){if(typeof ee=="string"&&ee!==""||typeof ee=="number")return(ee=fc(""+ee,_e.mode,ce)).return=_e,ee;if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case u:return(ce=Lu(ee.type,ee.key,ee.props,null,_e.mode,ce)).ref=ja(_e,null,ee),ce.return=_e,ce;case c:return(ee=ef(ee,_e.mode,ce)).return=_e,ee;case k:return Me(_e,(0,ee._init)(ee._payload),ce)}if(xe(ee)||D(ee))return(ee=lo(ee,_e.mode,ce,null)).return=_e,ee;fu(_e,ee)}return null}function ge(_e,ee,ce,Ee){var Ze=ee!==null?ee.key:null;if(typeof ce=="string"&&ce!==""||typeof ce=="number")return Ze!==null?null:K(_e,ee,""+ce,Ee);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case u:return ce.key===Ze?se(_e,ee,ce,Ee):null;case c:return ce.key===Ze?pe(_e,ee,ce,Ee):null;case k:return ge(_e,ee,(Ze=ce._init)(ce._payload),Ee)}if(xe(ce)||D(ce))return Ze!==null?null:ve(_e,ee,ce,Ee,null);fu(_e,ce)}return null}function Ce(_e,ee,ce,Ee,Ze){if(typeof Ee=="string"&&Ee!==""||typeof Ee=="number")return K(ee,_e=_e.get(ce)||null,""+Ee,Ze);if(typeof Ee=="object"&&Ee!==null){switch(Ee.$$typeof){case u:return se(ee,_e=_e.get(Ee.key===null?ce:Ee.key)||null,Ee,Ze);case c:return pe(ee,_e=_e.get(Ee.key===null?ce:Ee.key)||null,Ee,Ze);case k:return Ce(_e,ee,ce,(0,Ee._init)(Ee._payload),Ze)}if(xe(Ee)||D(Ee))return ve(ee,_e=_e.get(ce)||null,Ee,Ze,null);fu(ee,Ee)}return null}function Ge(_e,ee,ce,Ee){for(var Ze=null,wt=null,$e=ee,_t=ee=0,xr=null;$e!==null&&_t<ce.length;_t++){$e.index>_t?(xr=$e,$e=null):xr=$e.sibling;var St=ge(_e,$e,ce[_t],Ee);if(St===null){$e===null&&($e=xr);break}h&&$e&&St.alternate===null&&d(_e,$e),ee=I(St,ee,_t),wt===null?Ze=St:wt.sibling=St,wt=St,$e=xr}if(_t===ce.length)return _(_e,$e),Mt&&Xs(_e,_t),Ze;if($e===null){for(;_t<ce.length;_t++)($e=Me(_e,ce[_t],Ee))!==null&&(ee=I($e,ee,_t),wt===null?Ze=$e:wt.sibling=$e,wt=$e);return Mt&&Xs(_e,_t),Ze}for($e=T(_e,$e);_t<ce.length;_t++)(xr=Ce($e,_e,_t,ce[_t],Ee))!==null&&(h&&xr.alternate!==null&&$e.delete(xr.key===null?_t:xr.key),ee=I(xr,ee,_t),wt===null?Ze=xr:wt.sibling=xr,wt=xr);return h&&$e.forEach(function(Xi){return d(_e,Xi)}),Mt&&Xs(_e,_t),Ze}function ut(_e,ee,ce,Ee){var Ze=D(ce);if(typeof Ze!="function")throw Error(s(150));if((ce=Ze.call(ce))==null)throw Error(s(151));for(var wt=Ze=null,$e=ee,_t=ee=0,xr=null,St=ce.next();$e!==null&&!St.done;_t++,St=ce.next()){$e.index>_t?(xr=$e,$e=null):xr=$e.sibling;var Xi=ge(_e,$e,St.value,Ee);if(Xi===null){$e===null&&($e=xr);break}h&&$e&&Xi.alternate===null&&d(_e,$e),ee=I(Xi,ee,_t),wt===null?Ze=Xi:wt.sibling=Xi,wt=Xi,$e=xr}if(St.done)return _(_e,$e),Mt&&Xs(_e,_t),Ze;if($e===null){for(;!St.done;_t++,St=ce.next())(St=Me(_e,St.value,Ee))!==null&&(ee=I(St,ee,_t),wt===null?Ze=St:wt.sibling=St,wt=St);return Mt&&Xs(_e,_t),Ze}for($e=T(_e,$e);!St.done;_t++,St=ce.next())(St=Ce($e,_e,_t,St.value,Ee))!==null&&(h&&St.alternate!==null&&$e.delete(St.key===null?_t:St.key),ee=I(St,ee,_t),wt===null?Ze=St:wt.sibling=St,wt=St);return h&&$e.forEach(function(jp){return d(_e,jp)}),Mt&&Xs(_e,_t),Ze}return function _e(ee,ce,Ee,Ze){if(typeof Ee=="object"&&Ee!==null&&Ee.type===f&&Ee.key===null&&(Ee=Ee.props.children),typeof Ee=="object"&&Ee!==null){switch(Ee.$$typeof){case u:e:{for(var wt=Ee.key,$e=ce;$e!==null;){if($e.key===wt){if((wt=Ee.type)===f){if($e.tag===7){_(ee,$e.sibling),(ce=A($e,Ee.props.children)).return=ee,ee=ce;break e}}else if($e.elementType===wt||typeof wt=="object"&&wt!==null&&wt.$$typeof===k&&Ha(wt)===$e.type){_(ee,$e.sibling),(ce=A($e,Ee.props)).ref=ja(ee,$e,Ee),ce.return=ee,ee=ce;break e}_(ee,$e);break}d(ee,$e),$e=$e.sibling}Ee.type===f?((ce=lo(Ee.props.children,ee.mode,Ze,Ee.key)).return=ee,ee=ce):((Ze=Lu(Ee.type,Ee.key,Ee.props,null,ee.mode,Ze)).ref=ja(ee,ce,Ee),Ze.return=ee,ee=Ze)}return V(ee);case c:e:{for($e=Ee.key;ce!==null;){if(ce.key===$e){if(ce.tag===4&&ce.stateNode.containerInfo===Ee.containerInfo&&ce.stateNode.implementation===Ee.implementation){_(ee,ce.sibling),(ce=A(ce,Ee.children||[])).return=ee,ee=ce;break e}_(ee,ce);break}d(ee,ce),ce=ce.sibling}(ce=ef(Ee,ee.mode,Ze)).return=ee,ee=ce}return V(ee);case k:return _e(ee,ce,($e=Ee._init)(Ee._payload),Ze)}if(xe(Ee))return Ge(ee,ce,Ee,Ze);if(D(Ee))return ut(ee,ce,Ee,Ze);fu(ee,Ee)}return typeof Ee=="string"&&Ee!==""||typeof Ee=="number"?(Ee=""+Ee,ce!==null&&ce.tag===6?(_(ee,ce.sibling),(ce=A(ce,Ee)).return=ee,ee=ce):(_(ee,ce),(ce=fc(Ee,ee.mode,Ze)).return=ee,ee=ce),V(ee)):_(ee,ce)}}var Wa=$a(!0),pu=$a(!1),mu={},Rn=vi(mu),jo=vi(mu),Qs=vi(mu);function wi(h){if(h===mu)throw Error(s(174));return h}function Gh(h,d){kt(Qs,d),kt(jo,h),kt(Rn,mu),h=z(d),yt(Rn),kt(Rn,h)}function Ho(){yt(Rn),yt(jo),yt(Qs)}function Op(h){var d=wi(Qs.current),_=wi(Rn.current);_!==(d=M(_,h.type,d))&&(kt(jo,h),kt(Rn,d))}function Ad(h){jo.current===h&&(yt(Rn),yt(jo))}var Yt=vi(0);function jh(h){for(var d=h;d!==null;){if(d.tag===13){var _=d.memoizedState;if(_!==null&&((_=_.dehydrated)===null||Ma(_)||Vn(_)))return d}else if(d.tag===19&&d.memoizedProps.revealOrder!==void 0){if(128&d.flags)return d}else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===h)break;for(;d.sibling===null;){if(d.return===null||d.return===h)return null;d=d.return}d.sibling.return=d.return,d=d.sibling}return null}var Cd=[];function In(){for(var h=0;h<Cd.length;h++){var d=Cd[h];we?d._workInProgressVersionPrimary=null:d._workInProgressVersionSecondary=null}Cd.length=0}var Zs=a.ReactCurrentDispatcher,Hh=a.ReactCurrentBatchConfig,Js=0,jt=null,yr=null,ar=null,$h=!1,gu=!1,ji=0,Pd=0;function lr(){throw Error(s(321))}function yu(h,d){if(d===null)return!1;for(var _=0;_<d.length&&_<h.length;_++)if(!jn(h[_],d[_]))return!1;return!0}function Wh(h,d,_,T,A,I){if(Js=I,jt=d,d.memoizedState=null,d.updateQueue=null,d.lanes=0,Zs.current=h===null||h.memoizedState===null?Ld:Bd,h=_(T,A),gu){I=0;do{if(gu=!1,ji=0,25<=I)throw Error(s(301));I+=1,ar=yr=null,d.updateQueue=null,Zs.current=Ud,h=_(T,A)}while(gu)}if(Zs.current=Ja,d=yr!==null&&yr.next!==null,Js=0,ar=yr=jt=null,$h=!1,d)throw Error(s(300));return h}function Xa(){var h=ji!==0;return ji=0,h}function Jr(){var h={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ar===null?jt.memoizedState=ar=h:ar=ar.next=h,ar}function dn(){if(yr===null){var h=jt.alternate;h=h!==null?h.memoizedState:null}else h=yr.next;var d=ar===null?jt.memoizedState:ar.next;if(d!==null)ar=d,yr=h;else{if(h===null)throw Error(s(310));h={memoizedState:(yr=h).memoizedState,baseState:yr.baseState,baseQueue:yr.baseQueue,queue:yr.queue,next:null},ar===null?jt.memoizedState=ar=h:ar=ar.next=h}return ar}function Ya(h,d){return typeof d=="function"?d(h):d}function qa(h){var d=dn(),_=d.queue;if(_===null)throw Error(s(311));_.lastRenderedReducer=h;var T=yr,A=T.baseQueue,I=_.pending;if(I!==null){if(A!==null){var V=A.next;A.next=I.next,I.next=V}T.baseQueue=A=I,_.pending=null}if(A!==null){I=A.next,T=T.baseState;var K=V=null,se=null,pe=I;do{var ve=pe.lane;if((Js&ve)===ve)se!==null&&(se=se.next={lane:0,action:pe.action,hasEagerState:pe.hasEagerState,eagerState:pe.eagerState,next:null}),T=pe.hasEagerState?pe.eagerState:h(T,pe.action);else{var Me={lane:ve,action:pe.action,hasEagerState:pe.hasEagerState,eagerState:pe.eagerState,next:null};se===null?(K=se=Me,V=T):se=se.next=Me,jt.lanes|=ve,oo|=ve}pe=pe.next}while(pe!==null&&pe!==I);se===null?V=T:se.next=K,jn(T,d.memoizedState)||(qt=!0),d.memoizedState=T,d.baseState=V,d.baseQueue=se,_.lastRenderedState=T}if((h=_.interleaved)!==null){A=h;do I=A.lane,jt.lanes|=I,oo|=I,A=A.next;while(A!==h)}else A===null&&(_.lanes=0);return[d.memoizedState,_.dispatch]}function Xh(h){var d=dn(),_=d.queue;if(_===null)throw Error(s(311));_.lastRenderedReducer=h;var T=_.dispatch,A=_.pending,I=d.memoizedState;if(A!==null){_.pending=null;var V=A=A.next;do I=h(I,V.action),V=V.next;while(V!==A);jn(I,d.memoizedState)||(qt=!0),d.memoizedState=I,d.baseQueue===null&&(d.baseState=I),_.lastRenderedState=I}return[I,T]}function Rd(){}function Id(h,d){var _=jt,T=dn(),A=d(),I=!jn(T.memoizedState,A);if(I&&(T.memoizedState=A,qt=!0),T=T.queue,Qh(Dd.bind(null,_,T,h),[h]),T.getSnapshot!==d||I||ar!==null&&1&ar.memoizedState.tag){if(_.flags|=2048,vu(9,Md.bind(null,_,T,A,d),void 0,null),hr===null)throw Error(s(349));30&Js||kd(_,d,A)}return A}function kd(h,d,_){h.flags|=16384,h={getSnapshot:d,value:_},(d=jt.updateQueue)===null?(d={lastEffect:null,stores:null},jt.updateQueue=d,d.stores=[h]):(_=d.stores)===null?d.stores=[h]:_.push(h)}function Md(h,d,_,T){d.value=_,d.getSnapshot=T,ps(d)&&Yh(h)}function Dd(h,d,_){return _(function(){ps(d)&&Yh(h)})}function ps(h){var d=h.getSnapshot;h=h.value;try{var _=d();return!jn(h,_)}catch{return!0}}function Yh(h){var d=Vi(h,1);d!==null&&$r(d,h,1,-1)}function qh(h){var d=Jr();return typeof h=="function"&&(h=h()),d.memoizedState=d.baseState=h,h={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ya,lastRenderedState:h},d.queue=h,h=h.dispatch=fy.bind(null,jt,h),[d.memoizedState,h]}function vu(h,d,_,T){return h={tag:h,create:d,destroy:_,deps:T,next:null},(d=jt.updateQueue)===null?(d={lastEffect:null,stores:null},jt.updateQueue=d,d.lastEffect=h.next=h):(_=d.lastEffect)===null?d.lastEffect=h.next=h:(T=_.next,_.next=h,h.next=T,d.lastEffect=h),h}function Np(){return dn().memoizedState}function eo(h,d,_,T){var A=Jr();jt.flags|=h,A.memoizedState=vu(1|d,_,void 0,T===void 0?null:T)}function Kh(h,d,_,T){var A=dn();T=T===void 0?null:T;var I=void 0;if(yr!==null){var V=yr.memoizedState;if(I=V.destroy,T!==null&&yu(T,V.deps))return void(A.memoizedState=vu(d,_,I,T))}jt.flags|=h,A.memoizedState=vu(1|d,_,I,T)}function Od(h,d){return eo(8390656,8,h,d)}function Qh(h,d){return Kh(2048,8,h,d)}function Dt(h,d){return Kh(4,2,h,d)}function Zh(h,d){return Kh(4,4,h,d)}function _u(h,d){return typeof d=="function"?(h=h(),d(h),function(){d(null)}):d!=null?(h=h(),d.current=h,function(){d.current=null}):void 0}function Ka(h,d,_){return _=_!=null?_.concat([h]):null,Kh(4,4,_u.bind(null,d,h),_)}function Jh(){}function ec(h,d){var _=dn();d=d===void 0?null:d;var T=_.memoizedState;return T!==null&&d!==null&&yu(d,T[1])?T[0]:(_.memoizedState=[h,d],h)}function Qa(h,d){var _=dn();d=d===void 0?null:d;var T=_.memoizedState;return T!==null&&d!==null&&yu(d,T[1])?T[0]:(h=h(),_.memoizedState=[h,d],h)}function xu(h,d,_){return 21&Js?(jn(_,d)||(_=md(),jt.lanes|=_,oo|=_,h.baseState=!0),d):(h.baseState&&(h.baseState=!1,qt=!0),h.memoizedState=_)}function Za(h,d){var _=pt;pt=_!==0&&4>_?_:4,h(!0);var T=Hh.transition;Hh.transition={};try{h(!1),d()}finally{pt=_,Hh.transition=T}}function Nd(){return dn().memoizedState}function dy(h,d,_){var T=ii(h);_={lane:T,action:_,hasEagerState:!1,eagerState:null,next:null},Fd(h)?wu(d,_):(_=Rp(h,d,_,T))!==null&&($r(_,h,T,_r()),Su(_,d,T))}function fy(h,d,_){var T=ii(h),A={lane:T,action:_,hasEagerState:!1,eagerState:null,next:null};if(Fd(h))wu(d,A);else{var I=h.alternate;if(h.lanes===0&&(I===null||I.lanes===0)&&(I=d.lastRenderedReducer)!==null)try{var V=d.lastRenderedState,K=I(V,_);if(A.hasEagerState=!0,A.eagerState=K,jn(K,V)){var se=d.interleaved;return se===null?(A.next=A,wd(d)):(A.next=se.next,se.next=A),void(d.interleaved=A)}}catch{}(_=Rp(h,d,A,T))!==null&&($r(_,h,T,A=_r()),Su(_,d,T))}}function Fd(h){var d=h.alternate;return h===jt||d!==null&&d===jt}function wu(h,d){gu=$h=!0;var _=h.pending;_===null?d.next=d:(d.next=_.next,_.next=d),h.pending=d}function Su(h,d,_){if(4194240&_){var T=d.lanes;_|=T&=h.pendingLanes,d.lanes=_,nu(h,_)}}var Ja={readContext:Wn,useCallback:lr,useContext:lr,useEffect:lr,useImperativeHandle:lr,useInsertionEffect:lr,useLayoutEffect:lr,useMemo:lr,useReducer:lr,useRef:lr,useState:lr,useDebugValue:lr,useDeferredValue:lr,useTransition:lr,useMutableSource:lr,useSyncExternalStore:lr,useId:lr,unstable_isNewReconciler:!1},Ld={readContext:Wn,useCallback:function(h,d){return Jr().memoizedState=[h,d===void 0?null:d],h},useContext:Wn,useEffect:Od,useImperativeHandle:function(h,d,_){return _=_!=null?_.concat([h]):null,eo(4194308,4,_u.bind(null,d,h),_)},useLayoutEffect:function(h,d){return eo(4194308,4,h,d)},useInsertionEffect:function(h,d){return eo(4,2,h,d)},useMemo:function(h,d){var _=Jr();return d=d===void 0?null:d,h=h(),_.memoizedState=[h,d],h},useReducer:function(h,d,_){var T=Jr();return d=_!==void 0?_(d):d,T.memoizedState=T.baseState=d,h={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:h,lastRenderedState:d},T.queue=h,h=h.dispatch=dy.bind(null,jt,h),[T.memoizedState,h]},useRef:function(h){return h={current:h},Jr().memoizedState=h},useState:qh,useDebugValue:Jh,useDeferredValue:function(h){return Jr().memoizedState=h},useTransition:function(){var h=qh(!1),d=h[0];return h=Za.bind(null,h[1]),Jr().memoizedState=h,[d,h]},useMutableSource:function(){},useSyncExternalStore:function(h,d,_){var T=jt,A=Jr();if(Mt){if(_===void 0)throw Error(s(407));_=_()}else{if(_=d(),hr===null)throw Error(s(349));30&Js||kd(T,d,_)}A.memoizedState=_;var I={value:_,getSnapshot:d};return A.queue=I,Od(Dd.bind(null,T,I,h),[h]),T.flags|=2048,vu(9,Md.bind(null,T,I,_,d),void 0,null),_},useId:function(){var h=Jr(),d=hr.identifierPrefix;if(Mt){var _=$n;d=":"+d+"R"+(_=(Hn&~(1<<32-Gn(Hn)-1)).toString(32)+_),0<(_=ji++)&&(d+="H"+_.toString(32)),d+=":"}else d=":"+d+"r"+(_=Pd++).toString(32)+":";return h.memoizedState=d},unstable_isNewReconciler:!1},Bd={readContext:Wn,useCallback:ec,useContext:Wn,useEffect:Qh,useImperativeHandle:Ka,useInsertionEffect:Dt,useLayoutEffect:Zh,useMemo:Qa,useReducer:qa,useRef:Np,useState:function(){return qa(Ya)},useDebugValue:Jh,useDeferredValue:function(h){return xu(dn(),yr.memoizedState,h)},useTransition:function(){return[qa(Ya)[0],dn().memoizedState]},useMutableSource:Rd,useSyncExternalStore:Id,useId:Nd,unstable_isNewReconciler:!1},Ud={readContext:Wn,useCallback:ec,useContext:Wn,useEffect:Qh,useImperativeHandle:Ka,useInsertionEffect:Dt,useLayoutEffect:Zh,useMemo:Qa,useReducer:Xh,useRef:Np,useState:function(){return Xh(Ya)},useDebugValue:Jh,useDeferredValue:function(h){var d=dn();return yr===null?d.memoizedState=h:xu(d,yr.memoizedState,h)},useTransition:function(){return[Xh(Ya)[0],dn().memoizedState]},useMutableSource:Rd,useSyncExternalStore:Id,useId:Nd,unstable_isNewReconciler:!1};function el(h,d){try{var _="",T=d;do _+=cy(T),T=T.return;while(T);var A=_}catch(I){A=`
Error generating stack: `+I.message+`
`+I.stack}return{value:h,source:d,stack:A,digest:null}}function tc(h,d,_){return{value:h,source:null,stack:_??null,digest:d??null}}function zd(h,d){try{console.error(d.value)}catch(_){setTimeout(function(){throw _})}}var py=typeof WeakMap=="function"?WeakMap:Map;function rc(h,d,_){(_=fs(-1,_)).tag=3,_.payload={element:null};var T=d.value;return _.callback=function(){Nt||(Nt=!0,hl=T),zd(0,d)},_}function ms(h,d,_){(_=fs(-1,_)).tag=3;var T=h.type.getDerivedStateFromError;if(typeof T=="function"){var A=d.value;_.payload=function(){return T(A)},_.callback=function(){zd(0,d)}}var I=h.stateNode;return I!==null&&typeof I.componentDidCatch=="function"&&(_.callback=function(){zd(0,d),typeof T!="function"&&($i===null?$i=new Set([this]):$i.add(this));var V=d.stack;this.componentDidCatch(d.value,{componentStack:V!==null?V:""})}),_}function Vd(h,d,_){var T=h.pingCache;if(T===null){T=h.pingCache=new py;var A=new Set;T.set(d,A)}else(A=T.get(d))===void 0&&(A=new Set,T.set(d,A));A.has(_)||(A.add(_),h=cc.bind(null,h,d,_),d.then(h,h))}function $o(h){do{var d;if((d=h.tag===13)&&(d=(d=h.memoizedState)===null||d.dehydrated!==null),d)return h;h=h.return}while(h!==null);return null}function Si(h,d,_,T,A){return 1&h.mode?(h.flags|=65536,h.lanes=A,h):(h===d?h.flags|=65536:(h.flags|=128,_.flags|=131072,_.flags&=-52805,_.tag===1&&(_.alternate===null?_.tag=17:((d=fs(-1,1)).tag=2,Gi(_,d,1))),_.lanes|=1),h)}var bu=a.ReactCurrentOwner,qt=!1;function jr(h,d,_,T){d.child=h===null?pu(d,null,_,T):Wa(d,h.child,_,T)}function Fp(h,d,_,T,A){_=_.render;var I=d.ref;return Ga(d,A),T=Wh(h,d,_,T,I,A),_=Xa(),h===null||qt?(Mt&&_&&Ba(d),d.flags|=1,jr(h,d,T,A),d.child):(d.updateQueue=h.updateQueue,d.flags&=-2053,h.lanes&=~A,qn(h,d,A))}function Lp(h,d,_,T,A){if(h===null){var I=_.type;return typeof I!="function"||Fu(I)||I.defaultProps!==void 0||_.compare!==null||_.defaultProps!==void 0?((h=Lu(_.type,null,T,d,d.mode,A)).ref=d.ref,h.return=d,d.child=h):(d.tag=15,d.type=I,to(h,d,I,T,A))}if(I=h.child,(h.lanes&A)==0){var V=I.memoizedProps;if((_=(_=_.compare)!==null?_:Uh)(V,T)&&h.ref===d.ref)return qn(h,d,A)}return d.flags|=1,(h=Ts(I,T)).ref=d.ref,h.return=d,d.child=h}function to(h,d,_,T,A){if(h!==null){var I=h.memoizedProps;if(Uh(I,T)&&h.ref===d.ref){if(qt=!1,d.pendingProps=T=I,(h.lanes&A)==0)return d.lanes=h.lanes,qn(h,d,A);131072&h.flags&&(qt=!0)}}return rl(h,d,_,T,A)}function tl(h,d,_){var T=d.pendingProps,A=T.children,I=h!==null?h.memoizedState:null;if(T.mode==="hidden")if(!(1&d.mode))d.memoizedState={baseLanes:0,cachePool:null,transitions:null},kt(xs,cr),cr|=_;else{if(!(1073741824&_))return h=I!==null?I.baseLanes|_:_,d.lanes=d.childLanes=1073741824,d.memoizedState={baseLanes:h,cachePool:null,transitions:null},d.updateQueue=null,kt(xs,cr),cr|=h,null;d.memoizedState={baseLanes:0,cachePool:null,transitions:null},T=I!==null?I.baseLanes:_,kt(xs,cr),cr|=T}else I!==null?(T=I.baseLanes|_,d.memoizedState=null):T=_,kt(xs,cr),cr|=T;return jr(h,d,A,_),d.child}function Wo(h,d){var _=d.ref;(h===null&&_!==null||h!==null&&h.ref!==_)&&(d.flags|=512,d.flags|=2097152)}function rl(h,d,_,T,A){var I=Gr(_)?Fo:Vr.current;return I=ls(d,I),Ga(d,A),_=Wh(h,d,_,T,I,A),T=Xa(),h===null||qt?(Mt&&T&&Ba(d),d.flags|=1,jr(h,d,_,A),d.child):(d.updateQueue=h.updateQueue,d.flags&=-2053,h.lanes&=~A,qn(h,d,A))}function nc(h,d,_,T,A){if(Gr(_)){var I=!0;Mh(d)}else I=!1;if(Ga(d,A),d.stateNode===null)Yn(h,d),Mp(d,_,T),Ed(d,_,T,A),T=!0;else if(h===null){var V=d.stateNode,K=d.memoizedProps;V.props=K;var se=V.context,pe=_.contextType;typeof pe=="object"&&pe!==null?pe=Wn(pe):pe=ls(d,pe=Gr(_)?Fo:Vr.current);var ve=_.getDerivedStateFromProps,Me=typeof ve=="function"||typeof V.getSnapshotBeforeUpdate=="function";Me||typeof V.UNSAFE_componentWillReceiveProps!="function"&&typeof V.componentWillReceiveProps!="function"||(K!==T||se!==pe)&&Dp(d,V,T,pe),qs=!1;var ge=d.memoizedState;V.state=ge,cu(d,T,V,A),se=d.memoizedState,K!==T||ge!==se||un.current||qs?(typeof ve=="function"&&(Vh(d,_,ve,T),se=d.memoizedState),(K=qs||Go(d,_,K,T,ge,se,pe))?(Me||typeof V.UNSAFE_componentWillMount!="function"&&typeof V.componentWillMount!="function"||(typeof V.componentWillMount=="function"&&V.componentWillMount(),typeof V.UNSAFE_componentWillMount=="function"&&V.UNSAFE_componentWillMount()),typeof V.componentDidMount=="function"&&(d.flags|=4194308)):(typeof V.componentDidMount=="function"&&(d.flags|=4194308),d.memoizedProps=T,d.memoizedState=se),V.props=T,V.state=se,V.context=pe,T=K):(typeof V.componentDidMount=="function"&&(d.flags|=4194308),T=!1)}else{V=d.stateNode,Ip(h,d),K=d.memoizedProps,pe=d.type===d.elementType?K:xi(d.type,K),V.props=pe,Me=d.pendingProps,ge=V.context,typeof(se=_.contextType)=="object"&&se!==null?se=Wn(se):se=ls(d,se=Gr(_)?Fo:Vr.current);var Ce=_.getDerivedStateFromProps;(ve=typeof Ce=="function"||typeof V.getSnapshotBeforeUpdate=="function")||typeof V.UNSAFE_componentWillReceiveProps!="function"&&typeof V.componentWillReceiveProps!="function"||(K!==Me||ge!==se)&&Dp(d,V,T,se),qs=!1,ge=d.memoizedState,V.state=ge,cu(d,T,V,A);var Ge=d.memoizedState;K!==Me||ge!==Ge||un.current||qs?(typeof Ce=="function"&&(Vh(d,_,Ce,T),Ge=d.memoizedState),(pe=qs||Go(d,_,pe,T,ge,Ge,se)||!1)?(ve||typeof V.UNSAFE_componentWillUpdate!="function"&&typeof V.componentWillUpdate!="function"||(typeof V.componentWillUpdate=="function"&&V.componentWillUpdate(T,Ge,se),typeof V.UNSAFE_componentWillUpdate=="function"&&V.UNSAFE_componentWillUpdate(T,Ge,se)),typeof V.componentDidUpdate=="function"&&(d.flags|=4),typeof V.getSnapshotBeforeUpdate=="function"&&(d.flags|=1024)):(typeof V.componentDidUpdate!="function"||K===h.memoizedProps&&ge===h.memoizedState||(d.flags|=4),typeof V.getSnapshotBeforeUpdate!="function"||K===h.memoizedProps&&ge===h.memoizedState||(d.flags|=1024),d.memoizedProps=T,d.memoizedState=Ge),V.props=T,V.state=Ge,V.context=se,T=pe):(typeof V.componentDidUpdate!="function"||K===h.memoizedProps&&ge===h.memoizedState||(d.flags|=4),typeof V.getSnapshotBeforeUpdate!="function"||K===h.memoizedProps&&ge===h.memoizedState||(d.flags|=1024),T=!1)}return ro(h,d,_,T,I,A)}function ro(h,d,_,T,A,I){Wo(h,d);var V=(128&d.flags)!=0;if(!T&&!V)return A&&Dh(d,_,!1),qn(h,d,I);T=d.stateNode,bu.current=d;var K=V&&typeof _.getDerivedStateFromError!="function"?null:T.render();return d.flags|=1,h!==null&&V?(d.child=Wa(d,h.child,null,I),d.child=Wa(d,null,K,I)):jr(h,d,K,I),d.memoizedState=T.state,A&&Dh(d,_,!0),d.child}function gs(h){var d=h.stateNode;d.pendingContext?Zl(0,d.pendingContext,d.pendingContext!==d.context):d.context&&Zl(0,d.context,!1),Gh(h,d.containerInfo)}function Ot(h,d,_,T,A){return za(),lu(A),d.flags|=256,jr(h,d,_,T),d.child}var Et,Xn,vr,Nr,ys={dehydrated:null,treeContext:null,retryLane:0};function no(h){return{baseLanes:h,cachePool:null,transitions:null}}function en(h,d,_){var T,A=d.pendingProps,I=Yt.current,V=!1,K=(128&d.flags)!=0;if((T=K)||(T=(h===null||h.memoizedState!==null)&&(2&I)!=0),T?(V=!0,d.flags&=-129):h!==null&&h.memoizedState===null||(I|=1),kt(Yt,1&I),h===null)return Ua(d),(h=d.memoizedState)!==null&&(h=h.dehydrated)!==null?(1&d.mode?Vn(h)?d.lanes=8:d.lanes=1073741824:d.lanes=1,null):(K=A.children,h=A.fallback,V?(A=d.mode,V=d.child,K={mode:"hidden",children:K},!(1&A)&&V!==null?(V.childLanes=0,V.pendingProps=K):V=dc(K,A,0,null),h=lo(h,A,_,null),V.return=d,h.return=d,V.sibling=h,d.child=V,d.child.memoizedState=no(_),d.memoizedState=ys,h):nl(d,K));if((I=h.memoizedState)!==null&&(T=I.dehydrated)!==null)return function(pe,ve,Me,ge,Ce,Ge,ut){if(Me)return 256&ve.flags?(ve.flags&=-257,Tu(pe,ve,ut,ge=tc(Error(s(422))))):ve.memoizedState!==null?(ve.child=pe.child,ve.flags|=128,null):(Ge=ge.fallback,Ce=ve.mode,ge=dc({mode:"visible",children:ge.children},Ce,0,null),(Ge=lo(Ge,Ce,ut,null)).flags|=2,ge.return=ve,Ge.return=ve,ge.sibling=Ge,ve.child=ge,1&ve.mode&&Wa(ve,pe.child,null,ut),ve.child.memoizedState=no(ut),ve.memoizedState=ys,Ge);if(!(1&ve.mode))return Tu(pe,ve,ut,null);if(Vn(Ce))return ge=Hs(Ce).digest,Ge=Error(s(419)),ge=tc(Ge,ge,void 0),Tu(pe,ve,ut,ge);if(Me=(ut&pe.childLanes)!=0,qt||Me){if((ge=hr)!==null){switch(ut&-ut){case 4:Ce=2;break;case 16:Ce=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:Ce=32;break;case 536870912:Ce=268435456;break;default:Ce=0}(Ce=Ce&(ge.suspendedLanes|ut)?0:Ce)!==0&&Ce!==Ge.retryLane&&(Ge.retryLane=Ce,Vi(pe,Ce),$r(ge,pe,Ce,-1))}return hc(),Tu(pe,ve,ut,ge=tc(Error(s(421))))}return Ma(Ce)?(ve.flags|=128,ve.child=pe.child,ve=Zd.bind(null,pe),$s(Ce,ve),null):(pe=Ge.treeContext,We&&(Or=Ch(Ce),Bt=ve,Mt=!0,_i=null,ds=!1,pe!==null&&(hn[Pn++]=Hn,hn[Pn++]=$n,hn[Pn++]=cn,Hn=pe.id,$n=pe.overflow,cn=ve)),ve=nl(ve,ge.children),ve.flags|=4096,ve)}(h,d,K,A,T,I,_);if(V){V=A.fallback,K=d.mode,T=(I=h.child).sibling;var se={mode:"hidden",children:A.children};return!(1&K)&&d.child!==I?((A=d.child).childLanes=0,A.pendingProps=se,d.deletions=null):(A=Ts(I,se)).subtreeFlags=14680064&I.subtreeFlags,T!==null?V=Ts(T,V):(V=lo(V,K,_,null)).flags|=2,V.return=d,A.return=d,A.sibling=V,d.child=A,A=V,V=d.child,K=(K=h.child.memoizedState)===null?no(_):{baseLanes:K.baseLanes|_,cachePool:null,transitions:K.transitions},V.memoizedState=K,V.childLanes=h.childLanes&~_,d.memoizedState=ys,A}return h=(V=h.child).sibling,A=Ts(V,{mode:"visible",children:A.children}),!(1&d.mode)&&(A.lanes=_),A.return=d,A.sibling=null,h!==null&&((_=d.deletions)===null?(d.deletions=[h],d.flags|=16):_.push(h)),d.child=A,d.memoizedState=null,A}function nl(h,d){return(d=dc({mode:"visible",children:d},h.mode,0,null)).return=h,h.child=d}function Tu(h,d,_,T){return T!==null&&lu(T),Wa(d,h.child,null,_),(h=nl(d,d.pendingProps.children)).flags|=2,d.memoizedState=null,h}function Gd(h,d,_){h.lanes|=d;var T=h.alternate;T!==null&&(T.lanes|=d),xd(h.return,d,_)}function il(h,d,_,T,A){var I=h.memoizedState;I===null?h.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:T,tail:_,tailMode:A}:(I.isBackwards=d,I.rendering=null,I.renderingStartTime=0,I.last=T,I.tail=_,I.tailMode=A)}function jd(h,d,_){var T=d.pendingProps,A=T.revealOrder,I=T.tail;if(jr(h,d,T.children,_),(2&(T=Yt.current))!=0)T=1&T|2,d.flags|=128;else{if(h!==null&&128&h.flags)e:for(h=d.child;h!==null;){if(h.tag===13)h.memoizedState!==null&&Gd(h,_,d);else if(h.tag===19)Gd(h,_,d);else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===d)break e;for(;h.sibling===null;){if(h.return===null||h.return===d)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}T&=1}if(kt(Yt,T),(1&d.mode)==0)d.memoizedState=null;else switch(A){case"forwards":for(_=d.child,A=null;_!==null;)(h=_.alternate)!==null&&jh(h)===null&&(A=_),_=_.sibling;(_=A)===null?(A=d.child,d.child=null):(A=_.sibling,_.sibling=null),il(d,!1,A,_,I);break;case"backwards":for(_=null,A=d.child,d.child=null;A!==null;){if((h=A.alternate)!==null&&jh(h)===null){d.child=A;break}h=A.sibling,A.sibling=_,_=A,A=h}il(d,!0,_,null,I);break;case"together":il(d,!1,null,null,void 0);break;default:d.memoizedState=null}return d.child}function Yn(h,d){!(1&d.mode)&&h!==null&&(h.alternate=null,d.alternate=null,d.flags|=2)}function qn(h,d,_){if(h!==null&&(d.dependencies=h.dependencies),oo|=d.lanes,(_&d.childLanes)==0)return null;if(h!==null&&d.child!==h.child)throw Error(s(153));if(d.child!==null){for(_=Ts(h=d.child,h.pendingProps),d.child=_,_.return=d;h.sibling!==null;)h=h.sibling,(_=_.sibling=Ts(h,h.pendingProps)).return=d;_.sibling=null}return d.child}function Kn(h){h.flags|=4}function Hd(h,d){if(h!==null&&h.child===d.child)return!0;if(16&d.flags)return!1;for(h=d.child;h!==null;){if(12854&h.flags||12854&h.subtreeFlags)return!1;h=h.sibling}return!0}if(De)Et=function(h,d){for(var _=d.child;_!==null;){if(_.tag===5||_.tag===6)j(h,_.stateNode);else if(_.tag!==4&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===d)break;for(;_.sibling===null;){if(_.return===null||_.return===d)return;_=_.return}_.sibling.return=_.return,_=_.sibling}},Xn=function(){},vr=function(h,d,_,T,A){if((h=h.memoizedProps)!==T){var I=d.stateNode,V=wi(Rn.current);_=ie(I,_,h,T,A,V),(d.updateQueue=_)&&Kn(d)}},Nr=function(h,d,_,T){_!==T&&Kn(d)};else if(Ve){Et=function(h,d,_,T){for(var A=d.child;A!==null;){if(A.tag===5){var I=A.stateNode;_&&T&&(I=zr(I,A.type,A.memoizedProps,A)),j(h,I)}else if(A.tag===6)I=A.stateNode,_&&T&&(I=Ia(I,A.memoizedProps,A)),j(h,I);else if(A.tag!==4){if(A.tag===22&&A.memoizedState!==null)(I=A.child)!==null&&(I.return=A),Et(h,A,!0,!0);else if(A.child!==null){A.child.return=A,A=A.child;continue}}if(A===d)break;for(;A.sibling===null;){if(A.return===null||A.return===d)return;A=A.return}A.sibling.return=A.return,A=A.sibling}};var Bp=function(h,d,_,T){for(var A=d.child;A!==null;){if(A.tag===5){var I=A.stateNode;_&&T&&(I=zr(I,A.type,A.memoizedProps,A)),zn(h,I)}else if(A.tag===6)I=A.stateNode,_&&T&&(I=Ia(I,A.memoizedProps,A)),zn(h,I);else if(A.tag!==4){if(A.tag===22&&A.memoizedState!==null)(I=A.child)!==null&&(I.return=A),Bp(h,A,!0,!0);else if(A.child!==null){A.child.return=A,A=A.child;continue}}if(A===d)break;for(;A.sibling===null;){if(A.return===null||A.return===d)return;A=A.return}A.sibling.return=A.return,A=A.sibling}};Xn=function(h,d){var _=d.stateNode;if(!Hd(h,d)){h=_.containerInfo;var T=Dr(h);Bp(T,d,!1,!1),_.pendingChildren=T,Kn(d),Ra(h,T)}},vr=function(h,d,_,T,A){var I=h.stateNode,V=h.memoizedProps;if((h=Hd(h,d))&&V===T)d.stateNode=I;else{var K=d.stateNode,se=wi(Rn.current),pe=null;V!==T&&(pe=ie(K,_,V,T,A,se)),h&&pe===null?d.stateNode=I:(I=Ui(I,pe,_,V,T,d,h,K),Q(I,_,T,A,se)&&Kn(d),d.stateNode=I,h?Kn(d):Et(I,d,!1,!1))}},Nr=function(h,d,_,T){_!==T?(h=wi(Qs.current),_=wi(Rn.current),d.stateNode=ye(T,h,_,d),Kn(d)):d.stateNode=h.stateNode}}else Xn=function(){},vr=function(){},Nr=function(){};function Qn(h,d){if(!Mt)switch(h.tailMode){case"hidden":d=h.tail;for(var _=null;d!==null;)d.alternate!==null&&(_=d),d=d.sibling;_===null?h.tail=null:_.sibling=null;break;case"collapsed":_=h.tail;for(var T=null;_!==null;)_.alternate!==null&&(T=_),_=_.sibling;T===null?d||h.tail===null?h.tail=null:h.tail.sibling=null:T.sibling=null}}function ur(h){var d=h.alternate!==null&&h.alternate.child===h.child,_=0,T=0;if(d)for(var A=h.child;A!==null;)_|=A.lanes|A.childLanes,T|=14680064&A.subtreeFlags,T|=14680064&A.flags,A.return=h,A=A.sibling;else for(A=h.child;A!==null;)_|=A.lanes|A.childLanes,T|=A.subtreeFlags,T|=A.flags,A.return=h,A=A.sibling;return h.subtreeFlags|=T,h.childLanes=_,d}function sl(h,d,_){var T=d.pendingProps;switch(Nh(d),d.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ur(d),null;case 1:case 17:return Gr(d.type)&&Lo(),ur(d),null;case 3:return _=d.stateNode,Ho(),yt(un),yt(Vr),In(),_.pendingContext&&(_.context=_.pendingContext,_.pendingContext=null),h!==null&&h.child!==null||(Bh(d)?Kn(d):h===null||h.memoizedState.isDehydrated&&!(256&d.flags)||(d.flags|=1024,_i!==null&&(Ou(_i),_i=null))),Xn(h,d),ur(d),null;case 5:Ad(d),_=wi(Qs.current);var A=d.type;if(h!==null&&d.stateNode!=null)vr(h,d,A,T,_),h.ref!==d.ref&&(d.flags|=512,d.flags|=2097152);else{if(!T){if(d.stateNode===null)throw Error(s(166));return ur(d),null}if(h=wi(Rn.current),Bh(d)){if(!We)throw Error(s(175));h=yi(d.stateNode,d.type,d.memoizedProps,_,h,d,!ds),d.updateQueue=h,h!==null&&Kn(d)}else{var I=O(A,T,_,h,d);Et(I,d,!1,!1),d.stateNode=I,Q(I,A,T,_,h)&&Kn(d)}d.ref!==null&&(d.flags|=512,d.flags|=2097152)}return ur(d),null;case 6:if(h&&d.stateNode!=null)Nr(h,d,h.memoizedProps,T);else{if(typeof T!="string"&&d.stateNode===null)throw Error(s(166));if(h=wi(Qs.current),_=wi(Rn.current),Bh(d)){if(!We)throw Error(s(176));if(h=d.stateNode,_=d.memoizedProps,(T=Xl(h,_,d,!ds))&&(A=Bt)!==null)switch(A.tag){case 3:ly(A.stateNode.containerInfo,h,_,(1&A.mode)!=0);break;case 5:Jt(A.type,A.memoizedProps,A.stateNode,h,_,(1&A.mode)!=0)}T&&Kn(d)}else d.stateNode=ye(T,h,_,d)}return ur(d),null;case 13:if(yt(Yt),T=d.memoizedState,h===null||h.memoizedState!==null&&h.memoizedState.dehydrated!==null){if(Mt&&Or!==null&&1&d.mode&&!(128&d.flags))Cp(),za(),d.flags|=98560,A=!1;else if(A=Bh(d),T!==null&&T.dehydrated!==null){if(h===null){if(!A)throw Error(s(318));if(!We)throw Error(s(344));if(!(A=(A=d.memoizedState)!==null?A.dehydrated:null))throw Error(s(317));Ph(A,d)}else za(),!(128&d.flags)&&(d.memoizedState=null),d.flags|=4;ur(d),A=!1}else _i!==null&&(Ou(_i),_i=null),A=!0;if(!A)return 65536&d.flags?d:null}return 128&d.flags?(d.lanes=_,d):((_=T!==null)!=(h!==null&&h.memoizedState!==null)&&_&&(d.child.flags|=8192,1&d.mode&&(h===null||1&Yt.current?dr===0&&(dr=3):hc())),d.updateQueue!==null&&(d.flags|=4),ur(d),null);case 4:return Ho(),Xn(h,d),h===null&&He(d.stateNode.containerInfo),ur(d),null;case 10:return hu(d.type._context),ur(d),null;case 19:if(yt(Yt),(A=d.memoizedState)===null)return ur(d),null;if(T=(128&d.flags)!=0,(I=A.rendering)===null)if(T)Qn(A,!1);else{if(dr!==0||h!==null&&128&h.flags)for(h=d.child;h!==null;){if((I=jh(h))!==null){for(d.flags|=128,Qn(A,!1),(h=I.updateQueue)!==null&&(d.updateQueue=h,d.flags|=4),d.subtreeFlags=0,h=_,_=d.child;_!==null;)A=h,(T=_).flags&=14680066,(I=T.alternate)===null?(T.childLanes=0,T.lanes=A,T.child=null,T.subtreeFlags=0,T.memoizedProps=null,T.memoizedState=null,T.updateQueue=null,T.dependencies=null,T.stateNode=null):(T.childLanes=I.childLanes,T.lanes=I.lanes,T.child=I.child,T.subtreeFlags=0,T.deletions=null,T.memoizedProps=I.memoizedProps,T.memoizedState=I.memoizedState,T.updateQueue=I.updateQueue,T.type=I.type,A=I.dependencies,T.dependencies=A===null?null:{lanes:A.lanes,firstContext:A.firstContext}),_=_.sibling;return kt(Yt,1&Yt.current|2),d.child}h=h.sibling}A.tail!==null&&Lt()>Mu&&(d.flags|=128,T=!0,Qn(A,!1),d.lanes=4194304)}else{if(!T)if((h=jh(I))!==null){if(d.flags|=128,T=!0,(h=h.updateQueue)!==null&&(d.updateQueue=h,d.flags|=4),Qn(A,!0),A.tail===null&&A.tailMode==="hidden"&&!I.alternate&&!Mt)return ur(d),null}else 2*Lt()-A.renderingStartTime>Mu&&_!==1073741824&&(d.flags|=128,T=!0,Qn(A,!1),d.lanes=4194304);A.isBackwards?(I.sibling=d.child,d.child=I):((h=A.last)!==null?h.sibling=I:d.child=I,A.last=I)}return A.tail!==null?(d=A.tail,A.rendering=d,A.tail=d.sibling,A.renderingStartTime=Lt(),d.sibling=null,h=Yt.current,kt(Yt,T?1&h|2:1&h),d):(ur(d),null);case 22:case 23:return ta(),_=d.memoizedState!==null,h!==null&&h.memoizedState!==null!==_&&(d.flags|=8192),_&&1&d.mode?1073741824&cr&&(ur(d),De&&6&d.subtreeFlags&&(d.flags|=8192)):ur(d),null;case 24:case 25:return null}throw Error(s(156,d.tag))}function ic(h,d){switch(Nh(d),d.tag){case 1:return Gr(d.type)&&Lo(),65536&(h=d.flags)?(d.flags=-65537&h|128,d):null;case 3:return Ho(),yt(un),yt(Vr),In(),65536&(h=d.flags)&&!(128&h)?(d.flags=-65537&h|128,d):null;case 5:return Ad(d),null;case 13:if(yt(Yt),(h=d.memoizedState)!==null&&h.dehydrated!==null){if(d.alternate===null)throw Error(s(340));za()}return 65536&(h=d.flags)?(d.flags=-65537&h|128,d):null;case 19:return yt(Yt),null;case 4:return Ho(),null;case 10:return hu(d.type._context),null;case 22:case 23:return ta(),null;default:return null}}var Xo=!1,Rt=!1,Zn=typeof WeakSet=="function"?WeakSet:Set,Fe=null;function fn(h,d){var _=h.ref;if(_!==null)if(typeof _=="function")try{_(null)}catch(T){It(h,d,T)}else _.current=null}function Hi(h,d,_){try{_()}catch(T){It(h,d,T)}}var io=!1;function ol(h,d,_){var T=d.updateQueue;if((T=T!==null?T.lastEffect:null)!==null){var A=T=T.next;do{if((A.tag&h)===h){var I=A.destroy;A.destroy=void 0,I!==void 0&&Hi(d,_,I)}A=A.next}while(A!==T)}}function al(h,d){if((d=(d=d.updateQueue)!==null?d.lastEffect:null)!==null){var _=d=d.next;do{if((_.tag&h)===h){var T=_.create;_.destroy=T()}_=_.next}while(_!==d)}}function Eu(h){var d=h.ref;if(d!==null){var _=h.stateNode;h.tag===5?h=U(_):h=_,typeof d=="function"?d(h):d.current=h}}function pn(h){var d=h.alternate;d!==null&&(h.alternate=null,pn(d)),h.child=null,h.deletions=null,h.sibling=null,h.tag===5&&(d=h.stateNode)!==null&&Ft(d),h.stateNode=null,h.return=null,h.dependencies=null,h.memoizedProps=null,h.memoizedState=null,h.pendingProps=null,h.stateNode=null,h.updateQueue=null}function mn(h){return h.tag===5||h.tag===3||h.tag===4}function Ut(h){e:for(;;){for(;h.sibling===null;){if(h.return===null||mn(h.return))return null;h=h.return}for(h.sibling.return=h.return,h=h.sibling;h.tag!==5&&h.tag!==6&&h.tag!==18;){if(2&h.flags||h.child===null||h.tag===4)continue e;h.child.return=h,h=h.child}if(!(2&h.flags))return h.stateNode}}function kn(h,d,_){var T=h.tag;if(T===5||T===6)h=h.stateNode,d?Ca(_,h,d):Vs(_,h);else if(T!==4&&(h=h.child)!==null)for(kn(h,d,_),h=h.sibling;h!==null;)kn(h,d,_),h=h.sibling}function sc(h,d,_){var T=h.tag;if(T===5||T===6)h=h.stateNode,d?Eh(_,h,d):Aa(_,h);else if(T!==4&&(h=h.child)!==null)for(sc(h,d,_),h=h.sibling;h!==null;)sc(h,d,_),h=h.sibling}var Hr=null,Jn=!1;function ei(h,d,_){for(_=_.child;_!==null;)oc(h,d,_),_=_.sibling}function oc(h,d,_){if(An&&typeof An.onCommitFiberUnmount=="function")try{An.onCommitFiberUnmount(ou,_)}catch{}switch(_.tag){case 5:Rt||fn(_,d);case 6:if(De){var T=Hr,A=Jn;Hr=null,ei(h,d,_),Jn=A,(Hr=T)!==null&&(Jn?oe(Hr,_.stateNode):Pa(Hr,_.stateNode))}else ei(h,d,_);break;case 18:De&&Hr!==null&&(Jn?ql(Hr,_.stateNode):Rh(Hr,_.stateNode));break;case 4:De?(T=Hr,A=Jn,Hr=_.stateNode.containerInfo,Jn=!0,ei(h,d,_),Hr=T,Jn=A):(Ve&&(T=_.stateNode.containerInfo,A=Dr(T),mi(T,A)),ei(h,d,_));break;case 0:case 11:case 14:case 15:if(!Rt&&(T=_.updateQueue)!==null&&(T=T.lastEffect)!==null){A=T=T.next;do{var I=A,V=I.destroy;I=I.tag,V!==void 0&&(2&I||4&I)&&Hi(_,d,V),A=A.next}while(A!==T)}ei(h,d,_);break;case 1:if(!Rt&&(fn(_,d),typeof(T=_.stateNode).componentWillUnmount=="function"))try{T.props=_.memoizedProps,T.state=_.memoizedState,T.componentWillUnmount()}catch(K){It(_,d,K)}ei(h,d,_);break;case 21:ei(h,d,_);break;case 22:1&_.mode?(Rt=(T=Rt)||_.memoizedState!==null,ei(h,d,_),Rt=T):ei(h,d,_);break;default:ei(h,d,_)}}function Au(h){var d=h.updateQueue;if(d!==null){h.updateQueue=null;var _=h.stateNode;_===null&&(_=h.stateNode=new Zn),d.forEach(function(T){var A=Vp.bind(null,h,T);_.has(T)||(_.add(T),T.then(A,A))})}}function ti(h,d){var _=d.deletions;if(_!==null)for(var T=0;T<_.length;T++){var A=_[T];try{var I=h,V=d;if(De){var K=V;e:for(;K!==null;){switch(K.tag){case 5:Hr=K.stateNode,Jn=!1;break e;case 3:case 4:Hr=K.stateNode.containerInfo,Jn=!0;break e}K=K.return}if(Hr===null)throw Error(s(160));oc(I,V,A),Hr=null,Jn=!1}else oc(I,V,A);var se=A.alternate;se!==null&&(se.return=null),A.return=null}catch(pe){It(A,d,pe)}}if(12854&d.subtreeFlags)for(d=d.child;d!==null;)Yo(d,h),d=d.sibling}function Yo(h,d){var _=h.alternate,T=h.flags;switch(h.tag){case 0:case 11:case 14:case 15:if(ti(d,h),ri(h),4&T){try{ol(3,h,h.return),al(3,h)}catch(ge){It(h,h.return,ge)}try{ol(5,h,h.return)}catch(ge){It(h,h.return,ge)}}break;case 1:ti(d,h),ri(h),512&T&&_!==null&&fn(_,_.return);break;case 5:if(ti(d,h),ri(h),512&T&&_!==null&&fn(_,_.return),De){if(32&h.flags){var A=h.stateNode;try{ue(A)}catch(ge){It(h,h.return,ge)}}if(4&T&&(A=h.stateNode)!=null){var I=h.memoizedProps;if(_=_!==null?_.memoizedProps:I,T=h.type,d=h.updateQueue,h.updateQueue=null,d!==null)try{cd(A,d,T,_,I,h)}catch(ge){It(h,h.return,ge)}}}break;case 6:if(ti(d,h),ri(h),4&T&&De){if(h.stateNode===null)throw Error(s(162));A=h.stateNode,I=h.memoizedProps,_=_!==null?_.memoizedProps:I;try{ss(A,_,I)}catch(ge){It(h,h.return,ge)}}break;case 3:if(ti(d,h),ri(h),4&T){if(De&&We&&_!==null&&_.memoizedState.isDehydrated)try{as(d.containerInfo)}catch(ge){It(h,h.return,ge)}if(Ve){A=d.containerInfo,I=d.pendingChildren;try{mi(A,I)}catch(ge){It(h,h.return,ge)}}}break;case 4:if(ti(d,h),ri(h),4&T&&Ve){A=(I=h.stateNode).containerInfo,I=I.pendingChildren;try{mi(A,I)}catch(ge){It(h,h.return,ge)}}break;case 13:ti(d,h),ri(h),8192&(A=h.child).flags&&(I=A.memoizedState!==null,A.stateNode.isHidden=I,!I||A.alternate!==null&&A.alternate.memoizedState!==null||(Ss=Lt())),4&T&&Au(h);break;case 22:var V=_!==null&&_.memoizedState!==null;if(1&h.mode?(Rt=(_=Rt)||V,ti(d,h),Rt=_):ti(d,h),ri(h),8192&T){if(_=h.memoizedState!==null,(h.stateNode.isHidden=_)&&!V&&(1&h.mode)!=0)for(Fe=h,T=h.child;T!==null;){for(d=Fe=T;Fe!==null;){var K=(V=Fe).child;switch(V.tag){case 0:case 11:case 14:case 15:ol(4,V,V.return);break;case 1:fn(V,V.return);var se=V.stateNode;if(typeof se.componentWillUnmount=="function"){var pe=V,ve=V.return;try{var Me=pe;se.props=Me.memoizedProps,se.state=Me.memoizedState,se.componentWillUnmount()}catch(ge){It(pe,ve,ge)}}break;case 5:fn(V,V.return);break;case 22:if(V.memoizedState!==null){$d(d);continue}}K!==null?(K.return=V,Fe=K):$d(d)}T=T.sibling}if(De){e:if(T=null,De)for(d=h;;){if(d.tag===5){if(T===null){T=d;try{A=d.stateNode,_?ft(A):Ct(d.stateNode,d.memoizedProps)}catch(ge){It(h,h.return,ge)}}}else if(d.tag===6){if(T===null)try{I=d.stateNode,_?Tt(I):it(I,d.memoizedProps)}catch(ge){It(h,h.return,ge)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===h)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===h)break e;for(;d.sibling===null;){if(d.return===null||d.return===h)break e;T===d&&(T=null),d=d.return}T===d&&(T=null),d.sibling.return=d.return,d=d.sibling}}}break;case 19:ti(d,h),ri(h),4&T&&Au(h);break;case 21:break;default:ti(d,h),ri(h)}}function ri(h){var d=h.flags;if(2&d){try{if(De){e:{for(var _=h.return;_!==null;){if(mn(_)){var T=_;break e}_=_.return}throw Error(s(160))}switch(T.tag){case 5:var A=T.stateNode;32&T.flags&&(ue(A),T.flags&=-33),sc(h,Ut(h),A);break;case 3:case 4:var I=T.stateNode.containerInfo;kn(h,Ut(h),I);break;default:throw Error(s(161))}}}catch(V){It(h,h.return,V)}h.flags&=-3}4096&d&&(h.flags&=-4097)}function my(h,d,_){Fe=h,ll(h)}function ll(h,d,_){for(var T=(1&h.mode)!=0;Fe!==null;){var A=Fe,I=A.child;if(A.tag===22&&T){var V=A.memoizedState!==null||Xo;if(!V){var K=A.alternate,se=K!==null&&K.memoizedState!==null||Rt;K=Xo;var pe=Rt;if(Xo=V,(Rt=se)&&!pe)for(Fe=A;Fe!==null;)se=(V=Fe).child,V.tag===22&&V.memoizedState!==null?Wd(A):se!==null?(se.return=V,Fe=se):Wd(A);for(;I!==null;)Fe=I,ll(I),I=I.sibling;Fe=A,Xo=K,Rt=pe}Cu(h)}else 8772&A.subtreeFlags&&I!==null?(I.return=A,Fe=I):Cu(h)}}function Cu(h){for(;Fe!==null;){var d=Fe;if(8772&d.flags){var _=d.alternate;try{if(8772&d.flags)switch(d.tag){case 0:case 11:case 15:Rt||al(5,d);break;case 1:var T=d.stateNode;if(4&d.flags&&!Rt)if(_===null)T.componentDidMount();else{var A=d.elementType===d.type?_.memoizedProps:xi(d.type,_.memoizedProps);T.componentDidUpdate(A,_.memoizedState,T.__reactInternalSnapshotBeforeUpdate)}var I=d.updateQueue;I!==null&&bd(d,I,T);break;case 3:var V=d.updateQueue;if(V!==null){if(_=null,d.child!==null)switch(d.child.tag){case 5:_=U(d.child.stateNode);break;case 1:_=d.child.stateNode}bd(d,V,_)}break;case 5:var K=d.stateNode;_===null&&4&d.flags&&Gs(K,d.type,d.memoizedProps,d);break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(We&&d.memoizedState===null){var se=d.alternate;if(se!==null){var pe=se.memoizedState;if(pe!==null){var ve=pe.dehydrated;ve!==null&&Oo(ve)}}}break;default:throw Error(s(163))}Rt||512&d.flags&&Eu(d)}catch(Me){It(d,d.return,Me)}}if(d===h){Fe=null;break}if((_=d.sibling)!==null){_.return=d.return,Fe=_;break}Fe=d.return}}function $d(h){for(;Fe!==null;){var d=Fe;if(d===h){Fe=null;break}var _=d.sibling;if(_!==null){_.return=d.return,Fe=_;break}Fe=d.return}}function Wd(h){for(;Fe!==null;){var d=Fe;try{switch(d.tag){case 0:case 11:case 15:var _=d.return;try{al(4,d)}catch(se){It(d,_,se)}break;case 1:var T=d.stateNode;if(typeof T.componentDidMount=="function"){var A=d.return;try{T.componentDidMount()}catch(se){It(d,A,se)}}var I=d.return;try{Eu(d)}catch(se){It(d,I,se)}break;case 5:var V=d.return;try{Eu(d)}catch(se){It(d,V,se)}}}catch(se){It(d,d.return,se)}if(d===h){Fe=null;break}var K=d.sibling;if(K!==null){K.return=d.return,Fe=K;break}Fe=d.return}}var vs=0,Pu=1,qo=2,Ko=3,_s=4;if(typeof Symbol=="function"&&Symbol.for){var Qo=Symbol.for;vs=Qo("selector.component"),Pu=Qo("selector.has_pseudo_class"),qo=Qo("selector.role"),Ko=Qo("selector.test_id"),_s=Qo("selector.text")}function Ru(h){var d=ct(h);if(d!=null){if(typeof d.memoizedProps["data-testname"]!="string")throw Error(s(364));return d}if((h=Cr(h))===null)throw Error(s(362));return h.stateNode.current}function Iu(h,d){switch(d.$$typeof){case vs:if(h.type===d.value)return!0;break;case Pu:e:{d=d.value,h=[h,0];for(var _=0;_<h.length;){var T=h[_++],A=h[_++],I=d[A];if(T.tag!==5||!En(T)){for(;I!=null&&Iu(T,I);)I=d[++A];if(A===d.length){d=!0;break e}for(T=T.child;T!==null;)h.push(T,A),T=T.sibling}}d=!1}return d;case qo:if(h.tag===5&&bh(h.stateNode,d.value))return!0;break;case _s:if((h.tag===5||h.tag===6)&&(h=is(h))!==null&&0<=h.indexOf(d.value))return!0;break;case Ko:if(h.tag===5&&typeof(h=h.memoizedProps["data-testname"])=="string"&&h.toLowerCase()===d.value.toLowerCase())return!0;break;default:throw Error(s(365))}return!1}function ku(h){switch(h.$$typeof){case vs:return"<"+(H(h.value)||"Unknown")+">";case Pu:return":has("+(ku(h)||"")+")";case qo:return'[role="'+h.value+'"]';case _s:return'"'+h.value+'"';case Ko:return'[data-testname="'+h.value+'"]';default:throw Error(s(365))}}function Zo(h,d){var _=[];h=[h,0];for(var T=0;T<h.length;){var A=h[T++],I=h[T++],V=d[I];if(A.tag!==5||!En(A)){for(;V!=null&&Iu(A,V);)V=d[++I];if(I===d.length)_.push(A);else for(A=A.child;A!==null;)h.push(A,I),A=A.sibling}}return _}function gn(h,d){if(!Ar)throw Error(s(363));h=Zo(h=Ru(h),d),d=[],h=Array.from(h);for(var _=0;_<h.length;){var T=h[_++];if(T.tag===5)En(T)||d.push(T.stateNode);else for(T=T.child;T!==null;)h.push(T),T=T.sibling}return d}var Jo=Math.ceil,ul=a.ReactCurrentDispatcher,ac=a.ReactCurrentOwner,Pt=a.ReactCurrentBatchConfig,at=0,hr=null,er=null,zt=0,cr=0,xs=vi(0),dr=0,so=null,oo=0,ao=0,ni=0,ws=null,Fr=null,Ss=0,Mu=1/0,Mn=null;function ea(){Mu=Lt()+500}var lc,Nt=!1,hl=null,$i=null,cl=!1,bi=null,dl=0,Ti=0,Vt=null,Kt=-1,tr=0;function _r(){return 6&at?Lt():Kt!==-1?Kt:Kt=Lt()}function ii(h){return 1&h.mode?2&at&&zt!==0?zt&-zt:hy.transition!==null?(tr===0&&(tr=md()),tr):(h=pt)!==0?h:Xe():1}function $r(h,d,_,T){if(50<Ti)throw Ti=0,Vt=null,Error(s(185));Da(h,_,T),2&at&&h===hr||(h===hr&&(!(2&at)&&(ao|=_),dr===4&&Wi(h,zt)),yn(h,T),_===1&&at===0&&!(1&d.mode)&&(ea(),Ws&&Cn()))}function yn(h,d){var _=h.callbackNode;(function(A,I){for(var V=A.suspendedLanes,K=A.pingedLanes,se=A.expirationTimes,pe=A.pendingLanes;0<pe;){var ve=31-Gn(pe),Me=1<<ve,ge=se[ve];ge===-1?Me&V&&!(Me&K)||(se[ve]=Ep(Me,I)):ge<=I&&(A.expiredLanes|=Me),pe&=~Me}})(h,d);var T=tu(h,h===hr?zt:0);if(T===0)_!==null&&hs(_),h.callbackNode=null,h.callbackPriority=0;else if(d=T&-T,h.callbackPriority!==d){if(_!=null&&hs(_),d===1)h.tag===0?function(A){Ws=!0,Uo(A)}(Ei.bind(null,h)):Uo(Ei.bind(null,h)),Xt?Li(function(){!(6&at)&&Cn()}):zi(gd,Cn),_=null;else{switch(us(T)){case 1:_=gd;break;case 4:_=Ap;break;case 16:default:_=Oa;break;case 536870912:_=uy}_=Jd(_,Lr.bind(null,h))}h.callbackPriority=d,h.callbackNode=_}}function Lr(h,d){if(Kt=-1,tr=0,(6&at)!=0)throw Error(s(327));var _=h.callbackNode;if(Ai()&&h.callbackNode!==_)return null;var T=tu(h,h===hr?zt:0);if(T===0)return null;if(30&T||T&h.expiredLanes||d)d=Nu(h,T);else{d=T;var A=at;at|=2;var I=Xd();for(hr===h&&zt===d||(Mn=null,ea(),bs(h,d));;)try{zp();break}catch(K){uc(h,K)}_d(),ul.current=I,at=A,er!==null?d=0:(hr=null,zt=0,d=dr)}if(d!==0){if(d===2&&(A=ru(h))!==0&&(T=A,d=Du(h,A)),d===1)throw _=so,bs(h,0),Wi(h,T),yn(h,Lt()),_;if(d===6)Wi(h,T);else{if(A=h.current.alternate,(30&T)==0&&!function(K){for(var se=K;;){if(16384&se.flags){var pe=se.updateQueue;if(pe!==null&&(pe=pe.stores)!==null)for(var ve=0;ve<pe.length;ve++){var Me=pe[ve],ge=Me.getSnapshot;Me=Me.value;try{if(!jn(ge(),Me))return!1}catch{return!1}}}if(pe=se.child,16384&se.subtreeFlags&&pe!==null)pe.return=se,se=pe;else{if(se===K)break;for(;se.sibling===null;){if(se.return===null||se.return===K)return!0;se=se.return}se.sibling.return=se.return,se=se.sibling}}return!0}(A)&&((d=Nu(h,T))===2&&(I=ru(h))!==0&&(T=I,d=Du(h,I)),d===1))throw _=so,bs(h,0),Wi(h,T),yn(h,Lt()),_;switch(h.finishedWork=A,h.finishedLanes=T,d){case 0:case 1:throw Error(s(345));case 2:case 5:ra(h,Fr,Mn);break;case 3:if(Wi(h,T),(130023424&T)===T&&10<(d=Ss+500-Lt())){if(tu(h,0)!==0)break;if(((A=h.suspendedLanes)&T)!==T){_r(),h.pingedLanes|=h.suspendedLanes&A;break}h.timeoutHandle=be(ra.bind(null,h,Fr,Mn),d);break}ra(h,Fr,Mn);break;case 4:if(Wi(h,T),(4194240&T)===T)break;for(d=h.eventTimes,A=-1;0<T;){var V=31-Gn(T);I=1<<V,(V=d[V])>A&&(A=V),T&=~I}if(T=A,10<(T=(120>(T=Lt()-T)?120:480>T?480:1080>T?1080:1920>T?1920:3e3>T?3e3:4320>T?4320:1960*Jo(T/1960))-T)){h.timeoutHandle=be(ra.bind(null,h,Fr,Mn),T);break}ra(h,Fr,Mn);break;default:throw Error(s(329))}}}return yn(h,Lt()),h.callbackNode===_?Lr.bind(null,h):null}function Du(h,d){var _=ws;return h.current.memoizedState.isDehydrated&&(bs(h,d).flags|=256),(h=Nu(h,d))!==2&&(d=Fr,Fr=_,d!==null&&Ou(d)),h}function Ou(h){Fr===null?Fr=h:Fr.push.apply(Fr,h)}function Wi(h,d){for(d&=~ni,d&=~ao,h.suspendedLanes|=d,h.pingedLanes&=~d,h=h.expirationTimes;0<d;){var _=31-Gn(d),T=1<<_;h[_]=-1,d&=~T}}function Ei(h){if(6&at)throw Error(s(327));Ai();var d=tu(h,0);if(!(1&d))return yn(h,Lt()),null;var _=Nu(h,d);if(h.tag!==0&&_===2){var T=ru(h);T!==0&&(d=T,_=Du(h,T))}if(_===1)throw _=so,bs(h,0),Wi(h,d),yn(h,Lt()),_;if(_===6)throw Error(s(345));return h.finishedWork=h.current.alternate,h.finishedLanes=d,ra(h,Fr,Mn),yn(h,Lt()),null}function Dn(h){bi!==null&&bi.tag===0&&!(6&at)&&Ai();var d=at;at|=1;var _=Pt.transition,T=pt;try{if(Pt.transition=null,pt=1,h)return h()}finally{pt=T,Pt.transition=_,!(6&(at=d))&&Cn()}}function ta(){cr=xs.current,yt(xs)}function bs(h,d){h.finishedWork=null,h.finishedLanes=0;var _=h.timeoutHandle;if(_!==ke&&(h.timeoutHandle=ke,Pe(_)),er!==null)for(_=er.return;_!==null;){var T=_;switch(Nh(T),T.tag){case 1:(T=T.type.childContextTypes)!=null&&Lo();break;case 3:Ho(),yt(un),yt(Vr),In();break;case 5:Ad(T);break;case 4:Ho();break;case 13:case 19:yt(Yt);break;case 10:hu(T.type._context);break;case 22:case 23:ta()}_=_.return}if(hr=h,er=h=Ts(h.current,null),zt=cr=d,dr=0,so=null,ni=ao=oo=0,Fr=ws=null,Ys!==null){for(d=0;d<Ys.length;d++)if((T=(_=Ys[d]).interleaved)!==null){_.interleaved=null;var A=T.next,I=_.pending;if(I!==null){var V=I.next;I.next=A,T.next=V}_.pending=T}Ys=null}return h}function uc(h,d){for(;;){var _=er;try{if(_d(),Zs.current=Ja,$h){for(var T=jt.memoizedState;T!==null;){var A=T.queue;A!==null&&(A.pending=null),T=T.next}$h=!1}if(Js=0,ar=yr=jt=null,gu=!1,ji=0,ac.current=null,_===null||_.return===null){dr=1,so=d,er=null;break}e:{var I=h,V=_.return,K=_,se=d;if(d=zt,K.flags|=32768,se!==null&&typeof se=="object"&&typeof se.then=="function"){var pe=se,ve=K,Me=ve.tag;if(!(1&ve.mode)&&(Me===0||Me===11||Me===15)){var ge=ve.alternate;ge?(ve.updateQueue=ge.updateQueue,ve.memoizedState=ge.memoizedState,ve.lanes=ge.lanes):(ve.updateQueue=null,ve.memoizedState=null)}var Ce=$o(V);if(Ce!==null){Ce.flags&=-257,Si(Ce,V,K,0,d),1&Ce.mode&&Vd(I,pe,d),se=pe;var Ge=(d=Ce).updateQueue;if(Ge===null){var ut=new Set;ut.add(se),d.updateQueue=ut}else Ge.add(se);break e}if(!(1&d)){Vd(I,pe,d),hc();break e}se=Error(s(426))}else if(Mt&&1&K.mode){var _e=$o(V);if(_e!==null){!(65536&_e.flags)&&(_e.flags|=256),Si(_e,V,K,0,d),lu(el(se,K));break e}}I=se=el(se,K),dr!==4&&(dr=2),ws===null?ws=[I]:ws.push(I),I=V;do{switch(I.tag){case 3:I.flags|=65536,d&=-d,I.lanes|=d,kp(I,rc(0,se,d));break e;case 1:K=se;var ee=I.type,ce=I.stateNode;if(!(128&I.flags)&&(typeof ee.getDerivedStateFromError=="function"||ce!==null&&typeof ce.componentDidCatch=="function"&&($i===null||!$i.has(ce)))){I.flags|=65536,d&=-d,I.lanes|=d,kp(I,ms(I,K,d));break e}}I=I.return}while(I!==null)}qd(_)}catch(Ee){d=Ee,er===_&&_!==null&&(er=_=_.return);continue}break}}function Xd(){var h=ul.current;return ul.current=Ja,h===null?Ja:h}function hc(){dr!==0&&dr!==3&&dr!==2||(dr=4),hr===null||!(268435455&oo)&&!(268435455&ao)||Wi(hr,zt)}function Nu(h,d){var _=at;at|=2;var T=Xd();for(hr===h&&zt===d||(Mn=null,bs(h,d));;)try{Up();break}catch(A){uc(h,A)}if(_d(),at=_,ul.current=T,er!==null)throw Error(s(261));return hr=null,zt=0,dr}function Up(){for(;er!==null;)Yd(er)}function zp(){for(;er!==null&&!iu();)Yd(er)}function Yd(h){var d=lc(h.alternate,h,cr);h.memoizedProps=h.pendingProps,d===null?qd(h):er=d,ac.current=null}function qd(h){var d=h;do{var _=d.alternate;if(h=d.return,(32768&d.flags)==0){if((_=sl(_,d,cr))!==null)return void(er=_)}else{if((_=ic(_,d))!==null)return _.flags&=32767,void(er=_);if(h===null)return dr=6,void(er=null);h.flags|=32768,h.subtreeFlags=0,h.deletions=null}if((d=d.sibling)!==null)return void(er=d);er=d=h}while(d!==null);dr===0&&(dr=5)}function ra(h,d,_){var T=pt,A=Pt.transition;try{Pt.transition=null,pt=1,function(I,V,K,se){do Ai();while(bi!==null);if(6&at)throw Error(s(327));K=I.finishedWork;var pe=I.finishedLanes;if(K===null)return null;if(I.finishedWork=null,I.finishedLanes=0,K===I.current)throw Error(s(177));I.callbackNode=null,I.callbackPriority=0;var ve=K.lanes|K.childLanes;if(function(Ce,Ge){var ut=Ce.pendingLanes&~Ge;Ce.pendingLanes=Ge,Ce.suspendedLanes=0,Ce.pingedLanes=0,Ce.expiredLanes&=Ge,Ce.mutableReadLanes&=Ge,Ce.entangledLanes&=Ge,Ge=Ce.entanglements;var _e=Ce.eventTimes;for(Ce=Ce.expirationTimes;0<ut;){var ee=31-Gn(ut),ce=1<<ee;Ge[ee]=0,_e[ee]=-1,Ce[ee]=-1,ut&=~ce}}(I,ve),I===hr&&(er=hr=null,zt=0),!(2064&K.subtreeFlags)&&!(2064&K.flags)||cl||(cl=!0,Jd(Oa,function(){return Ai(),null})),ve=(15990&K.flags)!=0,(15990&K.subtreeFlags)!=0||ve){ve=Pt.transition,Pt.transition=null;var Me=pt;pt=1;var ge=at;at|=4,ac.current=null,function(Ce,Ge){for($(Ce.containerInfo),Fe=Ge;Fe!==null;)if(Ge=(Ce=Fe).child,(1028&Ce.subtreeFlags)!=0&&Ge!==null)Ge.return=Ce,Fe=Ge;else for(;Fe!==null;){Ce=Fe;try{var ut=Ce.alternate;if(1024&Ce.flags)switch(Ce.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(ut!==null){var _e=ut.memoizedProps,ee=ut.memoizedState,ce=Ce.stateNode,Ee=ce.getSnapshotBeforeUpdate(Ce.elementType===Ce.type?_e:xi(Ce.type,_e),ee);ce.__reactInternalSnapshotBeforeUpdate=Ee}break;case 3:De&&Zr(Ce.stateNode.containerInfo);break;default:throw Error(s(163))}}catch(Ze){It(Ce,Ce.return,Ze)}if((Ge=Ce.sibling)!==null){Ge.return=Ce.return,Fe=Ge;break}Fe=Ce.return}ut=io,io=!1}(I,K),Yo(K,I),B(I.containerInfo),I.current=K,my(K),su(),at=ge,pt=Me,Pt.transition=ve}else I.current=K;if(cl&&(cl=!1,bi=I,dl=pe),ve=I.pendingLanes,ve===0&&($i=null),function(Ce){if(An&&typeof An.onCommitFiberRoot=="function")try{An.onCommitFiberRoot(ou,Ce,void 0,(128&Ce.current.flags)==128)}catch{}}(K.stateNode),yn(I,Lt()),V!==null)for(se=I.onRecoverableError,K=0;K<V.length;K++)pe=V[K],se(pe.value,{componentStack:pe.stack,digest:pe.digest});if(Nt)throw Nt=!1,I=hl,hl=null,I;1&dl&&I.tag!==0&&Ai(),ve=I.pendingLanes,1&ve?I===Vt?Ti++:(Ti=0,Vt=I):Ti=0,Cn()}(h,d,_,T)}finally{Pt.transition=A,pt=T}return null}function Ai(){if(bi!==null){var h=us(dl),d=Pt.transition,_=pt;try{if(Pt.transition=null,pt=16>h?16:h,bi===null)var T=!1;else{if(h=bi,bi=null,dl=0,(6&at)!=0)throw Error(s(331));var A=at;for(at|=4,Fe=h.current;Fe!==null;){var I=Fe,V=I.child;if(16&Fe.flags){var K=I.deletions;if(K!==null){for(var se=0;se<K.length;se++){var pe=K[se];for(Fe=pe;Fe!==null;){var ve=Fe;switch(ve.tag){case 0:case 11:case 15:ol(8,ve,I)}var Me=ve.child;if(Me!==null)Me.return=ve,Fe=Me;else for(;Fe!==null;){var ge=(ve=Fe).sibling,Ce=ve.return;if(pn(ve),ve===pe){Fe=null;break}if(ge!==null){ge.return=Ce,Fe=ge;break}Fe=Ce}}}var Ge=I.alternate;if(Ge!==null){var ut=Ge.child;if(ut!==null){Ge.child=null;do{var _e=ut.sibling;ut.sibling=null,ut=_e}while(ut!==null)}}Fe=I}}if(2064&I.subtreeFlags&&V!==null)V.return=I,Fe=V;else e:for(;Fe!==null;){if(2048&(I=Fe).flags)switch(I.tag){case 0:case 11:case 15:ol(9,I,I.return)}var ee=I.sibling;if(ee!==null){ee.return=I.return,Fe=ee;break e}Fe=I.return}}var ce=h.current;for(Fe=ce;Fe!==null;){var Ee=(V=Fe).child;if(2064&V.subtreeFlags&&Ee!==null)Ee.return=V,Fe=Ee;else e:for(V=ce;Fe!==null;){if(2048&(K=Fe).flags)try{switch(K.tag){case 0:case 11:case 15:al(9,K)}}catch(wt){It(K,K.return,wt)}if(K===V){Fe=null;break e}var Ze=K.sibling;if(Ze!==null){Ze.return=K.return,Fe=Ze;break e}Fe=K.return}}if(at=A,Cn(),An&&typeof An.onPostCommitFiberRoot=="function")try{An.onPostCommitFiberRoot(ou,h)}catch{}T=!0}return T}finally{pt=_,Pt.transition=d}}return!1}function Kd(h,d,_){h=Gi(h,d=rc(0,d=el(_,d),1),1),d=_r(),h!==null&&(Da(h,1,d),yn(h,d))}function It(h,d,_){if(h.tag===3)Kd(h,h,_);else for(;d!==null;){if(d.tag===3){Kd(d,h,_);break}if(d.tag===1){var T=d.stateNode;if(typeof d.type.getDerivedStateFromError=="function"||typeof T.componentDidCatch=="function"&&($i===null||!$i.has(T))){d=Gi(d,h=ms(d,h=el(_,h),1),1),h=_r(),d!==null&&(Da(d,1,h),yn(d,h));break}}d=d.return}}function cc(h,d,_){var T=h.pingCache;T!==null&&T.delete(d),d=_r(),h.pingedLanes|=h.suspendedLanes&_,hr===h&&(zt&_)===_&&(dr===4||dr===3&&(130023424&zt)===zt&&500>Lt()-Ss?bs(h,0):ni|=_),yn(h,d)}function Qd(h,d){d===0&&(1&h.mode?(d=eu,!(130023424&(eu<<=1))&&(eu=4194304)):d=1);var _=_r();(h=Vi(h,d))!==null&&(Da(h,d,_),yn(h,_))}function Zd(h){var d=h.memoizedState,_=0;d!==null&&(_=d.retryLane),Qd(h,_)}function Vp(h,d){var _=0;switch(h.tag){case 13:var T=h.stateNode,A=h.memoizedState;A!==null&&(_=A.retryLane);break;case 19:T=h.stateNode;break;default:throw Error(s(314))}T!==null&&T.delete(d),Qd(h,_)}function Jd(h,d){return zi(h,d)}function Gp(h,d,_,T){this.tag=h,this.key=_,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=d,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=T,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function On(h,d,_,T){return new Gp(h,d,_,T)}function Fu(h){return!(!(h=h.prototype)||!h.isReactComponent)}function Ts(h,d){var _=h.alternate;return _===null?((_=On(h.tag,d,h.key,h.mode)).elementType=h.elementType,_.type=h.type,_.stateNode=h.stateNode,_.alternate=h,h.alternate=_):(_.pendingProps=d,_.type=h.type,_.flags=0,_.subtreeFlags=0,_.deletions=null),_.flags=14680064&h.flags,_.childLanes=h.childLanes,_.lanes=h.lanes,_.child=h.child,_.memoizedProps=h.memoizedProps,_.memoizedState=h.memoizedState,_.updateQueue=h.updateQueue,d=h.dependencies,_.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},_.sibling=h.sibling,_.index=h.index,_.ref=h.ref,_}function Lu(h,d,_,T,A,I){var V=2;if(T=h,typeof h=="function")Fu(h)&&(V=1);else if(typeof h=="string")V=5;else e:switch(h){case f:return lo(_.children,A,I,d);case m:V=8,A|=8;break;case g:return(h=On(12,_,d,2|A)).elementType=g,h.lanes=I,h;case b:return(h=On(13,_,d,A)).elementType=b,h.lanes=I,h;case E:return(h=On(19,_,d,A)).elementType=E,h.lanes=I,h;case R:return dc(_,A,I,d);default:if(typeof h=="object"&&h!==null)switch(h.$$typeof){case v:V=10;break e;case x:V=9;break e;case S:V=11;break e;case P:V=14;break e;case k:V=16,T=null;break e}throw Error(s(130,h==null?h:typeof h,""))}return(d=On(V,_,d,A)).elementType=h,d.type=T,d.lanes=I,d}function lo(h,d,_,T){return(h=On(7,h,T,d)).lanes=_,h}function dc(h,d,_,T){return(h=On(22,h,T,d)).elementType=R,h.lanes=_,h.stateNode={isHidden:!1},h}function fc(h,d,_){return(h=On(6,h,null,d)).lanes=_,h}function ef(h,d,_){return(d=On(4,h.children!==null?h.children:[],h.key,d)).lanes=_,d.stateNode={containerInfo:h.containerInfo,pendingChildren:null,implementation:h.implementation},d}function gy(h,d,_,T,A){this.tag=d,this.containerInfo=h,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=ke,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Oh(0),this.expirationTimes=Oh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Oh(0),this.identifierPrefix=T,this.onRecoverableError=A,We&&(this.mutableSourceEagerHydrationData=null)}function tf(h,d,_,T,A,I,V,K,se){return h=new gy(h,d,_,K,se),d===1?(d=1,I===!0&&(d|=8)):d=0,I=On(3,null,null,d),h.current=I,I.stateNode=h,I.memoizedState={element:T,isDehydrated:_,cache:null,transitions:null,pendingSuspenseBoundaries:null},Sd(I),h}function rf(h){if(!h)return Pr;e:{if(G(h=h._reactInternals)!==h||h.tag!==1)throw Error(s(170));var d=h;do{switch(d.tag){case 3:d=d.stateNode.context;break e;case 1:if(Gr(d.type)){d=d.stateNode.__reactInternalMemoizedMergedChildContext;break e}}d=d.return}while(d!==null);throw Error(s(171))}if(h.tag===1){var _=h.type;if(Gr(_))return Tp(h,_,d)}return d}function nf(h){var d=h._reactInternals;if(d===void 0)throw typeof h.render=="function"?Error(s(188)):(h=Object.keys(h).join(","),Error(s(268,h)));return(h=me(d))===null?null:h.stateNode}function Bu(h,d){if((h=h.memoizedState)!==null&&h.dehydrated!==null){var _=h.retryLane;h.retryLane=_!==0&&_<d?_:d}}function pc(h,d){Bu(h,d),(h=h.alternate)&&Bu(h,d)}function yy(h){return(h=me(h))===null?null:h.stateNode}function vy(){return null}return lc=function(h,d,_){if(h!==null)if(h.memoizedProps!==d.pendingProps||un.current)qt=!0;else{if(!(h.lanes&_)&&!(128&d.flags))return qt=!1,function(Me,ge,Ce){switch(ge.tag){case 3:gs(ge),za();break;case 5:Op(ge);break;case 1:Gr(ge.type)&&Mh(ge);break;case 4:Gh(ge,ge.stateNode.containerInfo);break;case 10:Pp(0,ge.type._context,ge.memoizedProps.value);break;case 13:var Ge=ge.memoizedState;if(Ge!==null)return Ge.dehydrated!==null?(kt(Yt,1&Yt.current),ge.flags|=128,null):Ce&ge.child.childLanes?en(Me,ge,Ce):(kt(Yt,1&Yt.current),(Me=qn(Me,ge,Ce))!==null?Me.sibling:null);kt(Yt,1&Yt.current);break;case 19:if(Ge=(Ce&ge.childLanes)!=0,(128&Me.flags)!=0){if(Ge)return jd(Me,ge,Ce);ge.flags|=128}var ut=ge.memoizedState;if(ut!==null&&(ut.rendering=null,ut.tail=null,ut.lastEffect=null),kt(Yt,Yt.current),Ge)break;return null;case 22:case 23:return ge.lanes=0,tl(Me,ge,Ce)}return qn(Me,ge,Ce)}(h,d,_);qt=(131072&h.flags)!=0}else qt=!1,Mt&&1048576&d.flags&&au(d,zo,d.index);switch(d.lanes=0,d.tag){case 2:var T=d.type;Yn(h,d),h=d.pendingProps;var A=ls(d,Vr.current);Ga(d,_),A=Wh(null,d,T,h,A,_);var I=Xa();return d.flags|=1,typeof A=="object"&&A!==null&&typeof A.render=="function"&&A.$$typeof===void 0?(d.tag=1,d.memoizedState=null,d.updateQueue=null,Gr(T)?(I=!0,Mh(d)):I=!1,d.memoizedState=A.state!==null&&A.state!==void 0?A.state:null,Sd(d),A.updater=du,d.stateNode=A,A._reactInternals=d,Ed(d,T,h,_),d=ro(null,d,T,!0,I,_)):(d.tag=0,Mt&&I&&Ba(d),jr(null,d,A,_),d=d.child),d;case 16:T=d.elementType;e:{switch(Yn(h,d),h=d.pendingProps,T=(A=T._init)(T._payload),d.type=T,A=d.tag=function(Me){if(typeof Me=="function")return Fu(Me)?1:0;if(Me!=null){if((Me=Me.$$typeof)===S)return 11;if(Me===P)return 14}return 2}(T),h=xi(T,h),A){case 0:d=rl(null,d,T,h,_);break e;case 1:d=nc(null,d,T,h,_);break e;case 11:d=Fp(null,d,T,h,_);break e;case 14:d=Lp(null,d,T,xi(T.type,h),_);break e}throw Error(s(306,T,""))}return d;case 0:return T=d.type,A=d.pendingProps,rl(h,d,T,A=d.elementType===T?A:xi(T,A),_);case 1:return T=d.type,A=d.pendingProps,nc(h,d,T,A=d.elementType===T?A:xi(T,A),_);case 3:e:{if(gs(d),h===null)throw Error(s(387));T=d.pendingProps,A=(I=d.memoizedState).element,Ip(h,d),cu(d,T,null,_);var V=d.memoizedState;if(T=V.element,We&&I.isDehydrated){if(I={element:T,isDehydrated:!1,cache:V.cache,pendingSuspenseBoundaries:V.pendingSuspenseBoundaries,transitions:V.transitions},d.updateQueue.baseState=I,d.memoizedState=I,256&d.flags){d=Ot(h,d,T,_,A=el(Error(s(423)),d));break e}if(T!==A){d=Ot(h,d,T,_,A=el(Error(s(424)),d));break e}for(We&&(Or=Wl(d.stateNode.containerInfo),Bt=d,Mt=!0,_i=null,ds=!1),_=pu(d,null,T,_),d.child=_;_;)_.flags=-3&_.flags|4096,_=_.sibling}else{if(za(),T===A){d=qn(h,d,_);break e}jr(h,d,T,_)}d=d.child}return d;case 5:return Op(d),h===null&&Ua(d),T=d.type,A=d.pendingProps,I=h!==null?h.memoizedProps:null,V=A.children,de(T,A)?V=null:I!==null&&de(T,I)&&(d.flags|=32),Wo(h,d),jr(h,d,V,_),d.child;case 6:return h===null&&Ua(d),null;case 13:return en(h,d,_);case 4:return Gh(d,d.stateNode.containerInfo),T=d.pendingProps,h===null?d.child=Wa(d,null,T,_):jr(h,d,T,_),d.child;case 11:return T=d.type,A=d.pendingProps,Fp(h,d,T,A=d.elementType===T?A:xi(T,A),_);case 7:return jr(h,d,d.pendingProps,_),d.child;case 8:case 12:return jr(h,d,d.pendingProps.children,_),d.child;case 10:e:{if(T=d.type._context,A=d.pendingProps,I=d.memoizedProps,Pp(0,T,V=A.value),I!==null)if(jn(I.value,V)){if(I.children===A.children&&!un.current){d=qn(h,d,_);break e}}else for((I=d.child)!==null&&(I.return=d);I!==null;){var K=I.dependencies;if(K!==null){V=I.child;for(var se=K.firstContext;se!==null;){if(se.context===T){if(I.tag===1){(se=fs(-1,_&-_)).tag=2;var pe=I.updateQueue;if(pe!==null){var ve=(pe=pe.shared).pending;ve===null?se.next=se:(se.next=ve.next,ve.next=se),pe.pending=se}}I.lanes|=_,(se=I.alternate)!==null&&(se.lanes|=_),xd(I.return,_,d),K.lanes|=_;break}se=se.next}}else if(I.tag===10)V=I.type===d.type?null:I.child;else if(I.tag===18){if((V=I.return)===null)throw Error(s(341));V.lanes|=_,(K=V.alternate)!==null&&(K.lanes|=_),xd(V,_,d),V=I.sibling}else V=I.child;if(V!==null)V.return=I;else for(V=I;V!==null;){if(V===d){V=null;break}if((I=V.sibling)!==null){I.return=V.return,V=I;break}V=V.return}I=V}jr(h,d,A.children,_),d=d.child}return d;case 9:return A=d.type,T=d.pendingProps.children,Ga(d,_),T=T(A=Wn(A)),d.flags|=1,jr(h,d,T,_),d.child;case 14:return A=xi(T=d.type,d.pendingProps),Lp(h,d,T,A=xi(T.type,A),_);case 15:return to(h,d,d.type,d.pendingProps,_);case 17:return T=d.type,A=d.pendingProps,A=d.elementType===T?A:xi(T,A),Yn(h,d),d.tag=1,Gr(T)?(h=!0,Mh(d)):h=!1,Ga(d,_),Mp(d,T,A),Ed(d,T,A,_),ro(null,d,T,!0,h,_);case 19:return jd(h,d,_);case 22:return tl(h,d,_)}throw Error(s(156,d.tag))},e.attemptContinuousHydration=function(h){if(h.tag===13){var d=Vi(h,134217728);d!==null&&$r(d,h,134217728,_r()),pc(h,134217728)}},e.attemptDiscreteHydration=function(h){if(h.tag===13){var d=Vi(h,1);d!==null&&$r(d,h,1,_r()),pc(h,1)}},e.attemptHydrationAtCurrentPriority=function(h){if(h.tag===13){var d=ii(h),_=Vi(h,d);_!==null&&$r(_,h,d,_r()),pc(h,d)}},e.attemptSynchronousHydration=function(h){switch(h.tag){case 3:var d=h.stateNode;if(d.current.memoizedState.isDehydrated){var _=vt(d.pendingLanes);_!==0&&(nu(d,1|_),yn(d,Lt()),!(6&at)&&(ea(),Cn()))}break;case 13:Dn(function(){var T=Vi(h,1);if(T!==null){var A=_r();$r(T,h,1,A)}}),pc(h,1)}},e.batchedUpdates=function(h,d){var _=at;at|=1;try{return h(d)}finally{(at=_)===0&&(ea(),Ws&&Cn())}},e.createComponentSelector=function(h){return{$$typeof:vs,value:h}},e.createContainer=function(h,d,_,T,A,I,V){return tf(h,d,!1,null,0,T,0,I,V)},e.createHasPseudoClassSelector=function(h){return{$$typeof:Pu,value:h}},e.createHydrationContainer=function(h,d,_,T,A,I,V,K,se){return(h=tf(_,T,!0,h,0,I,0,K,se)).context=rf(null),_=h.current,(I=fs(T=_r(),A=ii(_))).callback=d??null,Gi(_,I,A),h.current.lanes=A,Da(h,A,T),yn(h,T),h},e.createPortal=function(h,d,_){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:T==null?null:""+T,children:h,containerInfo:d,implementation:_}},e.createRoleSelector=function(h){return{$$typeof:qo,value:h}},e.createTestNameSelector=function(h){return{$$typeof:Ko,value:h}},e.createTextSelector=function(h){return{$$typeof:_s,value:h}},e.deferredUpdates=function(h){var d=pt,_=Pt.transition;try{return Pt.transition=null,pt=16,h()}finally{pt=d,Pt.transition=_}},e.discreteUpdates=function(h,d,_,T,A){var I=pt,V=Pt.transition;try{return Pt.transition=null,pt=1,h(d,_,T,A)}finally{pt=I,Pt.transition=V,at===0&&ea()}},e.findAllNodes=gn,e.findBoundingRects=function(h,d){if(!Ar)throw Error(s(363));d=gn(h,d),h=[];for(var _=0;_<d.length;_++)h.push(Bi(d[_]));for(d=h.length-1;0<d;d--)for(var T=(_=h[d]).x,A=T+_.width,I=_.y,V=I+_.height,K=d-1;0<=K;K--)if(d!==K){var se=h[K],pe=se.x,ve=pe+se.width,Me=se.y,ge=Me+se.height;if(T>=pe&&I>=Me&&A<=ve&&V<=ge){h.splice(d,1);break}if(!(T!==pe||_.width!==se.width||ge<I||Me>V)){Me>I&&(se.height+=Me-I,se.y=I),ge<V&&(se.height=V-Me),h.splice(d,1);break}if(!(I!==Me||_.height!==se.height||ve<T||pe>A)){pe>T&&(se.width+=pe-T,se.x=T),ve<A&&(se.width=A-pe),h.splice(d,1);break}}return h},e.findHostInstance=nf,e.findHostInstanceWithNoPortals=function(h){return(h=(h=re(h))!==null?Z(h):null)===null?null:h.stateNode},e.findHostInstanceWithWarning=function(h){return nf(h)},e.flushControlled=function(h){var d=at;at|=1;var _=Pt.transition,T=pt;try{Pt.transition=null,pt=1,h()}finally{pt=T,Pt.transition=_,(at=d)===0&&(ea(),Cn())}},e.flushPassiveEffects=Ai,e.flushSync=Dn,e.focusWithin=function(h,d){if(!Ar)throw Error(s(363));for(d=Zo(h=Ru(h),d),d=Array.from(d),h=0;h<d.length;){var _=d[h++];if(!En(_)){if(_.tag===5&&Th(_.stateNode))return!0;for(_=_.child;_!==null;)d.push(_),_=_.sibling}}return!1},e.getCurrentUpdatePriority=function(){return pt},e.getFindAllNodesFailureDescription=function(h,d){if(!Ar)throw Error(s(363));var _=0,T=[];h=[Ru(h),0];for(var A=0;A<h.length;){var I=h[A++],V=h[A++],K=d[V];if((I.tag!==5||!En(I))&&(Iu(I,K)&&(T.push(ku(K)),++V>_&&(_=V)),V<d.length))for(I=I.child;I!==null;)h.push(I,V),I=I.sibling}if(_<d.length){for(h=[];_<d.length;_++)h.push(ku(d[_]));return`findAllNodes was able to match part of the selector:
  `+T.join(" > ")+`

No matching component was found for:
  `+h.join(" > ")}return null},e.getPublicRootInstance=function(h){return(h=h.current).child?h.child.tag===5?U(h.child.stateNode):h.child.stateNode:null},e.injectIntoDevTools=function(h){if(h={bundleType:h.bundleType,version:h.version,rendererPackageName:h.rendererPackageName,rendererConfig:h.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:a.ReactCurrentDispatcher,findHostInstanceByFiber:yy,findFiberByHostInstance:h.findFiberByHostInstance||vy,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")h=!1;else{var d=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(d.isDisabled||!d.supportsFiber)h=!0;else{try{ou=d.inject(h),An=d}catch{}h=!!d.checkDCE}}return h},e.isAlreadyRendering=function(){return!1},e.observeVisibleRects=function(h,d,_,T){if(!Ar)throw Error(s(363));h=gn(h,d);var A=Ea(h,_,T).disconnect;return{disconnect:function(){A()}}},e.registerMutableSourceForHydration=function(h,d){var _=d._getVersion;_=_(d._source),h.mutableSourceEagerHydrationData==null?h.mutableSourceEagerHydrationData=[d,_]:h.mutableSourceEagerHydrationData.push(d,_)},e.runWithPriority=function(h,d){var _=pt;try{return pt=h,d()}finally{pt=_}},e.shouldError=function(){return null},e.shouldSuspend=function(){return!1},e.updateContainer=function(h,d,_,T){var A=d.current,I=_r(),V=ii(A);return _=rf(_),d.context===null?d.context=_:d.pendingContext=_,(d=fs(I,V)).payload={element:h},(T=T===void 0?null:T)!==null&&(d.callback=T),(h=Gi(A,d,V))!==null&&($r(h,A,V,I),Ks(h,A,V)),V},e}),Lb}({get exports(){return D_},set exports(r){D_=r}}).exports=SL();var bL=qF(D_),AC={name:"root",dependencies:{"react-dom":"^18.0.0"}},N_={},Nm={get exports(){return N_},set exports(r){N_=r}};(function(){var r,e,t,n,i,s;typeof performance<"u"&&performance!==null&&performance.now?Nm.exports=function(){return performance.now()}:typeof process<"u"&&process!==null&&process.hrtime?(Nm.exports=function(){return(r()-i)/1e6},e=process.hrtime,n=(r=function(){var a;return 1e9*(a=e())[0]+a[1]})(),s=1e9*process.uptime(),i=n-s):Date.now?(Nm.exports=function(){return Date.now()-t},t=Date.now()):(Nm.exports=function(){return new Date().getTime()-t},t=new Date().getTime())}).call(YF);var zb,Mc={},Xu={};({get exports(){return Mc},set exports(r){Mc=r}}).exports=(zb||(zb=1,Xu.ConcurrentRoot=1,Xu.ContinuousEventPriority=4,Xu.DefaultEventPriority=16,Xu.DiscreteEventPriority=1,Xu.IdleEventPriority=536870912,Xu.LegacyRoot=0),Xu);var TL={};function E0(r,e){r.addChild&&(r.addChild(e),typeof e.didMount=="function"&&e.didMount(e,r))}function CC(r,e){var t,n,i;(t=r.willUnmount)===null||t===void 0||t.call(r,r,e),((n=r.config)===null||n===void 0?void 0:n.destroyChildren)!==!1&&(i=r.children)!==null&&i!==void 0&&i.length&&xa(r.children).forEach(function(s){CC(s,r)})}function Vb(r,e){var t;CC(e,r),r.removeChild(e);var n=(t=e.config)!==null&&t!==void 0?t:{},i=n.destroy,s=i===void 0||i,a=n.destroyChildren,u=a===void 0||a,c=n.destroyTexture,f=c!==void 0&&c,m=n.destroyBaseTexture,g=m!==void 0&&m;s&&e.destroy({children:u,texture:f,baseTexture:g})}function Gb(r,e,t){var n,i;gr(e!==t,"Cannot insert node before itself"),r.children.indexOf(e)!==-1&&r.removeChild(e);var s=r.getChildIndex(t);r.addChildAt(e,s),(n=r.__reactpixi)===null||n===void 0||(i=n.root)===null||i===void 0||i.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"insertBefore"})}var jb=null,Ns=bL({getRootHostContext:function(){return TL},getChildHostContext:function(r){return r},getChildHostContextForEventComponent:function(r){return r},getPublicInstance:function(r){return r},getCurrentEventPriority:function(){return function(){var r,e;if(typeof window>"u")return Mc.DefaultEventPriority;switch((r=window)===null||r===void 0||(e=r.event)===null||e===void 0?void 0:e.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return Mc.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return Mc.ContinuousEventPriority;default:return Mc.DefaultEventPriority}}()},prepareForCommit:function(){return null},resetAfterCommit:function(){},createInstance:function(r){var e,t,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,s=vL[r];if(typeof s=="function"&&(e=s(i,n)),!e){var a=EC[r];a&&((e=a.create(n,{root:i})).didMount=a.didMount?a.didMount.bind(e):void 0,e.willUnmount=a.willUnmount?a.willUnmount.bind(e):void 0,e.applyProps=a.applyProps?a.applyProps.bind(e):void 0,e.config=a.config)}return e&&(e.__reactpixi={root:i},(typeof((t=e)===null||t===void 0?void 0:t.applyProps)=="function"?e.applyProps:Ro)(e,{},n)),e},hideInstance:function(r){r.visible=!1},unhideInstance:function(r,e){var t=e==null||!e.hasOwnProperty("visible")||e.visible;r.visible=t},finalizeInitialChildren:function(r,e,t){return!1},prepareUpdate:function(r,e,t,n,i,s){return jb=function(a,u,c,f){var m=null;for(var g in c)!f.hasOwnProperty(g)&&c.hasOwnProperty(g)&&c[g]!==null&&(g===k_||(m||(m=[]),m.push(g,null)));for(var v in f){var x=f[v],S=c!==null?c[v]:void 0;!f.hasOwnProperty(v)||x===S||x===null&&S===null||v===k_||(m||(m=[]),m.push(v,x))}return m}(0,0,t,n)},shouldSetTextContent:function(r,e){return!1},shouldDeprioritizeSubtree:function(r,e){var t=e.alpha===void 0||e.alpha>0,n=e.renderable===void 0||e.renderable===!0,i=e.visible===void 0||e.visible===!0;return!(t&&n&&i)},createTextInstance:function(r,e,t){gr(!1,'Error trying to add text node "'.concat(r,'"'),"text strings as children of a Pixi component is not supported. To add some text, use &lt;Text text={string} /&gt;")},unhideTextInstance:function(r,e){},mountEventComponent:function(){},updateEventComponent:function(){},handleEventTarget:function(){},scheduleTimeout:setTimeout,cancelTimeout:clearTimeout,noTimeout:-1,warnsIfNotActing:!1,now:N_,isPrimaryRenderer:!1,supportsMutation:!0,supportsPersistence:!1,supportsHydration:!1,supportsMicrotasks:!0,scheduleMicrotask:queueMicrotask,appendInitialChild:function(){for(var r,e,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];var s=E0.apply(null,n);return(r=n[0].__reactpixi)===null||r===void 0||(e=r.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"appendInitialChild"}),s},appendChild:function(){for(var r,e,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];var s=E0.apply(null,n);return(r=n[0].__reactpixi)===null||r===void 0||(e=r.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"appendChild"}),s},appendChildToContainer:function(){for(var r,e,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];var s=E0.apply(null,n);return(r=n[0].__reactpixi)===null||r===void 0||(e=r.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"appendChildToContainer"}),s},removeChild:function(){for(var r,e,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];var s=Vb.apply(null,n);return(r=n[0].__reactpixi)===null||r===void 0||(e=r.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"removeChild"}),s},removeChildFromContainer:function(){for(var r,e,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];var s=Vb.apply(null,n);return(r=n[0].__reactpixi)===null||r===void 0||(e=r.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"removeChildFromContainer"}),s},insertBefore:Gb,insertInContainerBefore:function(){for(var r,e,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];var s=Gb.apply(null,n);return(r=n[0].__reactpixi)===null||r===void 0||(e=r.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"insertInContainerBefore"}),s},commitUpdate:function(r,e,t,n,i){var s,a,u=r&&r.applyProps;typeof u!="function"&&(u=Ro),(u(r,n,i)||jb)&&((s=r.__reactpixi)===null||s===void 0||(a=s.root)===null||a===void 0||a.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"commitUpdate"}))},commitMount:function(r,e,t,n,i){},commitTextUpdate:function(r,e,t){},resetTextContent:function(r){},clearContainer:function(r){},getFundamentalComponentInstance:function(r){throw new Error("Not yet implemented.")},mountFundamentalComponent:function(r){throw new Error("Not yet implemented.")},shouldUpdateFundamentalComponent:function(r){throw new Error("Not yet implemented.")},unmountFundamentalComponent:function(r){throw new Error("Not yet implemented.")},getInstanceFromNode:function(r){throw new Error("Not yet implemented.")},isOpaqueHydratingObject:function(r){throw new Error("Not yet implemented")},makeOpaqueHydratingObject:function(r){throw new Error("Not yet implemented.")},makeClientIdInDEV:function(r){throw new Error("Not yet implemented")},beforeActiveInstanceBlur:function(r){},afterActiveInstanceBlur:function(){},detachDeletedInstance:function(){},preparePortalMount:function(r){}}),EL=AC.dependencies["react-dom"].replace(/[^0-9.]/g,""),AL=AC.name;Ns.injectIntoDevTools({bundleType:0,version:EL,rendererPackageName:AL,findHostInstanceByFiber:Ns.findHostInstance});var kl=new Map;function PC(r){if(gr(Un.prototype.isPrototypeOf(r),"Invalid argument `container`, expected instance of `Container`."),kl.has(r)){var e=kl.get(r).pixiFiberContainer;Ns.updateContainer(null,e,void 0,function(){kl.delete(r)})}}function RC(r){gr(Un.prototype.isPrototypeOf(r),"Invalid argument `container`, expected instance of `Container`.");var e=kl.get(r);if(gr(!e,"createRoot should only be called once"),!e){var t=Ns.createContainer(r);e={pixiFiberContainer:t,reactRoot:{render:function(n){return Ns.updateContainer(n,t,void 0),Ns.getPublicRootInstance(t)},unmount:function(){PC(r),kl.delete(r)}}},kl.set(r,e)}return e.reactRoot}function CL(r,e,t){var n;return console.warn("Pixi React Deprecation Warning: render is deprecated, use createRoot instead"),t!==void 0&&console.warn("Pixi React Deprecation Warning: render callback no longer exists in React 18"),kl.has(e)?n=kl.get(e).reactRoot:n=RC(e),n.render(r)}function PL(r){PC(r)}function Qf(){return Qf=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},Qf.apply(this,arguments)}function RL(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function IL(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,SC(n.key),n)}}function aa(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function Sg(r,e){return Sg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,n){return t.__proto__=n,t},Sg(r,e)}function kL(r,e){if(e&&(Mi(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aa(r)}function bg(r){return bg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},bg(r)}var Jg=ns.createContext(null),IC=Jg.Provider,kC=Jg.Consumer,ML=function(r){var e=ns.forwardRef(function(t,n){return ns.createElement(kC,null,function(i){return ns.createElement(r,Qf({},t,{ref:n,app:i}))})});return e.displayName="withPIXIApp(".concat(r.displayName||r.name,")"),e};function DL(r){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,n=bg(r);if(e){var i=bg(this).constructor;t=Reflect.construct(n,arguments,i)}else t=n.apply(this,arguments);return kL(this,t)}}function Hb(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function Fm(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Hb(Object(t),!0).forEach(function(n){br(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):Hb(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var $b=function(){},MC={width:ot.number,height:ot.number,onMount:ot.func,onUnmount:ot.func,raf:ot.bool,renderOnComponentChange:ot.bool,children:ot.node,options:ot.shape({autoStart:ot.bool,width:ot.number,height:ot.number,useContextAlpha:ot.bool,backgroundAlpha:ot.number,autoDensity:ot.bool,antialias:ot.bool,preserveDrawingBuffer:ot.bool,resolution:ot.number,forceCanvas:ot.bool,backgroundColor:ot.number,clearBeforeRender:ot.bool,powerPreference:ot.string,sharedTicker:ot.bool,sharedLoader:ot.bool,resizeTo:function(r,e){var t=r[e];t&&gr(t===window||t instanceof HTMLElement,"Invalid prop `resizeTo` of type ".concat(Mi(t),", expect `window` or an `HTMLElement`."))},view:function(r,e,t){var n=r[e];n&&gr(n instanceof HTMLCanvasElement,"Invalid prop `view` of type ".concat(Mi(n),", supplied to ").concat(t,", expected `<canvas> Element`"))}})},OL={width:800,height:600,onMount:$b,onUnmount:$b,raf:!0,renderOnComponentChange:!0},F_=function(r){(function(s,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(a&&a.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),Object.defineProperty(s,"prototype",{writable:!1}),a&&Sg(s,a)})(i,ns.Component);var e,t,n=DL(i);function i(){var s;RL(this,i);for(var a=arguments.length,u=new Array(a),c=0;c<a;c++)u[c]=arguments[c];return br(aa(s=n.call.apply(n,[this].concat(u))),"_canvas",null),br(aa(s),"_mediaQuery",null),br(aa(s),"_ticker",null),br(aa(s),"_needsUpdate",!0),br(aa(s),"app",null),br(aa(s),"updateSize",function(){var f=s.props,m=f.width,g=f.height,v=f.options;v!=null&&v.resolution||(s.app.renderer.resolution=window.devicePixelRatio,s.resetInteractionManager()),s.app.renderer.resize(m,g)}),br(aa(s),"needsRenderUpdate",function(){s._needsUpdate=!0}),br(aa(s),"renderStage",function(){var f=s.props,m=f.renderOnComponentChange;!f.raf&&m&&s._needsUpdate&&(s._needsUpdate=!1,s.app.renderer.render(s.app.stage))}),s}return e=i,(t=[{key:"componentDidMount",value:function(){var s=this.props,a=s.onMount,u=s.width,c=s.height,f=s.options,m=s.raf,g=s.renderOnComponentChange;this.app=new Yg(Fm(Fm({width:u,height:c,view:this._canvas},f),{},{autoDensity:(f==null?void 0:f.autoDensity)!==!1})),this.app.ticker.autoStart=!1,this.app.ticker[m?"start":"stop"](),this.app.stage.__reactpixi={root:this.app.stage},this.mountNode=Ns.createContainer(this.app.stage),Ns.updateContainer(this.getChildren(),this.mountNode,this),a(this.app),f!=null&&f.autoDensity&&window.matchMedia&&(f==null?void 0:f.resolution)===void 0&&(this._mediaQuery=window.matchMedia("(-webkit-min-device-pixel-ratio: 1.3), (min-resolution: 120dpi)"),this._mediaQuery.addListener(this.updateSize)),g&&!m&&(this._ticker=new qr,this._ticker.autoStart=!0,this._ticker.add(this.renderStage),this.app.stage.on("__REACT_PIXI_REQUEST_RENDER__",this.needsRenderUpdate)),this.updateSize(),this.renderStage()}},{key:"componentDidUpdate",value:function(s,a,u){var c,f=this.props,m=f.width,g=f.height,v=f.raf,x=f.renderOnComponentChange,S=f.options;(S==null?void 0:S.resolution)!==void 0&&(s==null?void 0:s.options.resolution)!==(S==null?void 0:S.resolution)&&(this.app.renderer.resolution=S.resolution,this.resetInteractionManager()),s.height===g&&s.width===m&&((c=s.options)===null||c===void 0?void 0:c.resolution)===(S==null?void 0:S.resolution)||this.updateSize(),s.raf!==v&&this.app.ticker[v?"start":"stop"](),Ns.updateContainer(this.getChildren(),this.mountNode,this),s.width===m&&s.height===g&&s.raf===v&&s.renderOnComponentChange===x&&s.options===S||(this._needsUpdate=!0,this.renderStage())}},{key:"resetInteractionManager",value:function(){var s=this.app.renderer.plugins.interaction;s!=null&&s.resolution&&(s.resolution=this.app.renderer.resolution)}},{key:"getChildren",value:function(){var s=this.props.children;return ns.createElement(IC,{value:this.app},s)}},{key:"componentDidCatch",value:function(s,a){console.error("Error occurred in `Stage`."),console.error(s),console.error(a)}},{key:"componentWillUnmount",value:function(){this.props.onUnmount(this.app),this._ticker&&(this._ticker.remove(this.renderStage),this._ticker.destroy()),this.app.stage.off("__REACT_PIXI_REQUEST_RENDER__",this.needsRenderUpdate),Ns.updateContainer(null,this.mountNode,this),this._mediaQuery&&(this._mediaQuery.removeListener(this.updateSize),this._mediaQuery=null),this.app.destroy()}},{key:"render",value:function(){var s,a,u=this,c=this.props.options;return c&&c.view?(gr(c.view instanceof HTMLCanvasElement,"options.view needs to be a `HTMLCanvasElement`"),null):ns.createElement("canvas",Qf({},(s=this.props,a=[].concat(xa(Object.keys(MC)),xa(Object.keys(M_))),Object.keys(s).filter(function(f){return!a.includes(f)}).reduce(function(f,m){return Fm(Fm({},f),{},br({},m,s[m]))},{})),{ref:function(f){return u._canvas=f}}))}}])&&IL(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),i}();F_.propTypes=MC,F_.defaultProps=OL;var NL=F_;function DC(){var r=te.useContext(Jg);return gr(r instanceof Yg,"No Context found with `%s`. Make sure to wrap component with `%s`","Application","AppProvider"),r}function FL(r){var e=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],t=DC();gr(typeof r=="function","`useTick` needs a callback function."),gr(t instanceof Yg,"No Context found with `%s`. Make sure to wrap component with `%s`","Application","AppProvider");var n=te.useRef(null);te.useEffect(function(){n.current=r},[r]),te.useEffect(function(){if(e){var i=function(s){return n.current.apply(t.ticker,[s,t.ticker])};return t.ticker.add(i),function(){t.ticker&&t.ticker.remove(i)}}},[e])}function LL(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function L_(r,e,t){return L_=LL()?Reflect.construct.bind():function(n,i,s){var a=[null];a.push.apply(a,i);var u=new(Function.bind.apply(n,a));return s&&Sg(u,s.prototype),u},L_.apply(null,arguments)}var BL=["children","apply"];function Wb(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function Lm(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Wb(Object(t),!0).forEach(function(n){br(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):Wb(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var UL=function(r,e){gr(Mi(e)==="object","Second argument needs to be an indexed object with { prop: Filter }");var t=Object.keys(e),n=function(i){var s=i.children,a=i.apply,u=jl(i,BL),c=te.useRef(te.useMemo(function(){return t.map(function(g){var v,x=(u==null||(v=u[g])===null||v===void 0?void 0:v.construct)||[];return L_(e[g],xa(x))})},[t])),f=te.useMemo(function(){return t.reduce(function(g,v,x){return Lm(Lm({},g),{},br({},v,c.current[x]))},{})},[t]),m=te.useMemo(function(){return Object.keys(u).filter(TC(bC(t))).reduce(function(g,v){return Lm(Lm({},g),{},br({},v,u[v]))},{})},[u,t]);return t.forEach(function(g,v){return Object.assign(c.current[v],u[g])}),a&&function(){for(var g=arguments.length,v=new Array(g),x=0;x<g;x++)v[x]=arguments[x];return v.every(function(S){return typeof S=="function"})}(a)&&a.call(r,f),ns.createElement(r,Qf({},m,{filters:c.current}),s)};return n.displayName="FilterWrapper",n.propTypes={children:ot.node,apply:ot.func},n},zL=pi.BitmapText,VL=pi.Container,GL=pi.Graphics,jL=pi.NineSlicePlane,HL=pi.ParticleContainer,$L=pi.Sprite,WL=pi.AnimatedSprite,XL=pi.Text,YL=pi.TilingSprite,qL=pi.SimpleMesh,KL=pi.SimpleRope;const QL=Object.freeze(Object.defineProperty({__proto__:null,AnimatedSprite:WL,AppConsumer:kC,AppContext:Jg,AppProvider:IC,BitmapText:zL,Container:VL,Graphics:GL,NineSlicePlane:jL,ParticleContainer:HL,PixiComponent:_L,PixiFiber:Ns,SimpleMesh:qL,SimpleRope:KL,Sprite:$L,Stage:NL,TYPES:pi,Text:XL,TilingSprite:YL,applyDefaultProps:Ro,createRoot:RC,eventHandlers:wg,render:CL,unmountComponentAtNode:PL,useApp:DC,useTick:FL,withFilters:UL,withPixiApp:ML},Symbol.toStringTag,{value:"Module"})),ZL=PE(QL);var Xb;function JL(){return Xb||(Xb=1,Bf.exports=ZL),Bf.exports}var on=JL();class n8 extends ns.Component{render(){return fe.jsxs(on.Container,{x:this.props.X,y:this.props.Y,children:[fe.jsx(on.Sprite,{image:"/nikkidp.png",x:this.props.X,y:this.props.Y,anchor:.5,scale:.25,interactive:!0,pointerdown:()=>{console.log("hello"),this.props.setCount0()}}),fe.jsx(on.Text,{text:this.props.count0,anchor:.5,x:this.props.X,y:this.props.Y,style:new _a({align:"center",fill:"0xffffff",fontSize:50,letterSpacing:10,dropShadow:!0,dropShadowColor:"#E72264",dropShadowDistance:6})})]})}}function eB({X:r,Y:e,interactions:t}){const[n,i]=te.useState(!1),[s,a]=te.useState("doorclose.png");return fe.jsx(on.Container,{x:0,y:0,children:fe.jsx(on.Sprite,{image:s,x:r,y:e,anchor:.5,scale:1,interactive:!0,pointerdown:()=>{i(!n),n?a("doorclose.png"):(a("dooropen.png"),++t.doorClicks)}})})}function la(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function OC(r,e){r.prototype=Object.create(e.prototype),r.prototype.constructor=r,r.__proto__=e}/*!
 * GSAP 3.12.7
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var Di={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},Kc={duration:.5,overwrite:!1,delay:0},Nx,ln,Qt,bo=1e8,Sn=1/bo,B_=Math.PI*2,tB=B_/4,rB=0,NC=Math.sqrt,nB=Math.cos,iB=Math.sin,Qr=function(e){return typeof e=="string"},mr=function(e){return typeof e=="function"},wa=function(e){return typeof e=="number"},Fx=function(e){return typeof e>"u"},Io=function(e){return typeof e=="object"},ui=function(e){return e!==!1},Lx=function(){return typeof window<"u"},Bm=function(e){return mr(e)||Qr(e)},FC=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},Tn=Array.isArray,U_=/(?:-?\.?\d|\.)+/gi,LC=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,Dc=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,A0=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,BC=/[+-]=-?[.\d]+/,UC=/[^,'"\[\]\s]+/gi,sB=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,nr,go,z_,Bx,Ni={},Tg={},zC,VC=function(e){return(Tg=Qc(e,Ni))&&fi},Ux=function(e,t){return console.warn("Invalid property",e,"set to",t,"Missing plugin? gsap.registerPlugin()")},Zf=function(e,t){return!t&&console.warn(e)},GC=function(e,t){return e&&(Ni[e]=t)&&Tg&&(Tg[e]=t)||Ni},Jf=function(){return 0},oB={suppressEvents:!0,isStart:!0,kill:!1},Jm={suppressEvents:!0,kill:!1},aB={suppressEvents:!0},zx={},Ml=[],V_={},jC,Ri={},C0={},Yb=30,eg=[],Vx="",Gx=function(e){var t=e[0],n,i;if(Io(t)||mr(t)||(e=[e]),!(n=(t._gsap||{}).harness)){for(i=eg.length;i--&&!eg[i].targetTest(t););n=eg[i]}for(i=e.length;i--;)e[i]&&(e[i]._gsap||(e[i]._gsap=new fP(e[i],n)))||e.splice(i,1);return e},ch=function(e){return e._gsap||Gx(rs(e))[0]._gsap},HC=function(e,t,n){return(n=e[t])&&mr(n)?e[t]():Fx(n)&&e.getAttribute&&e.getAttribute(t)||n},hi=function(e,t){return(e=e.split(",")).forEach(t)||e},Tr=function(e){return Math.round(e*1e5)/1e5||0},Mr=function(e){return Math.round(e*1e7)/1e7||0},Wc=function(e,t){var n=t.charAt(0),i=parseFloat(t.substr(2));return e=parseFloat(e),n==="+"?e+i:n==="-"?e-i:n==="*"?e*i:e/i},lB=function(e,t){for(var n=t.length,i=0;e.indexOf(t[i])<0&&++i<n;);return i<n},Eg=function(){var e=Ml.length,t=Ml.slice(0),n,i;for(V_={},Ml.length=0,n=0;n<e;n++)i=t[n],i&&i._lazy&&(i.render(i._lazy[0],i._lazy[1],!0)._lazy=0)},$C=function(e,t,n,i){Ml.length&&!ln&&Eg(),e.render(t,n,ln&&t<0&&(e._initted||e._startAt)),Ml.length&&!ln&&Eg()},WC=function(e){var t=parseFloat(e);return(t||t===0)&&(e+"").match(UC).length<2?t:Qr(e)?e.trim():e},XC=function(e){return e},Fi=function(e,t){for(var n in t)n in e||(e[n]=t[n]);return e},uB=function(e){return function(t,n){for(var i in n)i in t||i==="duration"&&e||i==="ease"||(t[i]=n[i])}},Qc=function(e,t){for(var n in t)e[n]=t[n];return e},qb=function r(e,t){for(var n in t)n!=="__proto__"&&n!=="constructor"&&n!=="prototype"&&(e[n]=Io(t[n])?r(e[n]||(e[n]={}),t[n]):t[n]);return e},Ag=function(e,t){var n={},i;for(i in e)i in t||(n[i]=e[i]);return n},Uf=function(e){var t=e.parent||nr,n=e.keyframes?uB(Tn(e.keyframes)):Fi;if(ui(e.inherit))for(;t;)n(e,t.vars.defaults),t=t.parent||t._dp;return e},hB=function(e,t){for(var n=e.length,i=n===t.length;i&&n--&&e[n]===t[n];);return n<0},YC=function(e,t,n,i,s){var a=e[i],u;if(s)for(u=t[s];a&&a[s]>u;)a=a._prev;return a?(t._next=a._next,a._next=t):(t._next=e[n],e[n]=t),t._next?t._next._prev=t:e[i]=t,t._prev=a,t.parent=t._dp=e,t},ey=function(e,t,n,i){n===void 0&&(n="_first"),i===void 0&&(i="_last");var s=t._prev,a=t._next;s?s._next=a:e[n]===t&&(e[n]=a),a?a._prev=s:e[i]===t&&(e[i]=s),t._next=t._prev=t.parent=null},Ll=function(e,t){e.parent&&(!t||e.parent.autoRemoveChildren)&&e.parent.remove&&e.parent.remove(e),e._act=0},dh=function(e,t){if(e&&(!t||t._end>e._dur||t._start<0))for(var n=e;n;)n._dirty=1,n=n.parent;return e},cB=function(e){for(var t=e.parent;t&&t.parent;)t._dirty=1,t.totalDuration(),t=t.parent;return e},G_=function(e,t,n,i){return e._startAt&&(ln?e._startAt.revert(Jm):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(t,!0,i))},dB=function r(e){return!e||e._ts&&r(e.parent)},Kb=function(e){return e._repeat?Zc(e._tTime,e=e.duration()+e._rDelay)*e:0},Zc=function(e,t){var n=Math.floor(e=Mr(e/t));return e&&n===e?n-1:n},Cg=function(e,t){return(e-t._start)*t._ts+(t._ts>=0?0:t._dirty?t.totalDuration():t._tDur)},ty=function(e){return e._end=Mr(e._start+(e._tDur/Math.abs(e._ts||e._rts||Sn)||0))},ry=function(e,t){var n=e._dp;return n&&n.smoothChildTiming&&e._ts&&(e._start=Mr(n._time-(e._ts>0?t/e._ts:((e._dirty?e.totalDuration():e._tDur)-t)/-e._ts)),ty(e),n._dirty||dh(n,e)),e},qC=function(e,t){var n;if((t._time||!t._dur&&t._initted||t._start<e._time&&(t._dur||!t.add))&&(n=Cg(e.rawTime(),t),(!t._dur||_p(0,t.totalDuration(),n)-t._tTime>Sn)&&t.render(n,!0)),dh(e,t)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(n=e;n._dp;)n.rawTime()>=0&&n.totalTime(n._tTime),n=n._dp;e._zTime=-1e-8}},vo=function(e,t,n,i){return t.parent&&Ll(t),t._start=Mr((wa(n)?n:n||e!==nr?Qi(e,n,t):e._time)+t._delay),t._end=Mr(t._start+(t.totalDuration()/Math.abs(t.timeScale())||0)),YC(e,t,"_first","_last",e._sort?"_start":0),j_(t)||(e._recent=t),i||qC(e,t),e._ts<0&&ry(e,e._tTime),e},KC=function(e,t){return(Ni.ScrollTrigger||Ux("scrollTrigger",t))&&Ni.ScrollTrigger.create(t,e)},QC=function(e,t,n,i,s){if(Hx(e,t,s),!e._initted)return 1;if(!n&&e._pt&&!ln&&(e._dur&&e.vars.lazy!==!1||!e._dur&&e.vars.lazy)&&jC!==Ii.frame)return Ml.push(e),e._lazy=[s,i],1},fB=function r(e){var t=e.parent;return t&&t._ts&&t._initted&&!t._lock&&(t.rawTime()<0||r(t))},j_=function(e){var t=e.data;return t==="isFromStart"||t==="isStart"},pB=function(e,t,n,i){var s=e.ratio,a=t<0||!t&&(!e._start&&fB(e)&&!(!e._initted&&j_(e))||(e._ts<0||e._dp._ts<0)&&!j_(e))?0:1,u=e._rDelay,c=0,f,m,g;if(u&&e._repeat&&(c=_p(0,e._tDur,t),m=Zc(c,u),e._yoyo&&m&1&&(a=1-a),m!==Zc(e._tTime,u)&&(s=1-a,e.vars.repeatRefresh&&e._initted&&e.invalidate())),a!==s||ln||i||e._zTime===Sn||!t&&e._zTime){if(!e._initted&&QC(e,t,i,n,c))return;for(g=e._zTime,e._zTime=t||(n?Sn:0),n||(n=t&&!g),e.ratio=a,e._from&&(a=1-a),e._time=0,e._tTime=c,f=e._pt;f;)f.r(a,f.d),f=f._next;t<0&&G_(e,t,n,!0),e._onUpdate&&!n&&ki(e,"onUpdate"),c&&e._repeat&&!n&&e.parent&&ki(e,"onRepeat"),(t>=e._tDur||t<0)&&e.ratio===a&&(a&&Ll(e,1),!n&&!ln&&(ki(e,a?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=t)},mB=function(e,t,n){var i;if(n>t)for(i=e._first;i&&i._start<=n;){if(i.data==="isPause"&&i._start>t)return i;i=i._next}else for(i=e._last;i&&i._start>=n;){if(i.data==="isPause"&&i._start<t)return i;i=i._prev}},Jc=function(e,t,n,i){var s=e._repeat,a=Mr(t)||0,u=e._tTime/e._tDur;return u&&!i&&(e._time*=a/e._dur),e._dur=a,e._tDur=s?s<0?1e10:Mr(a*(s+1)+e._rDelay*s):a,u>0&&!i&&ry(e,e._tTime=e._tDur*u),e.parent&&ty(e),n||dh(e.parent,e),e},Qb=function(e){return e instanceof Fn?dh(e):Jc(e,e._dur)},gB={_start:0,endTime:Jf,totalDuration:Jf},Qi=function r(e,t,n){var i=e.labels,s=e._recent||gB,a=e.duration()>=bo?s.endTime(!1):e._dur,u,c,f;return Qr(t)&&(isNaN(t)||t in i)?(c=t.charAt(0),f=t.substr(-1)==="%",u=t.indexOf("="),c==="<"||c===">"?(u>=0&&(t=t.replace(/=/,"")),(c==="<"?s._start:s.endTime(s._repeat>=0))+(parseFloat(t.substr(1))||0)*(f?(u<0?s:n).totalDuration()/100:1)):u<0?(t in i||(i[t]=a),i[t]):(c=parseFloat(t.charAt(u-1)+t.substr(u+1)),f&&n&&(c=c/100*(Tn(n)?n[0]:n).totalDuration()),u>1?r(e,t.substr(0,u-1),n)+c:a+c)):t==null?a:+t},zf=function(e,t,n){var i=wa(t[1]),s=(i?2:1)+(e<2?0:1),a=t[s],u,c;if(i&&(a.duration=t[1]),a.parent=n,e){for(u=a,c=n;c&&!("immediateRender"in u);)u=c.vars.defaults||{},c=ui(c.vars.inherit)&&c.parent;a.immediateRender=ui(u.immediateRender),e<2?a.runBackwards=1:a.startAt=t[s-1]}return new Ir(t[0],a,t[s+1])},Hl=function(e,t){return e||e===0?t(e):t},_p=function(e,t,n){return n<e?e:n>t?t:n},wn=function(e,t){return!Qr(e)||!(t=sB.exec(e))?"":t[1]},yB=function(e,t,n){return Hl(n,function(i){return _p(e,t,i)})},H_=[].slice,ZC=function(e,t){return e&&Io(e)&&"length"in e&&(!t&&!e.length||e.length-1 in e&&Io(e[0]))&&!e.nodeType&&e!==go},vB=function(e,t,n){return n===void 0&&(n=[]),e.forEach(function(i){var s;return Qr(i)&&!t||ZC(i,1)?(s=n).push.apply(s,rs(i)):n.push(i)})||n},rs=function(e,t,n){return Qt&&!t&&Qt.selector?Qt.selector(e):Qr(e)&&!n&&(z_||!ed())?H_.call((t||Bx).querySelectorAll(e),0):Tn(e)?vB(e,n):ZC(e)?H_.call(e,0):e?[e]:[]},$_=function(e){return e=rs(e)[0]||Zf("Invalid scope")||{},function(t){var n=e.current||e.nativeElement||e;return rs(t,n.querySelectorAll?n:n===e?Zf("Invalid scope")||Bx.createElement("div"):e)}},JC=function(e){return e.sort(function(){return .5-Math.random()})},eP=function(e){if(mr(e))return e;var t=Io(e)?e:{each:e},n=fh(t.ease),i=t.from||0,s=parseFloat(t.base)||0,a={},u=i>0&&i<1,c=isNaN(i)||u,f=t.axis,m=i,g=i;return Qr(i)?m=g={center:.5,edges:.5,end:1}[i]||0:!u&&c&&(m=i[0],g=i[1]),function(v,x,S){var b=(S||t).length,E=a[b],P,k,R,L,D,H,N,G,X;if(!E){if(X=t.grid==="auto"?0:(t.grid||[1,bo])[1],!X){for(N=-1e8;N<(N=S[X++].getBoundingClientRect().left)&&X<b;);X<b&&X--}for(E=a[b]=[],P=c?Math.min(X,b)*m-.5:i%X,k=X===bo?0:c?b*g/X-.5:i/X|0,N=0,G=bo,H=0;H<b;H++)R=H%X-P,L=k-(H/X|0),E[H]=D=f?Math.abs(f==="y"?L:R):NC(R*R+L*L),D>N&&(N=D),D<G&&(G=D);i==="random"&&JC(E),E.max=N-G,E.min=G,E.v=b=(parseFloat(t.amount)||parseFloat(t.each)*(X>b?b-1:f?f==="y"?b/X:X:Math.max(X,b/X))||0)*(i==="edges"?-1:1),E.b=b<0?s-b:s,E.u=wn(t.amount||t.each)||0,n=n&&b<0?hP(n):n}return b=(E[v]-E.min)/E.max||0,Mr(E.b+(n?n(b):b)*E.v)+E.u}},W_=function(e){var t=Math.pow(10,((e+"").split(".")[1]||"").length);return function(n){var i=Mr(Math.round(parseFloat(n)/e)*e*t);return(i-i%1)/t+(wa(n)?0:wn(n))}},tP=function(e,t){var n=Tn(e),i,s;return!n&&Io(e)&&(i=n=e.radius||bo,e.values?(e=rs(e.values),(s=!wa(e[0]))&&(i*=i)):e=W_(e.increment)),Hl(t,n?mr(e)?function(a){return s=e(a),Math.abs(s-a)<=i?s:a}:function(a){for(var u=parseFloat(s?a.x:a),c=parseFloat(s?a.y:0),f=bo,m=0,g=e.length,v,x;g--;)s?(v=e[g].x-u,x=e[g].y-c,v=v*v+x*x):v=Math.abs(e[g]-u),v<f&&(f=v,m=g);return m=!i||f<=i?e[m]:a,s||m===a||wa(a)?m:m+wn(a)}:W_(e))},rP=function(e,t,n,i){return Hl(Tn(e)?!t:n===!0?!!(n=0):!i,function(){return Tn(e)?e[~~(Math.random()*e.length)]:(n=n||1e-5)&&(i=n<1?Math.pow(10,(n+"").length-2):1)&&Math.floor(Math.round((e-n/2+Math.random()*(t-e+n*.99))/n)*n*i)/i})},_B=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(i){return t.reduce(function(s,a){return a(s)},i)}},xB=function(e,t){return function(n){return e(parseFloat(n))+(t||wn(n))}},wB=function(e,t,n){return iP(e,t,0,1,n)},nP=function(e,t,n){return Hl(n,function(i){return e[~~t(i)]})},SB=function r(e,t,n){var i=t-e;return Tn(e)?nP(e,r(0,e.length),t):Hl(n,function(s){return(i+(s-e)%i)%i+e})},bB=function r(e,t,n){var i=t-e,s=i*2;return Tn(e)?nP(e,r(0,e.length-1),t):Hl(n,function(a){return a=(s+(a-e)%s)%s||0,e+(a>i?s-a:a)})},ep=function(e){for(var t=0,n="",i,s,a,u;~(i=e.indexOf("random(",t));)a=e.indexOf(")",i),u=e.charAt(i+7)==="[",s=e.substr(i+7,a-i-7).match(u?UC:U_),n+=e.substr(t,i-t)+rP(u?s:+s[0],u?0:+s[1],+s[2]||1e-5),t=a+1;return n+e.substr(t,e.length-t)},iP=function(e,t,n,i,s){var a=t-e,u=i-n;return Hl(s,function(c){return n+((c-e)/a*u||0)})},TB=function r(e,t,n,i){var s=isNaN(e+t)?0:function(x){return(1-x)*e+x*t};if(!s){var a=Qr(e),u={},c,f,m,g,v;if(n===!0&&(i=1)&&(n=null),a)e={p:e},t={p:t};else if(Tn(e)&&!Tn(t)){for(m=[],g=e.length,v=g-2,f=1;f<g;f++)m.push(r(e[f-1],e[f]));g--,s=function(S){S*=g;var b=Math.min(v,~~S);return m[b](S-b)},n=t}else i||(e=Qc(Tn(e)?[]:{},e));if(!m){for(c in t)jx.call(u,e,c,"get",t[c]);s=function(S){return Xx(S,u)||(a?e.p:e)}}}return Hl(n,s)},Zb=function(e,t,n){var i=e.labels,s=bo,a,u,c;for(a in i)u=i[a]-t,u<0==!!n&&u&&s>(u=Math.abs(u))&&(c=a,s=u);return c},ki=function(e,t,n){var i=e.vars,s=i[t],a=Qt,u=e._ctx,c,f,m;if(s)return c=i[t+"Params"],f=i.callbackScope||e,n&&Ml.length&&Eg(),u&&(Qt=u),m=c?s.apply(f,c):s.call(f),Qt=a,m},kf=function(e){return Ll(e),e.scrollTrigger&&e.scrollTrigger.kill(!!ln),e.progress()<1&&ki(e,"onInterrupt"),e},Oc,sP=[],oP=function(e){if(e)if(e=!e.name&&e.default||e,Lx()||e.headless){var t=e.name,n=mr(e),i=t&&!n&&e.init?function(){this._props=[]}:e,s={init:Jf,render:Xx,add:jx,kill:zB,modifier:UB,rawVars:0},a={targetTest:0,get:0,getSetter:Wx,aliases:{},register:0};if(ed(),e!==i){if(Ri[t])return;Fi(i,Fi(Ag(e,s),a)),Qc(i.prototype,Qc(s,Ag(e,a))),Ri[i.prop=t]=i,e.targetTest&&(eg.push(i),zx[t]=1),t=(t==="css"?"CSS":t.charAt(0).toUpperCase()+t.substr(1))+"Plugin"}GC(t,i),e.register&&e.register(fi,i,ci)}else sP.push(e)},Gt=255,Mf={aqua:[0,Gt,Gt],lime:[0,Gt,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,Gt],navy:[0,0,128],white:[Gt,Gt,Gt],olive:[128,128,0],yellow:[Gt,Gt,0],orange:[Gt,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[Gt,0,0],pink:[Gt,192,203],cyan:[0,Gt,Gt],transparent:[Gt,Gt,Gt,0]},P0=function(e,t,n){return e+=e<0?1:e>1?-1:0,(e*6<1?t+(n-t)*e*6:e<.5?n:e*3<2?t+(n-t)*(2/3-e)*6:t)*Gt+.5|0},aP=function(e,t,n){var i=e?wa(e)?[e>>16,e>>8&Gt,e&Gt]:0:Mf.black,s,a,u,c,f,m,g,v,x,S;if(!i){if(e.substr(-1)===","&&(e=e.substr(0,e.length-1)),Mf[e])i=Mf[e];else if(e.charAt(0)==="#"){if(e.length<6&&(s=e.charAt(1),a=e.charAt(2),u=e.charAt(3),e="#"+s+s+a+a+u+u+(e.length===5?e.charAt(4)+e.charAt(4):"")),e.length===9)return i=parseInt(e.substr(1,6),16),[i>>16,i>>8&Gt,i&Gt,parseInt(e.substr(7),16)/255];e=parseInt(e.substr(1),16),i=[e>>16,e>>8&Gt,e&Gt]}else if(e.substr(0,3)==="hsl"){if(i=S=e.match(U_),!t)c=+i[0]%360/360,f=+i[1]/100,m=+i[2]/100,a=m<=.5?m*(f+1):m+f-m*f,s=m*2-a,i.length>3&&(i[3]*=1),i[0]=P0(c+1/3,s,a),i[1]=P0(c,s,a),i[2]=P0(c-1/3,s,a);else if(~e.indexOf("="))return i=e.match(LC),n&&i.length<4&&(i[3]=1),i}else i=e.match(U_)||Mf.transparent;i=i.map(Number)}return t&&!S&&(s=i[0]/Gt,a=i[1]/Gt,u=i[2]/Gt,g=Math.max(s,a,u),v=Math.min(s,a,u),m=(g+v)/2,g===v?c=f=0:(x=g-v,f=m>.5?x/(2-g-v):x/(g+v),c=g===s?(a-u)/x+(a<u?6:0):g===a?(u-s)/x+2:(s-a)/x+4,c*=60),i[0]=~~(c+.5),i[1]=~~(f*100+.5),i[2]=~~(m*100+.5)),n&&i.length<4&&(i[3]=1),i},lP=function(e){var t=[],n=[],i=-1;return e.split(Dl).forEach(function(s){var a=s.match(Dc)||[];t.push.apply(t,a),n.push(i+=a.length+1)}),t.c=n,t},Jb=function(e,t,n){var i="",s=(e+i).match(Dl),a=t?"hsla(":"rgba(",u=0,c,f,m,g;if(!s)return e;if(s=s.map(function(v){return(v=aP(v,t,1))&&a+(t?v[0]+","+v[1]+"%,"+v[2]+"%,"+v[3]:v.join(","))+")"}),n&&(m=lP(e),c=n.c,c.join(i)!==m.c.join(i)))for(f=e.replace(Dl,"1").split(Dc),g=f.length-1;u<g;u++)i+=f[u]+(~c.indexOf(u)?s.shift()||a+"0,0,0,0)":(m.length?m:s.length?s:n).shift());if(!f)for(f=e.split(Dl),g=f.length-1;u<g;u++)i+=f[u]+s[u];return i+f[g]},Dl=function(){var r="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",e;for(e in Mf)r+="|"+e+"\\b";return new RegExp(r+")","gi")}(),EB=/hsl[a]?\(/,uP=function(e){var t=e.join(" "),n;if(Dl.lastIndex=0,Dl.test(t))return n=EB.test(t),e[1]=Jb(e[1],n),e[0]=Jb(e[0],n,lP(e[1])),!0},tp,Ii=function(){var r=Date.now,e=500,t=33,n=r(),i=n,s=1e3/240,a=s,u=[],c,f,m,g,v,x,S=function b(E){var P=r()-i,k=E===!0,R,L,D,H;if((P>e||P<0)&&(n+=P-t),i+=P,D=i-n,R=D-a,(R>0||k)&&(H=++g.frame,v=D-g.time*1e3,g.time=D=D/1e3,a+=R+(R>=s?4:s-R),L=1),k||(c=f(b)),L)for(x=0;x<u.length;x++)u[x](D,v,H,E)};return g={time:0,frame:0,tick:function(){S(!0)},deltaRatio:function(E){return v/(1e3/(E||60))},wake:function(){zC&&(!z_&&Lx()&&(go=z_=window,Bx=go.document||{},Ni.gsap=fi,(go.gsapVersions||(go.gsapVersions=[])).push(fi.version),VC(Tg||go.GreenSockGlobals||!go.gsap&&go||{}),sP.forEach(oP)),m=typeof requestAnimationFrame<"u"&&requestAnimationFrame,c&&g.sleep(),f=m||function(E){return setTimeout(E,a-g.time*1e3+1|0)},tp=1,S(2))},sleep:function(){(m?cancelAnimationFrame:clearTimeout)(c),tp=0,f=Jf},lagSmoothing:function(E,P){e=E||1/0,t=Math.min(P||33,e)},fps:function(E){s=1e3/(E||240),a=g.time*1e3+s},add:function(E,P,k){var R=P?function(L,D,H,N){E(L,D,H,N),g.remove(R)}:E;return g.remove(E),u[k?"unshift":"push"](R),ed(),R},remove:function(E,P){~(P=u.indexOf(E))&&u.splice(P,1)&&x>=P&&x--},_listeners:u},g}(),ed=function(){return!tp&&Ii.wake()},xt={},AB=/^[\d.\-M][\d.\-,\s]/,CB=/["']/g,PB=function(e){for(var t={},n=e.substr(1,e.length-3).split(":"),i=n[0],s=1,a=n.length,u,c,f;s<a;s++)c=n[s],u=s!==a-1?c.lastIndexOf(","):c.length,f=c.substr(0,u),t[i]=isNaN(f)?f.replace(CB,"").trim():+f,i=c.substr(u+1).trim();return t},RB=function(e){var t=e.indexOf("(")+1,n=e.indexOf(")"),i=e.indexOf("(",t);return e.substring(t,~i&&i<n?e.indexOf(")",n+1):n)},IB=function(e){var t=(e+"").split("("),n=xt[t[0]];return n&&t.length>1&&n.config?n.config.apply(null,~e.indexOf("{")?[PB(t[1])]:RB(e).split(",").map(WC)):xt._CE&&AB.test(e)?xt._CE("",e):n},hP=function(e){return function(t){return 1-e(1-t)}},cP=function r(e,t){for(var n=e._first,i;n;)n instanceof Fn?r(n,t):n.vars.yoyoEase&&(!n._yoyo||!n._repeat)&&n._yoyo!==t&&(n.timeline?r(n.timeline,t):(i=n._ease,n._ease=n._yEase,n._yEase=i,n._yoyo=t)),n=n._next},fh=function(e,t){return e&&(mr(e)?e:xt[e]||IB(e))||t},wh=function(e,t,n,i){n===void 0&&(n=function(c){return 1-t(1-c)}),i===void 0&&(i=function(c){return c<.5?t(c*2)/2:1-t((1-c)*2)/2});var s={easeIn:t,easeOut:n,easeInOut:i},a;return hi(e,function(u){xt[u]=Ni[u]=s,xt[a=u.toLowerCase()]=n;for(var c in s)xt[a+(c==="easeIn"?".in":c==="easeOut"?".out":".inOut")]=xt[u+"."+c]=s[c]}),s},dP=function(e){return function(t){return t<.5?(1-e(1-t*2))/2:.5+e((t-.5)*2)/2}},R0=function r(e,t,n){var i=t>=1?t:1,s=(n||(e?.3:.45))/(t<1?t:1),a=s/B_*(Math.asin(1/i)||0),u=function(m){return m===1?1:i*Math.pow(2,-10*m)*iB((m-a)*s)+1},c=e==="out"?u:e==="in"?function(f){return 1-u(1-f)}:dP(u);return s=B_/s,c.config=function(f,m){return r(e,f,m)},c},I0=function r(e,t){t===void 0&&(t=1.70158);var n=function(a){return a?--a*a*((t+1)*a+t)+1:0},i=e==="out"?n:e==="in"?function(s){return 1-n(1-s)}:dP(n);return i.config=function(s){return r(e,s)},i};hi("Linear,Quad,Cubic,Quart,Quint,Strong",function(r,e){var t=e<5?e+1:e;wh(r+",Power"+(t-1),e?function(n){return Math.pow(n,t)}:function(n){return n},function(n){return 1-Math.pow(1-n,t)},function(n){return n<.5?Math.pow(n*2,t)/2:1-Math.pow((1-n)*2,t)/2})});xt.Linear.easeNone=xt.none=xt.Linear.easeIn;wh("Elastic",R0("in"),R0("out"),R0());(function(r,e){var t=1/e,n=2*t,i=2.5*t,s=function(u){return u<t?r*u*u:u<n?r*Math.pow(u-1.5/e,2)+.75:u<i?r*(u-=2.25/e)*u+.9375:r*Math.pow(u-2.625/e,2)+.984375};wh("Bounce",function(a){return 1-s(1-a)},s)})(7.5625,2.75);wh("Expo",function(r){return Math.pow(2,10*(r-1))*r+r*r*r*r*r*r*(1-r)});wh("Circ",function(r){return-(NC(1-r*r)-1)});wh("Sine",function(r){return r===1?1:-nB(r*tB)+1});wh("Back",I0("in"),I0("out"),I0());xt.SteppedEase=xt.steps=Ni.SteppedEase={config:function(e,t){e===void 0&&(e=1);var n=1/e,i=e+(t?0:1),s=t?1:0,a=1-Sn;return function(u){return((i*_p(0,a,u)|0)+s)*n}}};Kc.ease=xt["quad.out"];hi("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(r){return Vx+=r+","+r+"Params,"});var fP=function(e,t){this.id=rB++,e._gsap=this,this.target=e,this.harness=t,this.get=t?t.get:HC,this.set=t?t.getSetter:Wx},rp=function(){function r(t){this.vars=t,this._delay=+t.delay||0,(this._repeat=t.repeat===1/0?-2:t.repeat||0)&&(this._rDelay=t.repeatDelay||0,this._yoyo=!!t.yoyo||!!t.yoyoEase),this._ts=1,Jc(this,+t.duration,1,1),this.data=t.data,Qt&&(this._ctx=Qt,Qt.data.push(this)),tp||Ii.wake()}var e=r.prototype;return e.delay=function(n){return n||n===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+n-this._delay),this._delay=n,this):this._delay},e.duration=function(n){return arguments.length?this.totalDuration(this._repeat>0?n+(n+this._rDelay)*this._repeat:n):this.totalDuration()&&this._dur},e.totalDuration=function(n){return arguments.length?(this._dirty=0,Jc(this,this._repeat<0?n:(n-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(n,i){if(ed(),!arguments.length)return this._tTime;var s=this._dp;if(s&&s.smoothChildTiming&&this._ts){for(ry(this,n),!s._dp||s.parent||qC(s,this);s&&s.parent;)s.parent._time!==s._start+(s._ts>=0?s._tTime/s._ts:(s.totalDuration()-s._tTime)/-s._ts)&&s.totalTime(s._tTime,!0),s=s.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&n<this._tDur||this._ts<0&&n>0||!this._tDur&&!n)&&vo(this._dp,this,this._start-this._delay)}return(this._tTime!==n||!this._dur&&!i||this._initted&&Math.abs(this._zTime)===Sn||!n&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=n),$C(this,n,i)),this},e.time=function(n,i){return arguments.length?this.totalTime(Math.min(this.totalDuration(),n+Kb(this))%(this._dur+this._rDelay)||(n?this._dur:0),i):this._time},e.totalProgress=function(n,i){return arguments.length?this.totalTime(this.totalDuration()*n,i):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>=0&&this._initted?1:0},e.progress=function(n,i){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-n:n)+Kb(this),i):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},e.iteration=function(n,i){var s=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(n-1)*s,i):this._repeat?Zc(this._tTime,s)+1:1},e.timeScale=function(n,i){if(!arguments.length)return this._rts===-1e-8?0:this._rts;if(this._rts===n)return this;var s=this.parent&&this._ts?Cg(this.parent._time,this):this._tTime;return this._rts=+n||0,this._ts=this._ps||n===-1e-8?0:this._rts,this.totalTime(_p(-Math.abs(this._delay),this._tDur,s),i!==!1),ty(this),cB(this)},e.paused=function(n){return arguments.length?(this._ps!==n&&(this._ps=n,n?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(ed(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==Sn&&(this._tTime-=Sn)))),this):this._ps},e.startTime=function(n){if(arguments.length){this._start=n;var i=this.parent||this._dp;return i&&(i._sort||!this.parent)&&vo(i,this,n-this._delay),this}return this._start},e.endTime=function(n){return this._start+(ui(n)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(n){var i=this.parent||this._dp;return i?n&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?Cg(i.rawTime(n),this):this._tTime:this._tTime},e.revert=function(n){n===void 0&&(n=aB);var i=ln;return ln=n,(this._initted||this._startAt)&&(this.timeline&&this.timeline.revert(n),this.totalTime(-.01,n.suppressEvents)),this.data!=="nested"&&n.kill!==!1&&this.kill(),ln=i,this},e.globalTime=function(n){for(var i=this,s=arguments.length?n:i.rawTime();i;)s=i._start+s/(Math.abs(i._ts)||1),i=i._dp;return!this.parent&&this._sat?this._sat.globalTime(n):s},e.repeat=function(n){return arguments.length?(this._repeat=n===1/0?-2:n,Qb(this)):this._repeat===-2?1/0:this._repeat},e.repeatDelay=function(n){if(arguments.length){var i=this._time;return this._rDelay=n,Qb(this),i?this.time(i):this}return this._rDelay},e.yoyo=function(n){return arguments.length?(this._yoyo=n,this):this._yoyo},e.seek=function(n,i){return this.totalTime(Qi(this,n),ui(i))},e.restart=function(n,i){return this.play().totalTime(n?-this._delay:0,ui(i)),this._dur||(this._zTime=-1e-8),this},e.play=function(n,i){return n!=null&&this.seek(n,i),this.reversed(!1).paused(!1)},e.reverse=function(n,i){return n!=null&&this.seek(n||this.totalDuration(),i),this.reversed(!0).paused(!1)},e.pause=function(n,i){return n!=null&&this.seek(n,i),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(n){return arguments.length?(!!n!==this.reversed()&&this.timeScale(-this._rts||(n?-1e-8:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-1e-8,this},e.isActive=function(){var n=this.parent||this._dp,i=this._start,s;return!!(!n||this._ts&&this._initted&&n.isActive()&&(s=n.rawTime(!0))>=i&&s<this.endTime(!0)-Sn)},e.eventCallback=function(n,i,s){var a=this.vars;return arguments.length>1?(i?(a[n]=i,s&&(a[n+"Params"]=s),n==="onUpdate"&&(this._onUpdate=i)):delete a[n],this):a[n]},e.then=function(n){var i=this;return new Promise(function(s){var a=mr(n)?n:XC,u=function(){var f=i.then;i.then=null,mr(a)&&(a=a(i))&&(a.then||a===i)&&(i.then=f),s(a),i.then=f};i._initted&&i.totalProgress()===1&&i._ts>=0||!i._tTime&&i._ts<0?u():i._prom=u})},e.kill=function(){kf(this)},r}();Fi(rp.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-1e-8,_prom:0,_ps:!1,_rts:1});var Fn=function(r){OC(e,r);function e(n,i){var s;return n===void 0&&(n={}),s=r.call(this,n)||this,s.labels={},s.smoothChildTiming=!!n.smoothChildTiming,s.autoRemoveChildren=!!n.autoRemoveChildren,s._sort=ui(n.sortChildren),nr&&vo(n.parent||nr,la(s),i),n.reversed&&s.reverse(),n.paused&&s.paused(!0),n.scrollTrigger&&KC(la(s),n.scrollTrigger),s}var t=e.prototype;return t.to=function(i,s,a){return zf(0,arguments,this),this},t.from=function(i,s,a){return zf(1,arguments,this),this},t.fromTo=function(i,s,a,u){return zf(2,arguments,this),this},t.set=function(i,s,a){return s.duration=0,s.parent=this,Uf(s).repeatDelay||(s.repeat=0),s.immediateRender=!!s.immediateRender,new Ir(i,s,Qi(this,a),1),this},t.call=function(i,s,a){return vo(this,Ir.delayedCall(0,i,s),a)},t.staggerTo=function(i,s,a,u,c,f,m){return a.duration=s,a.stagger=a.stagger||u,a.onComplete=f,a.onCompleteParams=m,a.parent=this,new Ir(i,a,Qi(this,c)),this},t.staggerFrom=function(i,s,a,u,c,f,m){return a.runBackwards=1,Uf(a).immediateRender=ui(a.immediateRender),this.staggerTo(i,s,a,u,c,f,m)},t.staggerFromTo=function(i,s,a,u,c,f,m,g){return u.startAt=a,Uf(u).immediateRender=ui(u.immediateRender),this.staggerTo(i,s,u,c,f,m,g)},t.render=function(i,s,a){var u=this._time,c=this._dirty?this.totalDuration():this._tDur,f=this._dur,m=i<=0?0:Mr(i),g=this._zTime<0!=i<0&&(this._initted||!f),v,x,S,b,E,P,k,R,L,D,H,N;if(this!==nr&&m>c&&i>=0&&(m=c),m!==this._tTime||a||g){if(u!==this._time&&f&&(m+=this._time-u,i+=this._time-u),v=m,L=this._start,R=this._ts,P=!R,g&&(f||(u=this._zTime),(i||!s)&&(this._zTime=i)),this._repeat){if(H=this._yoyo,E=f+this._rDelay,this._repeat<-1&&i<0)return this.totalTime(E*100+i,s,a);if(v=Mr(m%E),m===c?(b=this._repeat,v=f):(D=Mr(m/E),b=~~D,b&&b===D&&(v=f,b--),v>f&&(v=f)),D=Zc(this._tTime,E),!u&&this._tTime&&D!==b&&this._tTime-D*E-this._dur<=0&&(D=b),H&&b&1&&(v=f-v,N=1),b!==D&&!this._lock){var G=H&&D&1,X=G===(H&&b&1);if(b<D&&(G=!G),u=G?0:m%f?f:m,this._lock=1,this.render(u||(N?0:Mr(b*E)),s,!f)._lock=0,this._tTime=m,!s&&this.parent&&ki(this,"onRepeat"),this.vars.repeatRefresh&&!N&&(this.invalidate()._lock=1),u&&u!==this._time||P!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(f=this._dur,c=this._tDur,X&&(this._lock=2,u=G?f:-1e-4,this.render(u,!0),this.vars.repeatRefresh&&!N&&this.invalidate()),this._lock=0,!this._ts&&!P)return this;cP(this,N)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(k=mB(this,Mr(u),Mr(v)),k&&(m-=v-(v=k._start))),this._tTime=m,this._time=v,this._act=!R,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=i,u=0),!u&&v&&!s&&!b&&(ki(this,"onStart"),this._tTime!==m))return this;if(v>=u&&i>=0)for(x=this._first;x;){if(S=x._next,(x._act||v>=x._start)&&x._ts&&k!==x){if(x.parent!==this)return this.render(i,s,a);if(x.render(x._ts>0?(v-x._start)*x._ts:(x._dirty?x.totalDuration():x._tDur)+(v-x._start)*x._ts,s,a),v!==this._time||!this._ts&&!P){k=0,S&&(m+=this._zTime=-1e-8);break}}x=S}else{x=this._last;for(var re=i<0?i:v;x;){if(S=x._prev,(x._act||re<=x._end)&&x._ts&&k!==x){if(x.parent!==this)return this.render(i,s,a);if(x.render(x._ts>0?(re-x._start)*x._ts:(x._dirty?x.totalDuration():x._tDur)+(re-x._start)*x._ts,s,a||ln&&(x._initted||x._startAt)),v!==this._time||!this._ts&&!P){k=0,S&&(m+=this._zTime=re?-1e-8:Sn);break}}x=S}}if(k&&!s&&(this.pause(),k.render(v>=u?0:-1e-8)._zTime=v>=u?1:-1,this._ts))return this._start=L,ty(this),this.render(i,s,a);this._onUpdate&&!s&&ki(this,"onUpdate",!0),(m===c&&this._tTime>=this.totalDuration()||!m&&u)&&(L===this._start||Math.abs(R)!==Math.abs(this._ts))&&(this._lock||((i||!f)&&(m===c&&this._ts>0||!m&&this._ts<0)&&Ll(this,1),!s&&!(i<0&&!u)&&(m||u||!c)&&(ki(this,m===c&&i>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(m<c&&this.timeScale()>0)&&this._prom())))}return this},t.add=function(i,s){var a=this;if(wa(s)||(s=Qi(this,s,i)),!(i instanceof rp)){if(Tn(i))return i.forEach(function(u){return a.add(u,s)}),this;if(Qr(i))return this.addLabel(i,s);if(mr(i))i=Ir.delayedCall(0,i);else return this}return this!==i?vo(this,i,s):this},t.getChildren=function(i,s,a,u){i===void 0&&(i=!0),s===void 0&&(s=!0),a===void 0&&(a=!0),u===void 0&&(u=-1e8);for(var c=[],f=this._first;f;)f._start>=u&&(f instanceof Ir?s&&c.push(f):(a&&c.push(f),i&&c.push.apply(c,f.getChildren(!0,s,a)))),f=f._next;return c},t.getById=function(i){for(var s=this.getChildren(1,1,1),a=s.length;a--;)if(s[a].vars.id===i)return s[a]},t.remove=function(i){return Qr(i)?this.removeLabel(i):mr(i)?this.killTweensOf(i):(i.parent===this&&ey(this,i),i===this._recent&&(this._recent=this._last),dh(this))},t.totalTime=function(i,s){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=Mr(Ii.time-(this._ts>0?i/this._ts:(this.totalDuration()-i)/-this._ts))),r.prototype.totalTime.call(this,i,s),this._forcing=0,this):this._tTime},t.addLabel=function(i,s){return this.labels[i]=Qi(this,s),this},t.removeLabel=function(i){return delete this.labels[i],this},t.addPause=function(i,s,a){var u=Ir.delayedCall(0,s||Jf,a);return u.data="isPause",this._hasPause=1,vo(this,u,Qi(this,i))},t.removePause=function(i){var s=this._first;for(i=Qi(this,i);s;)s._start===i&&s.data==="isPause"&&Ll(s),s=s._next},t.killTweensOf=function(i,s,a){for(var u=this.getTweensOf(i,a),c=u.length;c--;)Pl!==u[c]&&u[c].kill(i,s);return this},t.getTweensOf=function(i,s){for(var a=[],u=rs(i),c=this._first,f=wa(s),m;c;)c instanceof Ir?lB(c._targets,u)&&(f?(!Pl||c._initted&&c._ts)&&c.globalTime(0)<=s&&c.globalTime(c.totalDuration())>s:!s||c.isActive())&&a.push(c):(m=c.getTweensOf(u,s)).length&&a.push.apply(a,m),c=c._next;return a},t.tweenTo=function(i,s){s=s||{};var a=this,u=Qi(a,i),c=s,f=c.startAt,m=c.onStart,g=c.onStartParams,v=c.immediateRender,x,S=Ir.to(a,Fi({ease:s.ease||"none",lazy:!1,immediateRender:!1,time:u,overwrite:"auto",duration:s.duration||Math.abs((u-(f&&"time"in f?f.time:a._time))/a.timeScale())||Sn,onStart:function(){if(a.pause(),!x){var E=s.duration||Math.abs((u-(f&&"time"in f?f.time:a._time))/a.timeScale());S._dur!==E&&Jc(S,E,0,1).render(S._time,!0,!0),x=1}m&&m.apply(S,g||[])}},s));return v?S.render(0):S},t.tweenFromTo=function(i,s,a){return this.tweenTo(s,Fi({startAt:{time:Qi(this,i)}},a))},t.recent=function(){return this._recent},t.nextLabel=function(i){return i===void 0&&(i=this._time),Zb(this,Qi(this,i))},t.previousLabel=function(i){return i===void 0&&(i=this._time),Zb(this,Qi(this,i),1)},t.currentLabel=function(i){return arguments.length?this.seek(i,!0):this.previousLabel(this._time+Sn)},t.shiftChildren=function(i,s,a){a===void 0&&(a=0);for(var u=this._first,c=this.labels,f;u;)u._start>=a&&(u._start+=i,u._end+=i),u=u._next;if(s)for(f in c)c[f]>=a&&(c[f]+=i);return dh(this)},t.invalidate=function(i){var s=this._first;for(this._lock=0;s;)s.invalidate(i),s=s._next;return r.prototype.invalidate.call(this,i)},t.clear=function(i){i===void 0&&(i=!0);for(var s=this._first,a;s;)a=s._next,this.remove(s),s=a;return this._dp&&(this._time=this._tTime=this._pTime=0),i&&(this.labels={}),dh(this)},t.totalDuration=function(i){var s=0,a=this,u=a._last,c=bo,f,m,g;if(arguments.length)return a.timeScale((a._repeat<0?a.duration():a.totalDuration())/(a.reversed()?-i:i));if(a._dirty){for(g=a.parent;u;)f=u._prev,u._dirty&&u.totalDuration(),m=u._start,m>c&&a._sort&&u._ts&&!a._lock?(a._lock=1,vo(a,u,m-u._delay,1)._lock=0):c=m,m<0&&u._ts&&(s-=m,(!g&&!a._dp||g&&g.smoothChildTiming)&&(a._start+=m/a._ts,a._time-=m,a._tTime-=m),a.shiftChildren(-m,!1,-1/0),c=0),u._end>s&&u._ts&&(s=u._end),u=f;Jc(a,a===nr&&a._time>s?a._time:s,1,1),a._dirty=0}return a._tDur},e.updateRoot=function(i){if(nr._ts&&($C(nr,Cg(i,nr)),jC=Ii.frame),Ii.frame>=Yb){Yb+=Di.autoSleep||120;var s=nr._first;if((!s||!s._ts)&&Di.autoSleep&&Ii._listeners.length<2){for(;s&&!s._ts;)s=s._next;s||Ii.sleep()}}},e}(rp);Fi(Fn.prototype,{_lock:0,_hasPause:0,_forcing:0});var kB=function(e,t,n,i,s,a,u){var c=new ci(this._pt,e,t,0,1,_P,null,s),f=0,m=0,g,v,x,S,b,E,P,k;for(c.b=n,c.e=i,n+="",i+="",(P=~i.indexOf("random("))&&(i=ep(i)),a&&(k=[n,i],a(k,e,t),n=k[0],i=k[1]),v=n.match(A0)||[];g=A0.exec(i);)S=g[0],b=i.substring(f,g.index),x?x=(x+1)%5:b.substr(-5)==="rgba("&&(x=1),S!==v[m++]&&(E=parseFloat(v[m-1])||0,c._pt={_next:c._pt,p:b||m===1?b:",",s:E,c:S.charAt(1)==="="?Wc(E,S)-E:parseFloat(S)-E,m:x&&x<4?Math.round:0},f=A0.lastIndex);return c.c=f<i.length?i.substring(f,i.length):"",c.fp=u,(BC.test(i)||P)&&(c.e=0),this._pt=c,c},jx=function(e,t,n,i,s,a,u,c,f,m){mr(i)&&(i=i(s||0,e,a));var g=e[t],v=n!=="get"?n:mr(g)?f?e[t.indexOf("set")||!mr(e["get"+t.substr(3)])?t:"get"+t.substr(3)](f):e[t]():g,x=mr(g)?f?FB:yP:$x,S;if(Qr(i)&&(~i.indexOf("random(")&&(i=ep(i)),i.charAt(1)==="="&&(S=Wc(v,i)+(wn(v)||0),(S||S===0)&&(i=S))),!m||v!==i||X_)return!isNaN(v*i)&&i!==""?(S=new ci(this._pt,e,t,+v||0,i-(v||0),typeof g=="boolean"?BB:vP,0,x),f&&(S.fp=f),u&&S.modifier(u,this,e),this._pt=S):(!g&&!(t in e)&&Ux(t,i),kB.call(this,e,t,v,i,x,c||Di.stringFilter,f))},MB=function(e,t,n,i,s){if(mr(e)&&(e=Vf(e,s,t,n,i)),!Io(e)||e.style&&e.nodeType||Tn(e)||FC(e))return Qr(e)?Vf(e,s,t,n,i):e;var a={},u;for(u in e)a[u]=Vf(e[u],s,t,n,i);return a},pP=function(e,t,n,i,s,a){var u,c,f,m;if(Ri[e]&&(u=new Ri[e]).init(s,u.rawVars?t[e]:MB(t[e],i,s,a,n),n,i,a)!==!1&&(n._pt=c=new ci(n._pt,s,e,0,1,u.render,u,0,u.priority),n!==Oc))for(f=n._ptLookup[n._targets.indexOf(s)],m=u._props.length;m--;)f[u._props[m]]=c;return u},Pl,X_,Hx=function r(e,t,n){var i=e.vars,s=i.ease,a=i.startAt,u=i.immediateRender,c=i.lazy,f=i.onUpdate,m=i.runBackwards,g=i.yoyoEase,v=i.keyframes,x=i.autoRevert,S=e._dur,b=e._startAt,E=e._targets,P=e.parent,k=P&&P.data==="nested"?P.vars.targets:E,R=e._overwrite==="auto"&&!Nx,L=e.timeline,D,H,N,G,X,re,me,q,Z,le,xe,U,z;if(L&&(!v||!s)&&(s="none"),e._ease=fh(s,Kc.ease),e._yEase=g?hP(fh(g===!0?s:g,Kc.ease)):0,g&&e._yoyo&&!e._repeat&&(g=e._yEase,e._yEase=e._ease,e._ease=g),e._from=!L&&!!i.runBackwards,!L||v&&!i.stagger){if(q=E[0]?ch(E[0]).harness:0,U=q&&i[q.prop],D=Ag(i,zx),b&&(b._zTime<0&&b.progress(1),t<0&&m&&u&&!x?b.render(-1,!0):b.revert(m&&S?Jm:oB),b._lazy=0),a){if(Ll(e._startAt=Ir.set(E,Fi({data:"isStart",overwrite:!1,parent:P,immediateRender:!0,lazy:!b&&ui(c),startAt:null,delay:0,onUpdate:f&&function(){return ki(e,"onUpdate")},stagger:0},a))),e._startAt._dp=0,e._startAt._sat=e,t<0&&(ln||!u&&!x)&&e._startAt.revert(Jm),u&&S&&t<=0&&n<=0){t&&(e._zTime=t);return}}else if(m&&S&&!b){if(t&&(u=!1),N=Fi({overwrite:!1,data:"isFromStart",lazy:u&&!b&&ui(c),immediateRender:u,stagger:0,parent:P},D),U&&(N[q.prop]=U),Ll(e._startAt=Ir.set(E,N)),e._startAt._dp=0,e._startAt._sat=e,t<0&&(ln?e._startAt.revert(Jm):e._startAt.render(-1,!0)),e._zTime=t,!u)r(e._startAt,Sn,Sn);else if(!t)return}for(e._pt=e._ptCache=0,c=S&&ui(c)||c&&!S,H=0;H<E.length;H++){if(X=E[H],me=X._gsap||Gx(E)[H]._gsap,e._ptLookup[H]=le={},V_[me.id]&&Ml.length&&Eg(),xe=k===E?H:k.indexOf(X),q&&(Z=new q).init(X,U||D,e,xe,k)!==!1&&(e._pt=G=new ci(e._pt,X,Z.name,0,1,Z.render,Z,0,Z.priority),Z._props.forEach(function(M){le[M]=G}),Z.priority&&(re=1)),!q||U)for(N in D)Ri[N]&&(Z=pP(N,D,e,xe,X,k))?Z.priority&&(re=1):le[N]=G=jx.call(e,X,N,"get",D[N],xe,k,0,i.stringFilter);e._op&&e._op[H]&&e.kill(X,e._op[H]),R&&e._pt&&(Pl=e,nr.killTweensOf(X,le,e.globalTime(t)),z=!e.parent,Pl=0),e._pt&&c&&(V_[me.id]=1)}re&&xP(e),e._onInit&&e._onInit(e)}e._onUpdate=f,e._initted=(!e._op||e._pt)&&!z,v&&t<=0&&L.render(bo,!0,!0)},DB=function(e,t,n,i,s,a,u,c){var f=(e._pt&&e._ptCache||(e._ptCache={}))[t],m,g,v,x;if(!f)for(f=e._ptCache[t]=[],v=e._ptLookup,x=e._targets.length;x--;){if(m=v[x][t],m&&m.d&&m.d._pt)for(m=m.d._pt;m&&m.p!==t&&m.fp!==t;)m=m._next;if(!m)return X_=1,e.vars[t]="+=0",Hx(e,u),X_=0,c?Zf(t+" not eligible for reset"):1;f.push(m)}for(x=f.length;x--;)g=f[x],m=g._pt||g,m.s=(i||i===0)&&!s?i:m.s+(i||0)+a*m.c,m.c=n-m.s,g.e&&(g.e=Tr(n)+wn(g.e)),g.b&&(g.b=m.s+wn(g.b))},OB=function(e,t){var n=e[0]?ch(e[0]).harness:0,i=n&&n.aliases,s,a,u,c;if(!i)return t;s=Qc({},t);for(a in i)if(a in s)for(c=i[a].split(","),u=c.length;u--;)s[c[u]]=s[a];return s},NB=function(e,t,n,i){var s=t.ease||i||"power1.inOut",a,u;if(Tn(t))u=n[e]||(n[e]=[]),t.forEach(function(c,f){return u.push({t:f/(t.length-1)*100,v:c,e:s})});else for(a in t)u=n[a]||(n[a]=[]),a==="ease"||u.push({t:parseFloat(e),v:t[a],e:s})},Vf=function(e,t,n,i,s){return mr(e)?e.call(t,n,i,s):Qr(e)&&~e.indexOf("random(")?ep(e):e},mP=Vx+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",gP={};hi(mP+",id,stagger,delay,duration,paused,scrollTrigger",function(r){return gP[r]=1});var Ir=function(r){OC(e,r);function e(n,i,s,a){var u;typeof i=="number"&&(s.duration=i,i=s,s=null),u=r.call(this,a?i:Uf(i))||this;var c=u.vars,f=c.duration,m=c.delay,g=c.immediateRender,v=c.stagger,x=c.overwrite,S=c.keyframes,b=c.defaults,E=c.scrollTrigger,P=c.yoyoEase,k=i.parent||nr,R=(Tn(n)||FC(n)?wa(n[0]):"length"in i)?[n]:rs(n),L,D,H,N,G,X,re,me;if(u._targets=R.length?Gx(R):Zf("GSAP target "+n+" not found. https://gsap.com",!Di.nullTargetWarn)||[],u._ptLookup=[],u._overwrite=x,S||v||Bm(f)||Bm(m)){if(i=u.vars,L=u.timeline=new Fn({data:"nested",defaults:b||{},targets:k&&k.data==="nested"?k.vars.targets:R}),L.kill(),L.parent=L._dp=la(u),L._start=0,v||Bm(f)||Bm(m)){if(N=R.length,re=v&&eP(v),Io(v))for(G in v)~mP.indexOf(G)&&(me||(me={}),me[G]=v[G]);for(D=0;D<N;D++)H=Ag(i,gP),H.stagger=0,P&&(H.yoyoEase=P),me&&Qc(H,me),X=R[D],H.duration=+Vf(f,la(u),D,X,R),H.delay=(+Vf(m,la(u),D,X,R)||0)-u._delay,!v&&N===1&&H.delay&&(u._delay=m=H.delay,u._start+=m,H.delay=0),L.to(X,H,re?re(D,X,R):0),L._ease=xt.none;L.duration()?f=m=0:u.timeline=0}else if(S){Uf(Fi(L.vars.defaults,{ease:"none"})),L._ease=fh(S.ease||i.ease||"none");var q=0,Z,le,xe;if(Tn(S))S.forEach(function(U){return L.to(R,U,">")}),L.duration();else{H={};for(G in S)G==="ease"||G==="easeEach"||NB(G,S[G],H,S.easeEach);for(G in H)for(Z=H[G].sort(function(U,z){return U.t-z.t}),q=0,D=0;D<Z.length;D++)le=Z[D],xe={ease:le.e,duration:(le.t-(D?Z[D-1].t:0))/100*f},xe[G]=le.v,L.to(R,xe,q),q+=xe.duration;L.duration()<f&&L.to({},{duration:f-L.duration()})}}f||u.duration(f=L.duration())}else u.timeline=0;return x===!0&&!Nx&&(Pl=la(u),nr.killTweensOf(R),Pl=0),vo(k,la(u),s),i.reversed&&u.reverse(),i.paused&&u.paused(!0),(g||!f&&!S&&u._start===Mr(k._time)&&ui(g)&&dB(la(u))&&k.data!=="nested")&&(u._tTime=-1e-8,u.render(Math.max(0,-m)||0)),E&&KC(la(u),E),u}var t=e.prototype;return t.render=function(i,s,a){var u=this._time,c=this._tDur,f=this._dur,m=i<0,g=i>c-Sn&&!m?c:i<Sn?0:i,v,x,S,b,E,P,k,R,L;if(!f)pB(this,i,s,a);else if(g!==this._tTime||!i||a||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==m||this._lazy){if(v=g,R=this.timeline,this._repeat){if(b=f+this._rDelay,this._repeat<-1&&m)return this.totalTime(b*100+i,s,a);if(v=Mr(g%b),g===c?(S=this._repeat,v=f):(E=Mr(g/b),S=~~E,S&&S===E?(v=f,S--):v>f&&(v=f)),P=this._yoyo&&S&1,P&&(L=this._yEase,v=f-v),E=Zc(this._tTime,b),v===u&&!a&&this._initted&&S===E)return this._tTime=g,this;S!==E&&(R&&this._yEase&&cP(R,P),this.vars.repeatRefresh&&!P&&!this._lock&&v!==b&&this._initted&&(this._lock=a=1,this.render(Mr(b*S),!0).invalidate()._lock=0))}if(!this._initted){if(QC(this,m?i:v,a,s,g))return this._tTime=0,this;if(u!==this._time&&!(a&&this.vars.repeatRefresh&&S!==E))return this;if(f!==this._dur)return this.render(i,s,a)}if(this._tTime=g,this._time=v,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=k=(L||this._ease)(v/f),this._from&&(this.ratio=k=1-k),v&&!u&&!s&&!S&&(ki(this,"onStart"),this._tTime!==g))return this;for(x=this._pt;x;)x.r(k,x.d),x=x._next;R&&R.render(i<0?i:R._dur*R._ease(v/this._dur),s,a)||this._startAt&&(this._zTime=i),this._onUpdate&&!s&&(m&&G_(this,i,s,a),ki(this,"onUpdate")),this._repeat&&S!==E&&this.vars.onRepeat&&!s&&this.parent&&ki(this,"onRepeat"),(g===this._tDur||!g)&&this._tTime===g&&(m&&!this._onUpdate&&G_(this,i,!0,!0),(i||!f)&&(g===this._tDur&&this._ts>0||!g&&this._ts<0)&&Ll(this,1),!s&&!(m&&!u)&&(g||u||P)&&(ki(this,g===c?"onComplete":"onReverseComplete",!0),this._prom&&!(g<c&&this.timeScale()>0)&&this._prom()))}return this},t.targets=function(){return this._targets},t.invalidate=function(i){return(!i||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(i),r.prototype.invalidate.call(this,i)},t.resetTo=function(i,s,a,u,c){tp||Ii.wake(),this._ts||this.play();var f=Math.min(this._dur,(this._dp._time-this._start)*this._ts),m;return this._initted||Hx(this,f),m=this._ease(f/this._dur),DB(this,i,s,a,u,m,f,c)?this.resetTo(i,s,a,u,1):(ry(this,0),this.parent||YC(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},t.kill=function(i,s){if(s===void 0&&(s="all"),!i&&(!s||s==="all"))return this._lazy=this._pt=0,this.parent?kf(this):this.scrollTrigger&&this.scrollTrigger.kill(!!ln),this;if(this.timeline){var a=this.timeline.totalDuration();return this.timeline.killTweensOf(i,s,Pl&&Pl.vars.overwrite!==!0)._first||kf(this),this.parent&&a!==this.timeline.totalDuration()&&Jc(this,this._dur*this.timeline._tDur/a,0,1),this}var u=this._targets,c=i?rs(i):u,f=this._ptLookup,m=this._pt,g,v,x,S,b,E,P;if((!s||s==="all")&&hB(u,c))return s==="all"&&(this._pt=0),kf(this);for(g=this._op=this._op||[],s!=="all"&&(Qr(s)&&(b={},hi(s,function(k){return b[k]=1}),s=b),s=OB(u,s)),P=u.length;P--;)if(~c.indexOf(u[P])){v=f[P],s==="all"?(g[P]=s,S=v,x={}):(x=g[P]=g[P]||{},S=s);for(b in S)E=v&&v[b],E&&((!("kill"in E.d)||E.d.kill(b)===!0)&&ey(this,E,"_pt"),delete v[b]),x!=="all"&&(x[b]=1)}return this._initted&&!this._pt&&m&&kf(this),this},e.to=function(i,s){return new e(i,s,arguments[2])},e.from=function(i,s){return zf(1,arguments)},e.delayedCall=function(i,s,a,u){return new e(s,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:i,onComplete:s,onReverseComplete:s,onCompleteParams:a,onReverseCompleteParams:a,callbackScope:u})},e.fromTo=function(i,s,a){return zf(2,arguments)},e.set=function(i,s){return s.duration=0,s.repeatDelay||(s.repeat=0),new e(i,s)},e.killTweensOf=function(i,s,a){return nr.killTweensOf(i,s,a)},e}(rp);Fi(Ir.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});hi("staggerTo,staggerFrom,staggerFromTo",function(r){Ir[r]=function(){var e=new Fn,t=H_.call(arguments,0);return t.splice(r==="staggerFromTo"?5:4,0,0),e[r].apply(e,t)}});var $x=function(e,t,n){return e[t]=n},yP=function(e,t,n){return e[t](n)},FB=function(e,t,n,i){return e[t](i.fp,n)},LB=function(e,t,n){return e.setAttribute(t,n)},Wx=function(e,t){return mr(e[t])?yP:Fx(e[t])&&e.setAttribute?LB:$x},vP=function(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e6)/1e6,t)},BB=function(e,t){return t.set(t.t,t.p,!!(t.s+t.c*e),t)},_P=function(e,t){var n=t._pt,i="";if(!e&&t.b)i=t.b;else if(e===1&&t.e)i=t.e;else{for(;n;)i=n.p+(n.m?n.m(n.s+n.c*e):Math.round((n.s+n.c*e)*1e4)/1e4)+i,n=n._next;i+=t.c}t.set(t.t,t.p,i,t)},Xx=function(e,t){for(var n=t._pt;n;)n.r(e,n.d),n=n._next},UB=function(e,t,n,i){for(var s=this._pt,a;s;)a=s._next,s.p===i&&s.modifier(e,t,n),s=a},zB=function(e){for(var t=this._pt,n,i;t;)i=t._next,t.p===e&&!t.op||t.op===e?ey(this,t,"_pt"):t.dep||(n=1),t=i;return!n},VB=function(e,t,n,i){i.mSet(e,t,i.m.call(i.tween,n,i.mt),i)},xP=function(e){for(var t=e._pt,n,i,s,a;t;){for(n=t._next,i=s;i&&i.pr>t.pr;)i=i._next;(t._prev=i?i._prev:a)?t._prev._next=t:s=t,(t._next=i)?i._prev=t:a=t,t=n}e._pt=s},ci=function(){function r(t,n,i,s,a,u,c,f,m){this.t=n,this.s=s,this.c=a,this.p=i,this.r=u||vP,this.d=c||this,this.set=f||$x,this.pr=m||0,this._next=t,t&&(t._prev=this)}var e=r.prototype;return e.modifier=function(n,i,s){this.mSet=this.mSet||this.set,this.set=VB,this.m=n,this.mt=s,this.tween=i},r}();hi(Vx+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(r){return zx[r]=1});Ni.TweenMax=Ni.TweenLite=Ir;Ni.TimelineLite=Ni.TimelineMax=Fn;nr=new Fn({sortChildren:!1,defaults:Kc,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});Di.stringFilter=uP;var ph=[],tg={},GB=[],eT=0,jB=0,k0=function(e){return(tg[e]||GB).map(function(t){return t()})},Y_=function(){var e=Date.now(),t=[];e-eT>2&&(k0("matchMediaInit"),ph.forEach(function(n){var i=n.queries,s=n.conditions,a,u,c,f;for(u in i)a=go.matchMedia(i[u]).matches,a&&(c=1),a!==s[u]&&(s[u]=a,f=1);f&&(n.revert(),c&&t.push(n))}),k0("matchMediaRevert"),t.forEach(function(n){return n.onMatch(n,function(i){return n.add(null,i)})}),eT=e,k0("matchMedia"))},wP=function(){function r(t,n){this.selector=n&&$_(n),this.data=[],this._r=[],this.isReverted=!1,this.id=jB++,t&&this.add(t)}var e=r.prototype;return e.add=function(n,i,s){mr(n)&&(s=i,i=n,n=mr);var a=this,u=function(){var f=Qt,m=a.selector,g;return f&&f!==a&&f.data.push(a),s&&(a.selector=$_(s)),Qt=a,g=i.apply(a,arguments),mr(g)&&a._r.push(g),Qt=f,a.selector=m,a.isReverted=!1,g};return a.last=u,n===mr?u(a,function(c){return a.add(null,c)}):n?a[n]=u:u},e.ignore=function(n){var i=Qt;Qt=null,n(this),Qt=i},e.getTweens=function(){var n=[];return this.data.forEach(function(i){return i instanceof r?n.push.apply(n,i.getTweens()):i instanceof Ir&&!(i.parent&&i.parent.data==="nested")&&n.push(i)}),n},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(n,i){var s=this;if(n?function(){for(var u=s.getTweens(),c=s.data.length,f;c--;)f=s.data[c],f.data==="isFlip"&&(f.revert(),f.getChildren(!0,!0,!1).forEach(function(m){return u.splice(u.indexOf(m),1)}));for(u.map(function(m){return{g:m._dur||m._delay||m._sat&&!m._sat.vars.immediateRender?m.globalTime(0):-1/0,t:m}}).sort(function(m,g){return g.g-m.g||-1/0}).forEach(function(m){return m.t.revert(n)}),c=s.data.length;c--;)f=s.data[c],f instanceof Fn?f.data!=="nested"&&(f.scrollTrigger&&f.scrollTrigger.revert(),f.kill()):!(f instanceof Ir)&&f.revert&&f.revert(n);s._r.forEach(function(m){return m(n,s)}),s.isReverted=!0}():this.data.forEach(function(u){return u.kill&&u.kill()}),this.clear(),i)for(var a=ph.length;a--;)ph[a].id===this.id&&ph.splice(a,1)},e.revert=function(n){this.kill(n||{})},r}(),HB=function(){function r(t){this.contexts=[],this.scope=t,Qt&&Qt.data.push(this)}var e=r.prototype;return e.add=function(n,i,s){Io(n)||(n={matches:n});var a=new wP(0,s||this.scope),u=a.conditions={},c,f,m;Qt&&!a.selector&&(a.selector=Qt.selector),this.contexts.push(a),i=a.add("onMatch",i),a.queries=n;for(f in n)f==="all"?m=1:(c=go.matchMedia(n[f]),c&&(ph.indexOf(a)<0&&ph.push(a),(u[f]=c.matches)&&(m=1),c.addListener?c.addListener(Y_):c.addEventListener("change",Y_)));return m&&i(a,function(g){return a.add(null,g)}),this},e.revert=function(n){this.kill(n||{})},e.kill=function(n){this.contexts.forEach(function(i){return i.kill(n,!0)})},r}(),Pg={registerPlugin:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t.forEach(function(i){return oP(i)})},timeline:function(e){return new Fn(e)},getTweensOf:function(e,t){return nr.getTweensOf(e,t)},getProperty:function(e,t,n,i){Qr(e)&&(e=rs(e)[0]);var s=ch(e||{}).get,a=n?XC:WC;return n==="native"&&(n=""),e&&(t?a((Ri[t]&&Ri[t].get||s)(e,t,n,i)):function(u,c,f){return a((Ri[u]&&Ri[u].get||s)(e,u,c,f))})},quickSetter:function(e,t,n){if(e=rs(e),e.length>1){var i=e.map(function(m){return fi.quickSetter(m,t,n)}),s=i.length;return function(m){for(var g=s;g--;)i[g](m)}}e=e[0]||{};var a=Ri[t],u=ch(e),c=u.harness&&(u.harness.aliases||{})[t]||t,f=a?function(m){var g=new a;Oc._pt=0,g.init(e,n?m+n:m,Oc,0,[e]),g.render(1,g),Oc._pt&&Xx(1,Oc)}:u.set(e,c);return a?f:function(m){return f(e,c,n?m+n:m,u,1)}},quickTo:function(e,t,n){var i,s=fi.to(e,Fi((i={},i[t]="+=0.1",i.paused=!0,i.stagger=0,i),n||{})),a=function(c,f,m){return s.resetTo(t,c,f,m)};return a.tween=s,a},isTweening:function(e){return nr.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=fh(e.ease,Kc.ease)),qb(Kc,e||{})},config:function(e){return qb(Di,e||{})},registerEffect:function(e){var t=e.name,n=e.effect,i=e.plugins,s=e.defaults,a=e.extendTimeline;(i||"").split(",").forEach(function(u){return u&&!Ri[u]&&!Ni[u]&&Zf(t+" effect requires "+u+" plugin.")}),C0[t]=function(u,c,f){return n(rs(u),Fi(c||{},s),f)},a&&(Fn.prototype[t]=function(u,c,f){return this.add(C0[t](u,Io(c)?c:(f=c)&&{},this),f)})},registerEase:function(e,t){xt[e]=fh(t)},parseEase:function(e,t){return arguments.length?fh(e,t):xt},getById:function(e){return nr.getById(e)},exportRoot:function(e,t){e===void 0&&(e={});var n=new Fn(e),i,s;for(n.smoothChildTiming=ui(e.smoothChildTiming),nr.remove(n),n._dp=0,n._time=n._tTime=nr._time,i=nr._first;i;)s=i._next,(t||!(!i._dur&&i instanceof Ir&&i.vars.onComplete===i._targets[0]))&&vo(n,i,i._start-i._delay),i=s;return vo(nr,n,0),n},context:function(e,t){return e?new wP(e,t):Qt},matchMedia:function(e){return new HB(e)},matchMediaRefresh:function(){return ph.forEach(function(e){var t=e.conditions,n,i;for(i in t)t[i]&&(t[i]=!1,n=1);n&&e.revert()})||Y_()},addEventListener:function(e,t){var n=tg[e]||(tg[e]=[]);~n.indexOf(t)||n.push(t)},removeEventListener:function(e,t){var n=tg[e],i=n&&n.indexOf(t);i>=0&&n.splice(i,1)},utils:{wrap:SB,wrapYoyo:bB,distribute:eP,random:rP,snap:tP,normalize:wB,getUnit:wn,clamp:yB,splitColor:aP,toArray:rs,selector:$_,mapRange:iP,pipe:_B,unitize:xB,interpolate:TB,shuffle:JC},install:VC,effects:C0,ticker:Ii,updateRoot:Fn.updateRoot,plugins:Ri,globalTimeline:nr,core:{PropTween:ci,globals:GC,Tween:Ir,Timeline:Fn,Animation:rp,getCache:ch,_removeLinkedListItem:ey,reverting:function(){return ln},context:function(e){return e&&Qt&&(Qt.data.push(e),e._ctx=Qt),Qt},suppressOverwrites:function(e){return Nx=e}}};hi("to,from,fromTo,delayedCall,set,killTweensOf",function(r){return Pg[r]=Ir[r]});Ii.add(Fn.updateRoot);Oc=Pg.to({},{duration:0});var $B=function(e,t){for(var n=e._pt;n&&n.p!==t&&n.op!==t&&n.fp!==t;)n=n._next;return n},WB=function(e,t){var n=e._targets,i,s,a;for(i in t)for(s=n.length;s--;)a=e._ptLookup[s][i],a&&(a=a.d)&&(a._pt&&(a=$B(a,i)),a&&a.modifier&&a.modifier(t[i],e,n[s],i))},M0=function(e,t){return{name:e,rawVars:1,init:function(i,s,a){a._onInit=function(u){var c,f;if(Qr(s)&&(c={},hi(s,function(m){return c[m]=1}),s=c),t){c={};for(f in s)c[f]=t(s[f]);s=c}WB(u,s)}}}},fi=Pg.registerPlugin({name:"attr",init:function(e,t,n,i,s){var a,u,c;this.tween=n;for(a in t)c=e.getAttribute(a)||"",u=this.add(e,"setAttribute",(c||0)+"",t[a],i,s,0,0,a),u.op=a,u.b=c,this._props.push(a)},render:function(e,t){for(var n=t._pt;n;)ln?n.set(n.t,n.p,n.b,n):n.r(e,n.d),n=n._next}},{name:"endArray",init:function(e,t){for(var n=t.length;n--;)this.add(e,n,e[n]||0,t[n],0,0,0,0,0,1)}},M0("roundProps",W_),M0("modifiers"),M0("snap",tP))||Pg;Ir.version=Fn.version=fi.version="3.12.7";zC=1;Lx()&&ed();xt.Power0;xt.Power1;xt.Power2;xt.Power3;xt.Power4;xt.Linear;xt.Quad;xt.Cubic;xt.Quart;xt.Quint;xt.Strong;xt.Elastic;xt.Back;xt.SteppedEase;xt.Bounce;xt.Sine;xt.Expo;xt.Circ;/*!
 * CSSPlugin 3.12.7
 * https://gsap.com
 *
 * Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var tT,Rl,Xc,Yx,ah,rT,qx,XB=function(){return typeof window<"u"},Sa={},ih=180/Math.PI,Yc=Math.PI/180,bc=Math.atan2,nT=1e8,Kx=/([A-Z])/g,YB=/(left|right|width|margin|padding|x)/i,qB=/[\s,\(]\S/,xo={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},q_=function(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},KB=function(e,t){return t.set(t.t,t.p,e===1?t.e:Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},QB=function(e,t){return t.set(t.t,t.p,e?Math.round((t.s+t.c*e)*1e4)/1e4+t.u:t.b,t)},ZB=function(e,t){var n=t.s+t.c*e;t.set(t.t,t.p,~~(n+(n<0?-.5:.5))+t.u,t)},SP=function(e,t){return t.set(t.t,t.p,e?t.e:t.b,t)},bP=function(e,t){return t.set(t.t,t.p,e!==1?t.b:t.e,t)},JB=function(e,t,n){return e.style[t]=n},e3=function(e,t,n){return e.style.setProperty(t,n)},t3=function(e,t,n){return e._gsap[t]=n},r3=function(e,t,n){return e._gsap.scaleX=e._gsap.scaleY=n},n3=function(e,t,n,i,s){var a=e._gsap;a.scaleX=a.scaleY=n,a.renderTransform(s,a)},i3=function(e,t,n,i,s){var a=e._gsap;a[t]=n,a.renderTransform(s,a)},ir="transform",di=ir+"Origin",s3=function r(e,t){var n=this,i=this.target,s=i.style,a=i._gsap;if(e in Sa&&s){if(this.tfm=this.tfm||{},e!=="transform")e=xo[e]||e,~e.indexOf(",")?e.split(",").forEach(function(u){return n.tfm[u]=ua(i,u)}):this.tfm[e]=a.x?a[e]:ua(i,e),e===di&&(this.tfm.zOrigin=a.zOrigin);else return xo.transform.split(",").forEach(function(u){return r.call(n,u,t)});if(this.props.indexOf(ir)>=0)return;a.svg&&(this.svgo=i.getAttribute("data-svg-origin"),this.props.push(di,t,"")),e=ir}(s||t)&&this.props.push(e,t,s[e])},TP=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},o3=function(){var e=this.props,t=this.target,n=t.style,i=t._gsap,s,a;for(s=0;s<e.length;s+=3)e[s+1]?e[s+1]===2?t[e[s]](e[s+2]):t[e[s]]=e[s+2]:e[s+2]?n[e[s]]=e[s+2]:n.removeProperty(e[s].substr(0,2)==="--"?e[s]:e[s].replace(Kx,"-$1").toLowerCase());if(this.tfm){for(a in this.tfm)i[a]=this.tfm[a];i.svg&&(i.renderTransform(),t.setAttribute("data-svg-origin",this.svgo||"")),s=qx(),(!s||!s.isStart)&&!n[ir]&&(TP(n),i.zOrigin&&n[di]&&(n[di]+=" "+i.zOrigin+"px",i.zOrigin=0,i.renderTransform()),i.uncache=1)}},EP=function(e,t){var n={target:e,props:[],revert:o3,save:s3};return e._gsap||fi.core.getCache(e),t&&e.style&&e.nodeType&&t.split(",").forEach(function(i){return n.save(i)}),n},AP,K_=function(e,t){var n=Rl.createElementNS?Rl.createElementNS((t||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):Rl.createElement(e);return n&&n.style?n:Rl.createElement(e)},To=function r(e,t,n){var i=getComputedStyle(e);return i[t]||i.getPropertyValue(t.replace(Kx,"-$1").toLowerCase())||i.getPropertyValue(t)||!n&&r(e,td(t)||t,1)||""},iT="O,Moz,ms,Ms,Webkit".split(","),td=function(e,t,n){var i=t||ah,s=i.style,a=5;if(e in s&&!n)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);a--&&!(iT[a]+e in s););return a<0?null:(a===3?"ms":a>=0?iT[a]:"")+e},Q_=function(){XB()&&window.document&&(tT=window,Rl=tT.document,Xc=Rl.documentElement,ah=K_("div")||{style:{}},K_("div"),ir=td(ir),di=ir+"Origin",ah.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",AP=!!td("perspective"),qx=fi.core.reverting,Yx=1)},sT=function(e){var t=e.ownerSVGElement,n=K_("svg",t&&t.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),i=e.cloneNode(!0),s;i.style.display="block",n.appendChild(i),Xc.appendChild(n);try{s=i.getBBox()}catch{}return n.removeChild(i),Xc.removeChild(n),s},oT=function(e,t){for(var n=t.length;n--;)if(e.hasAttribute(t[n]))return e.getAttribute(t[n])},CP=function(e){var t,n;try{t=e.getBBox()}catch{t=sT(e),n=1}return t&&(t.width||t.height)||n||(t=sT(e)),t&&!t.width&&!t.x&&!t.y?{x:+oT(e,["x","cx","x1"])||0,y:+oT(e,["y","cy","y1"])||0,width:0,height:0}:t},PP=function(e){return!!(e.getCTM&&(!e.parentNode||e.ownerSVGElement)&&CP(e))},yh=function(e,t){if(t){var n=e.style,i;t in Sa&&t!==di&&(t=ir),n.removeProperty?(i=t.substr(0,2),(i==="ms"||t.substr(0,6)==="webkit")&&(t="-"+t),n.removeProperty(i==="--"?t:t.replace(Kx,"-$1").toLowerCase())):n.removeAttribute(t)}},Il=function(e,t,n,i,s,a){var u=new ci(e._pt,t,n,0,1,a?bP:SP);return e._pt=u,u.b=i,u.e=s,e._props.push(n),u},aT={deg:1,rad:1,turn:1},a3={grid:1,flex:1},Bl=function r(e,t,n,i){var s=parseFloat(n)||0,a=(n+"").trim().substr((s+"").length)||"px",u=ah.style,c=YB.test(t),f=e.tagName.toLowerCase()==="svg",m=(f?"client":"offset")+(c?"Width":"Height"),g=100,v=i==="px",x=i==="%",S,b,E,P;if(i===a||!s||aT[i]||aT[a])return s;if(a!=="px"&&!v&&(s=r(e,t,n,"px")),P=e.getCTM&&PP(e),(x||a==="%")&&(Sa[t]||~t.indexOf("adius")))return S=P?e.getBBox()[c?"width":"height"]:e[m],Tr(x?s/S*g:s/100*S);if(u[c?"width":"height"]=g+(v?a:i),b=i!=="rem"&&~t.indexOf("adius")||i==="em"&&e.appendChild&&!f?e:e.parentNode,P&&(b=(e.ownerSVGElement||{}).parentNode),(!b||b===Rl||!b.appendChild)&&(b=Rl.body),E=b._gsap,E&&x&&E.width&&c&&E.time===Ii.time&&!E.uncache)return Tr(s/E.width*g);if(x&&(t==="height"||t==="width")){var k=e.style[t];e.style[t]=g+i,S=e[m],k?e.style[t]=k:yh(e,t)}else(x||a==="%")&&!a3[To(b,"display")]&&(u.position=To(e,"position")),b===e&&(u.position="static"),b.appendChild(ah),S=ah[m],b.removeChild(ah),u.position="absolute";return c&&x&&(E=ch(b),E.time=Ii.time,E.width=b[m]),Tr(v?S*s/g:S&&s?g/S*s:0)},ua=function(e,t,n,i){var s;return Yx||Q_(),t in xo&&t!=="transform"&&(t=xo[t],~t.indexOf(",")&&(t=t.split(",")[0])),Sa[t]&&t!=="transform"?(s=ip(e,i),s=t!=="transformOrigin"?s[t]:s.svg?s.origin:Ig(To(e,di))+" "+s.zOrigin+"px"):(s=e.style[t],(!s||s==="auto"||i||~(s+"").indexOf("calc("))&&(s=Rg[t]&&Rg[t](e,t,n)||To(e,t)||HC(e,t)||(t==="opacity"?1:0))),n&&!~(s+"").trim().indexOf(" ")?Bl(e,t,s,n)+n:s},l3=function(e,t,n,i){if(!n||n==="none"){var s=td(t,e,1),a=s&&To(e,s,1);a&&a!==n?(t=s,n=a):t==="borderColor"&&(n=To(e,"borderTopColor"))}var u=new ci(this._pt,e.style,t,0,1,_P),c=0,f=0,m,g,v,x,S,b,E,P,k,R,L,D;if(u.b=n,u.e=i,n+="",i+="",i==="auto"&&(b=e.style[t],e.style[t]=i,i=To(e,t)||i,b?e.style[t]=b:yh(e,t)),m=[n,i],uP(m),n=m[0],i=m[1],v=n.match(Dc)||[],D=i.match(Dc)||[],D.length){for(;g=Dc.exec(i);)E=g[0],k=i.substring(c,g.index),S?S=(S+1)%5:(k.substr(-5)==="rgba("||k.substr(-5)==="hsla(")&&(S=1),E!==(b=v[f++]||"")&&(x=parseFloat(b)||0,L=b.substr((x+"").length),E.charAt(1)==="="&&(E=Wc(x,E)+L),P=parseFloat(E),R=E.substr((P+"").length),c=Dc.lastIndex-R.length,R||(R=R||Di.units[t]||L,c===i.length&&(i+=R,u.e+=R)),L!==R&&(x=Bl(e,t,b,R)||0),u._pt={_next:u._pt,p:k||f===1?k:",",s:x,c:P-x,m:S&&S<4||t==="zIndex"?Math.round:0});u.c=c<i.length?i.substring(c,i.length):""}else u.r=t==="display"&&i==="none"?bP:SP;return BC.test(i)&&(u.e=0),this._pt=u,u},lT={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},u3=function(e){var t=e.split(" "),n=t[0],i=t[1]||"50%";return(n==="top"||n==="bottom"||i==="left"||i==="right")&&(e=n,n=i,i=e),t[0]=lT[n]||n,t[1]=lT[i]||i,t.join(" ")},h3=function(e,t){if(t.tween&&t.tween._time===t.tween._dur){var n=t.t,i=n.style,s=t.u,a=n._gsap,u,c,f;if(s==="all"||s===!0)i.cssText="",c=1;else for(s=s.split(","),f=s.length;--f>-1;)u=s[f],Sa[u]&&(c=1,u=u==="transformOrigin"?di:ir),yh(n,u);c&&(yh(n,ir),a&&(a.svg&&n.removeAttribute("transform"),i.scale=i.rotate=i.translate="none",ip(n,1),a.uncache=1,TP(i)))}},Rg={clearProps:function(e,t,n,i,s){if(s.data!=="isFromStart"){var a=e._pt=new ci(e._pt,t,n,0,0,h3);return a.u=i,a.pr=-10,a.tween=s,e._props.push(n),1}}},np=[1,0,0,1,0,0],RP={},IP=function(e){return e==="matrix(1, 0, 0, 1, 0, 0)"||e==="none"||!e},uT=function(e){var t=To(e,ir);return IP(t)?np:t.substr(7).match(LC).map(Tr)},Qx=function(e,t){var n=e._gsap||ch(e),i=e.style,s=uT(e),a,u,c,f;return n.svg&&e.getAttribute("transform")?(c=e.transform.baseVal.consolidate().matrix,s=[c.a,c.b,c.c,c.d,c.e,c.f],s.join(",")==="1,0,0,1,0,0"?np:s):(s===np&&!e.offsetParent&&e!==Xc&&!n.svg&&(c=i.display,i.display="block",a=e.parentNode,(!a||!e.offsetParent&&!e.getBoundingClientRect().width)&&(f=1,u=e.nextElementSibling,Xc.appendChild(e)),s=uT(e),c?i.display=c:yh(e,"display"),f&&(u?a.insertBefore(e,u):a?a.appendChild(e):Xc.removeChild(e))),t&&s.length>6?[s[0],s[1],s[4],s[5],s[12],s[13]]:s)},Z_=function(e,t,n,i,s,a){var u=e._gsap,c=s||Qx(e,!0),f=u.xOrigin||0,m=u.yOrigin||0,g=u.xOffset||0,v=u.yOffset||0,x=c[0],S=c[1],b=c[2],E=c[3],P=c[4],k=c[5],R=t.split(" "),L=parseFloat(R[0])||0,D=parseFloat(R[1])||0,H,N,G,X;n?c!==np&&(N=x*E-S*b)&&(G=L*(E/N)+D*(-b/N)+(b*k-E*P)/N,X=L*(-S/N)+D*(x/N)-(x*k-S*P)/N,L=G,D=X):(H=CP(e),L=H.x+(~R[0].indexOf("%")?L/100*H.width:L),D=H.y+(~(R[1]||R[0]).indexOf("%")?D/100*H.height:D)),i||i!==!1&&u.smooth?(P=L-f,k=D-m,u.xOffset=g+(P*x+k*b)-P,u.yOffset=v+(P*S+k*E)-k):u.xOffset=u.yOffset=0,u.xOrigin=L,u.yOrigin=D,u.smooth=!!i,u.origin=t,u.originIsAbsolute=!!n,e.style[di]="0px 0px",a&&(Il(a,u,"xOrigin",f,L),Il(a,u,"yOrigin",m,D),Il(a,u,"xOffset",g,u.xOffset),Il(a,u,"yOffset",v,u.yOffset)),e.setAttribute("data-svg-origin",L+" "+D)},ip=function(e,t){var n=e._gsap||new fP(e);if("x"in n&&!t&&!n.uncache)return n;var i=e.style,s=n.scaleX<0,a="px",u="deg",c=getComputedStyle(e),f=To(e,di)||"0",m,g,v,x,S,b,E,P,k,R,L,D,H,N,G,X,re,me,q,Z,le,xe,U,z,M,$,B,O,j,Q,ie,de;return m=g=v=b=E=P=k=R=L=0,x=S=1,n.svg=!!(e.getCTM&&PP(e)),c.translate&&((c.translate!=="none"||c.scale!=="none"||c.rotate!=="none")&&(i[ir]=(c.translate!=="none"?"translate3d("+(c.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(c.rotate!=="none"?"rotate("+c.rotate+") ":"")+(c.scale!=="none"?"scale("+c.scale.split(" ").join(",")+") ":"")+(c[ir]!=="none"?c[ir]:"")),i.scale=i.rotate=i.translate="none"),N=Qx(e,n.svg),n.svg&&(n.uncache?(M=e.getBBox(),f=n.xOrigin-M.x+"px "+(n.yOrigin-M.y)+"px",z=""):z=!t&&e.getAttribute("data-svg-origin"),Z_(e,z||f,!!z||n.originIsAbsolute,n.smooth!==!1,N)),D=n.xOrigin||0,H=n.yOrigin||0,N!==np&&(me=N[0],q=N[1],Z=N[2],le=N[3],m=xe=N[4],g=U=N[5],N.length===6?(x=Math.sqrt(me*me+q*q),S=Math.sqrt(le*le+Z*Z),b=me||q?bc(q,me)*ih:0,k=Z||le?bc(Z,le)*ih+b:0,k&&(S*=Math.abs(Math.cos(k*Yc))),n.svg&&(m-=D-(D*me+H*Z),g-=H-(D*q+H*le))):(de=N[6],Q=N[7],B=N[8],O=N[9],j=N[10],ie=N[11],m=N[12],g=N[13],v=N[14],G=bc(de,j),E=G*ih,G&&(X=Math.cos(-G),re=Math.sin(-G),z=xe*X+B*re,M=U*X+O*re,$=de*X+j*re,B=xe*-re+B*X,O=U*-re+O*X,j=de*-re+j*X,ie=Q*-re+ie*X,xe=z,U=M,de=$),G=bc(-Z,j),P=G*ih,G&&(X=Math.cos(-G),re=Math.sin(-G),z=me*X-B*re,M=q*X-O*re,$=Z*X-j*re,ie=le*re+ie*X,me=z,q=M,Z=$),G=bc(q,me),b=G*ih,G&&(X=Math.cos(G),re=Math.sin(G),z=me*X+q*re,M=xe*X+U*re,q=q*X-me*re,U=U*X-xe*re,me=z,xe=M),E&&Math.abs(E)+Math.abs(b)>359.9&&(E=b=0,P=180-P),x=Tr(Math.sqrt(me*me+q*q+Z*Z)),S=Tr(Math.sqrt(U*U+de*de)),G=bc(xe,U),k=Math.abs(G)>2e-4?G*ih:0,L=ie?1/(ie<0?-ie:ie):0),n.svg&&(z=e.getAttribute("transform"),n.forceCSS=e.setAttribute("transform","")||!IP(To(e,ir)),z&&e.setAttribute("transform",z))),Math.abs(k)>90&&Math.abs(k)<270&&(s?(x*=-1,k+=b<=0?180:-180,b+=b<=0?180:-180):(S*=-1,k+=k<=0?180:-180)),t=t||n.uncache,n.x=m-((n.xPercent=m&&(!t&&n.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-m)?-50:0)))?e.offsetWidth*n.xPercent/100:0)+a,n.y=g-((n.yPercent=g&&(!t&&n.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-g)?-50:0)))?e.offsetHeight*n.yPercent/100:0)+a,n.z=v+a,n.scaleX=Tr(x),n.scaleY=Tr(S),n.rotation=Tr(b)+u,n.rotationX=Tr(E)+u,n.rotationY=Tr(P)+u,n.skewX=k+u,n.skewY=R+u,n.transformPerspective=L+a,(n.zOrigin=parseFloat(f.split(" ")[2])||!t&&n.zOrigin||0)&&(i[di]=Ig(f)),n.xOffset=n.yOffset=0,n.force3D=Di.force3D,n.renderTransform=n.svg?d3:AP?kP:c3,n.uncache=0,n},Ig=function(e){return(e=e.split(" "))[0]+" "+e[1]},D0=function(e,t,n){var i=wn(t);return Tr(parseFloat(t)+parseFloat(Bl(e,"x",n+"px",i)))+i},c3=function(e,t){t.z="0px",t.rotationY=t.rotationX="0deg",t.force3D=0,kP(e,t)},Yu="0deg",_f="0px",qu=") ",kP=function(e,t){var n=t||this,i=n.xPercent,s=n.yPercent,a=n.x,u=n.y,c=n.z,f=n.rotation,m=n.rotationY,g=n.rotationX,v=n.skewX,x=n.skewY,S=n.scaleX,b=n.scaleY,E=n.transformPerspective,P=n.force3D,k=n.target,R=n.zOrigin,L="",D=P==="auto"&&e&&e!==1||P===!0;if(R&&(g!==Yu||m!==Yu)){var H=parseFloat(m)*Yc,N=Math.sin(H),G=Math.cos(H),X;H=parseFloat(g)*Yc,X=Math.cos(H),a=D0(k,a,N*X*-R),u=D0(k,u,-Math.sin(H)*-R),c=D0(k,c,G*X*-R+R)}E!==_f&&(L+="perspective("+E+qu),(i||s)&&(L+="translate("+i+"%, "+s+"%) "),(D||a!==_f||u!==_f||c!==_f)&&(L+=c!==_f||D?"translate3d("+a+", "+u+", "+c+") ":"translate("+a+", "+u+qu),f!==Yu&&(L+="rotate("+f+qu),m!==Yu&&(L+="rotateY("+m+qu),g!==Yu&&(L+="rotateX("+g+qu),(v!==Yu||x!==Yu)&&(L+="skew("+v+", "+x+qu),(S!==1||b!==1)&&(L+="scale("+S+", "+b+qu),k.style[ir]=L||"translate(0, 0)"},d3=function(e,t){var n=t||this,i=n.xPercent,s=n.yPercent,a=n.x,u=n.y,c=n.rotation,f=n.skewX,m=n.skewY,g=n.scaleX,v=n.scaleY,x=n.target,S=n.xOrigin,b=n.yOrigin,E=n.xOffset,P=n.yOffset,k=n.forceCSS,R=parseFloat(a),L=parseFloat(u),D,H,N,G,X;c=parseFloat(c),f=parseFloat(f),m=parseFloat(m),m&&(m=parseFloat(m),f+=m,c+=m),c||f?(c*=Yc,f*=Yc,D=Math.cos(c)*g,H=Math.sin(c)*g,N=Math.sin(c-f)*-v,G=Math.cos(c-f)*v,f&&(m*=Yc,X=Math.tan(f-m),X=Math.sqrt(1+X*X),N*=X,G*=X,m&&(X=Math.tan(m),X=Math.sqrt(1+X*X),D*=X,H*=X)),D=Tr(D),H=Tr(H),N=Tr(N),G=Tr(G)):(D=g,G=v,H=N=0),(R&&!~(a+"").indexOf("px")||L&&!~(u+"").indexOf("px"))&&(R=Bl(x,"x",a,"px"),L=Bl(x,"y",u,"px")),(S||b||E||P)&&(R=Tr(R+S-(S*D+b*N)+E),L=Tr(L+b-(S*H+b*G)+P)),(i||s)&&(X=x.getBBox(),R=Tr(R+i/100*X.width),L=Tr(L+s/100*X.height)),X="matrix("+D+","+H+","+N+","+G+","+R+","+L+")",x.setAttribute("transform",X),k&&(x.style[ir]=X)},f3=function(e,t,n,i,s){var a=360,u=Qr(s),c=parseFloat(s)*(u&&~s.indexOf("rad")?ih:1),f=c-i,m=i+f+"deg",g,v;return u&&(g=s.split("_")[1],g==="short"&&(f%=a,f!==f%(a/2)&&(f+=f<0?a:-360)),g==="cw"&&f<0?f=(f+a*nT)%a-~~(f/a)*a:g==="ccw"&&f>0&&(f=(f-a*nT)%a-~~(f/a)*a)),e._pt=v=new ci(e._pt,t,n,i,f,KB),v.e=m,v.u="deg",e._props.push(n),v},hT=function(e,t){for(var n in t)e[n]=t[n];return e},p3=function(e,t,n){var i=hT({},n._gsap),s="perspective,force3D,transformOrigin,svgOrigin",a=n.style,u,c,f,m,g,v,x,S;i.svg?(f=n.getAttribute("transform"),n.setAttribute("transform",""),a[ir]=t,u=ip(n,1),yh(n,ir),n.setAttribute("transform",f)):(f=getComputedStyle(n)[ir],a[ir]=t,u=ip(n,1),a[ir]=f);for(c in Sa)f=i[c],m=u[c],f!==m&&s.indexOf(c)<0&&(x=wn(f),S=wn(m),g=x!==S?Bl(n,c,f,S):parseFloat(f),v=parseFloat(m),e._pt=new ci(e._pt,u,c,g,v-g,q_),e._pt.u=S||0,e._props.push(c));hT(u,i)};hi("padding,margin,Width,Radius",function(r,e){var t="Top",n="Right",i="Bottom",s="Left",a=(e<3?[t,n,i,s]:[t+s,t+n,i+n,i+s]).map(function(u){return e<2?r+u:"border"+u+r});Rg[e>1?"border"+r:r]=function(u,c,f,m,g){var v,x;if(arguments.length<4)return v=a.map(function(S){return ua(u,S,f)}),x=v.join(" "),x.split(v[0]).length===5?v[0]:x;v=(m+"").split(" "),x={},a.forEach(function(S,b){return x[S]=v[b]=v[b]||v[(b-1)/2|0]}),u.init(c,x,g)}});var MP={name:"css",register:Q_,targetTest:function(e){return e.style&&e.nodeType},init:function(e,t,n,i,s){var a=this._props,u=e.style,c=n.vars.startAt,f,m,g,v,x,S,b,E,P,k,R,L,D,H,N,G;Yx||Q_(),this.styles=this.styles||EP(e),G=this.styles.props,this.tween=n;for(b in t)if(b!=="autoRound"&&(m=t[b],!(Ri[b]&&pP(b,t,n,i,e,s)))){if(x=typeof m,S=Rg[b],x==="function"&&(m=m.call(n,i,e,s),x=typeof m),x==="string"&&~m.indexOf("random(")&&(m=ep(m)),S)S(this,e,b,m,n)&&(N=1);else if(b.substr(0,2)==="--")f=(getComputedStyle(e).getPropertyValue(b)+"").trim(),m+="",Dl.lastIndex=0,Dl.test(f)||(E=wn(f),P=wn(m)),P?E!==P&&(f=Bl(e,b,f,P)+P):E&&(m+=E),this.add(u,"setProperty",f,m,i,s,0,0,b),a.push(b),G.push(b,0,u[b]);else if(x!=="undefined"){if(c&&b in c?(f=typeof c[b]=="function"?c[b].call(n,i,e,s):c[b],Qr(f)&&~f.indexOf("random(")&&(f=ep(f)),wn(f+"")||f==="auto"||(f+=Di.units[b]||wn(ua(e,b))||""),(f+"").charAt(1)==="="&&(f=ua(e,b))):f=ua(e,b),v=parseFloat(f),k=x==="string"&&m.charAt(1)==="="&&m.substr(0,2),k&&(m=m.substr(2)),g=parseFloat(m),b in xo&&(b==="autoAlpha"&&(v===1&&ua(e,"visibility")==="hidden"&&g&&(v=0),G.push("visibility",0,u.visibility),Il(this,u,"visibility",v?"inherit":"hidden",g?"inherit":"hidden",!g)),b!=="scale"&&b!=="transform"&&(b=xo[b],~b.indexOf(",")&&(b=b.split(",")[0]))),R=b in Sa,R){if(this.styles.save(b),L||(D=e._gsap,D.renderTransform&&!t.parseTransform||ip(e,t.parseTransform),H=t.smoothOrigin!==!1&&D.smooth,L=this._pt=new ci(this._pt,u,ir,0,1,D.renderTransform,D,0,-1),L.dep=1),b==="scale")this._pt=new ci(this._pt,D,"scaleY",D.scaleY,(k?Wc(D.scaleY,k+g):g)-D.scaleY||0,q_),this._pt.u=0,a.push("scaleY",b),b+="X";else if(b==="transformOrigin"){G.push(di,0,u[di]),m=u3(m),D.svg?Z_(e,m,0,H,0,this):(P=parseFloat(m.split(" ")[2])||0,P!==D.zOrigin&&Il(this,D,"zOrigin",D.zOrigin,P),Il(this,u,b,Ig(f),Ig(m)));continue}else if(b==="svgOrigin"){Z_(e,m,1,H,0,this);continue}else if(b in RP){f3(this,D,b,v,k?Wc(v,k+m):m);continue}else if(b==="smoothOrigin"){Il(this,D,"smooth",D.smooth,m);continue}else if(b==="force3D"){D[b]=m;continue}else if(b==="transform"){p3(this,m,e);continue}}else b in u||(b=td(b)||b);if(R||(g||g===0)&&(v||v===0)&&!qB.test(m)&&b in u)E=(f+"").substr((v+"").length),g||(g=0),P=wn(m)||(b in Di.units?Di.units[b]:E),E!==P&&(v=Bl(e,b,f,P)),this._pt=new ci(this._pt,R?D:u,b,v,(k?Wc(v,k+g):g)-v,!R&&(P==="px"||b==="zIndex")&&t.autoRound!==!1?ZB:q_),this._pt.u=P||0,E!==P&&P!=="%"&&(this._pt.b=f,this._pt.r=QB);else if(b in u)l3.call(this,e,b,f,k?k+m:m);else if(b in e)this.add(e,b,f||e[b],k?k+m:m,i,s);else if(b!=="parseTransform"){Ux(b,m);continue}R||(b in u?G.push(b,0,u[b]):typeof e[b]=="function"?G.push(b,2,e[b]()):G.push(b,1,f||e[b])),a.push(b)}}N&&xP(this)},render:function(e,t){if(t.tween._time||!qx())for(var n=t._pt;n;)n.r(e,n.d),n=n._next;else t.styles.revert()},get:ua,aliases:xo,getSetter:function(e,t,n){var i=xo[t];return i&&i.indexOf(",")<0&&(t=i),t in Sa&&t!==di&&(e._gsap.x||ua(e,"x"))?n&&rT===n?t==="scale"?r3:t3:(rT=n||{})&&(t==="scale"?n3:i3):e.style&&!Fx(e.style[t])?JB:~t.indexOf("-")?e3:Wx(e,t)},core:{_removeProperty:yh,_getMatrix:Qx}};fi.utils.checkPrefix=td;fi.core.getStyleSaver=EP;(function(r,e,t,n){var i=hi(r+","+e+","+t,function(s){Sa[s]=1});hi(e,function(s){Di.units[s]="deg",RP[s]=1}),xo[i[13]]=r+","+e,hi(n,function(s){var a=s.split(":");xo[a[1]]=i[a[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");hi("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(r){Di.units[r]="px"});fi.registerPlugin(MP);var Fs=fi.registerPlugin(MP)||fi;Fs.core.Tween;function xf({X:r,Y:e,image:t,interactions:n}){const[i,s]=te.useState(1),[a,u]=te.useState(1),[c,f]=te.useState(!1),m=te.useRef(null);if(i>0)return fe.jsx(on.Container,{x:0,y:0,children:fe.jsx(on.Sprite,{image:t,x:r,y:e,anchor:.5,interactive:!0,ref:m,pointerup:()=>{n.cupsPickedup++,f(!0),Fs.to(m.current,{y:e-50,alpha:0,duration:1,ease:"elastic.out(1, 0.3)"})},onpointerenter:()=>{c||Fs.to(m.current,{y:e-10,duration:1,ease:"elastic.out(1, 0.3)"})},onpointerleave:()=>{c||Fs.to(m.current,{y:e,duration:1,ease:"elastic.out(1, 0.3)"})}})})}function Tc({X:r,Y:e,image:t,interactions:n,direction:i}){const[s,a]=te.useState(!1),u=te.useRef(null);return fe.jsx(on.Container,{x:0,y:0,children:fe.jsx(on.Sprite,{image:t,x:r,y:e,anchor:.5,scale:{x:i,y:1},interactive:!0,ref:u,pointerup:()=>{s||(Fs.fromTo(u.current,{x:r},{x:r+50*i,duration:1,ease:"elastic.out(1, 1)"}),a(!0),n.chairsPushed++,Fs.to(u.current,{y:e,duration:1,ease:"elastic.out(1, 0.3)"}))},onpointerenter:()=>{s||Fs.to(u.current,{y:e-2,duration:1,ease:"elastic.out(1, 0.3)"})},onpointerleave:()=>{s||Fs.to(u.current,{y:e,duration:1,ease:"elastic.out(1, 0.3)"})}})})}function m3({interactions:r}){const[e,t]=te.useState(0),[n,i]=te.useState(0),[s,a]=te.useState(0),[u,c]=te.useState(0),[f,m]=te.useState(!1),[g,v]=te.useState("doorclose.png");return fe.jsxs(on.Stage,{width:1500,height:560,options:{background:16777215,backgroundAlpha:0},children:[fe.jsx(eB,{X:750,Y:280,image:g,interactions:r}),fe.jsx(on.Container,{x:0,y:0,children:fe.jsx(on.Sprite,{image:"gamebackground.png",x:750,y:280,anchor:.5})}),fe.jsx(xf,{X:280,Y:335,image:"cup.png",interactions:r}),fe.jsx(xf,{X:350,Y:335,image:"cup.png",interactions:r}),fe.jsx(xf,{X:700,Y:335,image:"cup.png",interactions:r}),fe.jsx(xf,{X:1120,Y:335,image:"cup.png",interactions:r}),fe.jsx(xf,{X:1180,Y:335,image:"cup.png",interactions:r}),fe.jsx(Tc,{X:180,Y:420,image:"sprites/chair.png",interactions:r,direction:1}),fe.jsx(on.Sprite,{x:315,y:440,image:"sprites/table.png",anchor:.5}),fe.jsx(Tc,{X:450,Y:420,image:"sprites/chair.png",interactions:r,direction:-1}),fe.jsx(Tc,{X:580,Y:420,image:"sprites/chair.png",interactions:r,direction:1}),fe.jsx(on.Sprite,{x:715,y:440,image:"sprites/table.png",anchor:.5}),fe.jsx(Tc,{X:850,Y:420,image:"sprites/chair.png",interactions:r,direction:-1}),fe.jsx(Tc,{X:1010,Y:420,image:"sprites/chair.png",interactions:r,direction:1}),fe.jsx(on.Sprite,{x:1145,y:440,image:"sprites/table.png",anchor:.5}),fe.jsx(Tc,{X:1280,Y:420,image:"sprites/chair.png",interactions:r,direction:-1})]})}class DP{constructor(){this.attributesScores=[0,0,0,0,0]}addScore(e){if(console.log("before:",this.attributesScores),e.length!=5)throw new Error("Wrong number of elements");for(let t=0;t<e.length;++t)this.attributesScores[t]+=e[t];console.log("after:",this.attributesScores)}getAttributesScores(){return this.attributesScores}}function cT({image:r,interactions:e,isWhiteChick:t}){const[n,i]=te.useState(!1),s=te.useRef(null);return fe.jsx(on.Stage,{width:300,height:500,options:{background:16777215,backgroundAlpha:0},children:fe.jsx(on.Sprite,{image:r,x:150,y:300,anchor:.5,scale:{x:t?-.5:.5,y:.5},interactive:!0,ref:s,onpointerup:()=>{s.current.y>=300&&(t?e.whiteChickenClicks++:e.brownChickenClicks++,Fs.to(s.current,{y:250,duration:.1,yoyo:!0,repeat:1}))},onpointerenter:()=>{Fs.to(s.current,{angle:10,duration:1,ease:"elastic.out(3, 0.3)"})},onpointerleave:()=>{Fs.to(s.current,{angle:0,duration:1,ease:"elastic.out(3, 0.3)"})}})})}class OP{constructor(){this.affinities=[],this.logo="",this.quotes=[],this.reviews=[],this.title="",this.traits=[]}setAffinities(e){return this.affinities=e,this}setLogo(e){return this.logo=e,this}setQuotes(e){return this.quotes=e,this}setReviews(e){return this.reviews=e,this}setTitle(e){return this.title=e,this}setTraits(e){return this.traits=e,this}toJSON(){return{affinities:this.affinities,logo:this.logo,quotes:this.quotes,reviews:this.reviews,title:this.title,traits:this.traits}}}const NP=({imagePath:r})=>fe.jsx("div",{className:"logo-wrapper",children:fe.jsx("img",{src:r,alt:"Result Logo",className:"results-logo",width:200,height:200})});NP.propTypes={imagePath:ot.string.isRequired};const FP=({imagePaths:r})=>fe.jsx("div",{className:"affinities-container",children:r.map((e,t)=>fe.jsx("img",{src:e,alt:`Affinity ${t+1}`,className:"affinity-logo",width:80,height:80},`affinity-${t}`))});FP.propTypes={imagePaths:ot.arrayOf(ot.string).isRequired};const g3=[{name:"Raccoon",bestattr:"OPENNESS",worstattr:"CONSCIENTIOUSNESS",relations:["Elephant","Golden Retriever"],reviews:["ok but can this even be finished?","for the last time please stick to the damn plan"],quotes:["I have so many ideas!","Why so rigid?","Think about the details later!","Let's try this now!"],traits:["Creative","Impulsive","Adaptable","Disorganised"]},{name:"Axolotl",bestattr:"OPENNESS",worstattr:"EXTRAVERSION",relations:["Honeybee","Manatee"],reviews:["I really want to hear what they think","Where are they?"],quotes:["I'd rather do this alone..","Plans? Going home straight","I find inspiration in solitude","No, I don't need to talk about it"],traits:["Curious","Reflective","Artistic","Reserved"]},{name:"Octopus",bestattr:"OPENNESS",worstattr:"AGREEABLENESS",relations:["Owl","Golden Retriever"],reviews:["I hate discussing with them","They got pretty good ideas though"],quotes:["Gah, I'll do it my way","Why do you think so?","You're not being rational","I have my own ideas"],traits:["Creative","Independent","Non-conformist","Assertive"]},{name:"Elephant",bestattr:"OPENNESS",worstattr:"NEUROTICISM",relations:["Raccoon","Manatee"],reviews:["So fun to be with!","How are they still so optimistic?!"],quotes:["Change is exciting!","Life is exciting!","The unknown is exciting!","I'M EXCITED"],traits:["Creative","Adaptable","Emotionally stable","Open-minded"]},{name:"Owl",bestattr:"CONSCIENTIOUSNESS",worstattr:"EXTRAVERSION",relations:["Raccoon","Honeybee"],reviews:["They always complete their tasks real quick!","Who?"],quotes:["Work first..","I'll do my part","Meeting? No thank you..","You don't need to check in on me.."],traits:["Organized","Reliable","Task-oriented","Reserved"]},{name:"Tiger",bestattr:"CONSCIENTIOUSNESS",worstattr:"AGREEABLENESS",relations:["Owl","Peacock"],reviews:["I'm quite scared of them..","They're so efficient!"],quotes:["I'm not here to make friends","I'm here to WORK","Even if you don't agree, it's like this.","That's not how you do it"],traits:["Detail-oriented","Practical","Competitive","Assertive"]},{name:"Honeybee",bestattr:"CONSCIENTIOUSNESS",worstattr:"NEUROTICISM",relations:["Owl","Elephant"],reviews:["I've never seen them panic in my life","Woah their desk is so neat.. their LIFE is so neat"],quotes:["Calm down, guys","I got this","Did you change the plan?","I'll fix it"],traits:["Organized","Responsible","Emotionally stable","Goal oriented"]},{name:"Peacock",bestattr:"EXTRAVERSION",worstattr:"AGREEABLENESS",relations:["Octopus","Golden Retriever"],reviews:["Good leader? You mean DICTATOR","They obviously don't care about anyone else"],quotes:["Did I stutter?","Stop being so half-assed","I'm here to win","You're wrong"],traits:["Outgoing","Assertive","Competitive","Direct"]},{name:"Golden Retriever",bestattr:"EXTRAVERSION",worstattr:"NEUROTICISM",relations:["Peacock","Honeybee"],reviews:["Definitely the life of the party","So reliable and optimisic!"],quotes:["I LOVE YOU MUAMUA","Don't worry, I'm A OK!","Gathering?! I'll be there!","A small setback is nothing!"],traits:["Energetic","Enthusiastic","Sociable","Emotionally resilient"]},{name:"Manatee",bestattr:"AGREEABLENESS",worstattr:"NEUROTICISM",relations:["Elephant","Owl"],reviews:["An angel descended from the Heavens..","I go to them for advice 5 times a day"],quotes:["Are you alright?","Everything will work out","We got this!","Let me know if you need something"],traits:["Empathetic","Supportive","Calm","Easygoing"]}],y3={personalities:g3};class v3{constructor(e){this.name=e,this.bestattr,this.worstattr,this.relations=[],this.logo="./sprites/results/"+e.toLowerCase()+".png",this.quotes=[],this.reviews=[],this.traits=[]}addBestAttribute(e){this.bestattr=e}addWorstAttribute(e){this.worstattr=e}addRelations(e){for(let t=0;t<e.length;++t)this.relations.push("./sprites/results/"+e[t].toLowerCase()+".png")}addQuotes(e){this.quotes=e}addReviews(e){this.reviews=e}addTraits(e){this.traits=e}}class Df{}$y(Df,"AttributeType",{OPENNESS:"Openness to Experience",CONSCIENTIOUSNESS:"Conscientiousness",EXTRAVERSION:"Extraversion",AGREEABLENESS:"Agreeableness",NEUROTICISM:"Neuroticism"});class _3{constructor(){this.personalities=[],this.counter=0,this.personalities=x3()}add(e){console.log(e),console.log(this.counter),this.counter+=1,this.personalities.push(e)}generatePersonality(e){console.log(e);const t=e.getAttributesScores(),n=Math.max(...e.getAttributesScores()),i=Math.min(...e.getAttributesScores()),s=t.indexOf(n),a=t.indexOf(i);var u=this.getPersonalityBasedOnAttribute(s,a);return console.log(u),u}giveResult(e,t){const n=this.generatePersonality(e);return t.setAffinities(n.relations),t.setLogo(n.logo),t.setQuotes(n.quotes),t.setReviews(n.reviews),t.setTraits(n.traits),t.setTitle(n.name),t}getPersonalityBasedOnAttribute(e,t){console.log(this.personalities);const n=Object.values(Df.AttributeType),i=n[e],s=n[t];console.log("best attri: "+i),console.log("worst attri: "+s);for(let a=0;a<this.personalities.length;++a)if(Df.AttributeType[this.personalities[a].bestattr]===i&&Df.AttributeType[this.personalities[a].worstattr]===s)return this.personalities[a];for(let a=0;a<this.personalities.length;++a)if(Df.AttributeType[this.personalities[a].bestattr]===i)return this.personalities[a];if(this.personalities.length>0)return this.personalities[0];throw new Error("No personalities available")}}function x3(){try{const r=y3;if(!r.personalities||!Array.isArray(r.personalities))throw new Error('Invalid format: personalities must be an array under "personalities" key');return r.personalities.map(e=>{if(!e.name)throw new Error(`Invalid personality data: Missing required fields for ${e.name||"unnamed personality"}`);var t=new v3(e.name);return t.addBestAttribute(e.bestattr),t.addWorstAttribute(e.worstattr),t.addRelations(e.relations),t.addQuotes(e.quotes),t.addReviews(e.reviews),t.addTraits(e.traits),t})}catch(r){return console.error("Error loading personalities:",r.message),[]}}class LP extends ns.Component{constructor(e){super(e);const{result:t,user:n}=e;new _3().giveResult(n,t),this.state={affinities:t.affinities,logo:t.logo,quotes:t.quotes,reviews:t.reviews,title:t.title,traits:t.traits}}render(){const{affinities:e,logo:t,quotes:n,reviews:i,title:s,traits:a}=this.state;return fe.jsx("div",{className:"results-panel",children:fe.jsxs("div",{className:"results-content",children:[fe.jsxs("h1",{className:"results-title",children:["You're a... ",s,"!"]}),fe.jsx(NP,{imagePath:t}),fe.jsx("section",{className:"quotes-section",children:fe.jsx("div",{className:"quotes-grid",children:n.map((u,c)=>fe.jsxs("blockquote",{className:"quote-item",children:['"',u,'"']},`quote-${c}`))})}),fe.jsxs("section",{className:"traits-section",children:[fe.jsx("h2",{children:"Traits"}),fe.jsx("ul",{className:"traits-list",children:a.map((u,c)=>fe.jsx("li",{className:"trait-item",children:u},`trait-${c}`))})]}),fe.jsxs("div",{className:"side-by-side-container",children:[fe.jsxs("section",{className:"affinities-section",children:[fe.jsx("h2",{children:"Best Friends"}),fe.jsx(FP,{imagePaths:e})]}),fe.jsxs("section",{className:"reviews-section",children:[fe.jsx("h2",{children:"Peer Reviews"}),fe.jsx("div",{className:"reviews-grid",children:i.map((u,c)=>fe.jsxs("div",{className:"review-item",children:['"',u,'"']},`review-${c}`))})]})]}),fe.jsx("button",{onClick:()=>this.props.navigate("/interactions"),style:mp,children:"Continue"})]})})}}const w3=r=>{const e=od();return fe.jsx(LP,{...r,navigate:e})};LP.propTypes={result:ot.instanceOf(OP).isRequired,user:ot.instanceOf(DP).isRequired,navigate:ot.func};class S3{constructor(){this.whiteChickenClicks=0,this.brownChickenClicks=0,this.cupsPickedup=0,this.doorClicks=0,this.chairsPushed=0}}const dT={doorClicks:{label:"Door Interactions",formatMessage:r=>`You have opened the door ${r} times!`+(r>=10?" Why?":""),image:"dooropen.png"},whiteChickenClicks:{label:"White Chicken Interactions",formatMessage:r=>`You have poked the white chicken ${r} times!`+(r>=10?" It will have its revenge >:(":""),image:"sprites/chicken.png"},brownChickenClicks:{label:"Brown Chicken Interactions",formatMessage:r=>`You have poked the brown chicken ${r} times!`+(r>=10?" It is sad now :'(":""),image:"sprites/rooster.png"},cupsPickedup:{label:"Cup Interactions",formatMessage:r=>`You have picked up ${r} cups!`+(r>=5?" Thanks for helping!":""),image:"cup.png"},chairsPushed:{label:"Chairs Pushed",formatMessage:r=>`You have pushed in ${r} chairs!`+(r>=6?" You sir are a good human.":""),image:"sprites/chair.png"}},BP=te.createContext({});function b3(r){const e=te.useRef(null);return e.current===null&&(e.current=r()),e.current}const Zx=te.createContext(null),UP=te.createContext({transformPagePoint:r=>r,isStatic:!1,reducedMotion:"never"});function T3(r=!0){const e=te.useContext(Zx);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:i}=e,s=te.useId();te.useEffect(()=>{r&&i(s)},[r]);const a=te.useCallback(()=>r&&n&&n(s),[s,n,r]);return!t&&n?[!1,a]:[!0]}const Jx=typeof window<"u",E3=Jx?te.useLayoutEffect:te.useEffect,Oi=r=>r;let zP=Oi;function e1(r){let e;return()=>(e===void 0&&(e=r()),e)}const rd=(r,e,t)=>{const n=e-r;return n===0?1:(t-r)/n},ma=r=>r*1e3,ga=r=>r/1e3,A3={useManualTiming:!1},Um=["read","resolveKeyframes","update","preRender","render","postRender"],fT={value:null};function C3(r,e){let t=new Set,n=new Set,i=!1,s=!1;const a=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1},c=0;function f(g){a.has(g)&&(m.schedule(g),r()),c++,g(u)}const m={schedule:(g,v=!1,x=!1)=>{const b=x&&i?t:n;return v&&a.add(g),b.has(g)||b.add(g),g},cancel:g=>{n.delete(g),a.delete(g)},process:g=>{if(u=g,i){s=!0;return}i=!0,[t,n]=[n,t],t.forEach(f),e&&fT.value&&fT.value.frameloop[e].push(c),c=0,t.clear(),i=!1,s&&(s=!1,m.process(g))}};return m}const P3=40;function VP(r,e){let t=!1,n=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>t=!0,a=Um.reduce((P,k)=>(P[k]=C3(s,e?k:void 0),P),{}),{read:u,resolveKeyframes:c,update:f,preRender:m,render:g,postRender:v}=a,x=()=>{const P=performance.now();t=!1,i.delta=n?1e3/60:Math.max(Math.min(P-i.timestamp,P3),1),i.timestamp=P,i.isProcessing=!0,u.process(i),c.process(i),f.process(i),m.process(i),g.process(i),v.process(i),i.isProcessing=!1,t&&e&&(n=!1,r(x))},S=()=>{t=!0,n=!0,i.isProcessing||r(x)};return{schedule:Um.reduce((P,k)=>{const R=a[k];return P[k]=(L,D=!1,H=!1)=>(t||S(),R.schedule(L,D,H)),P},{}),cancel:P=>{for(let k=0;k<Um.length;k++)a[Um[k]].cancel(P)},state:i,steps:a}}const{schedule:$t,cancel:Ul,state:sn,steps:O0}=VP(typeof requestAnimationFrame<"u"?requestAnimationFrame:Oi,!0),GP=te.createContext({strict:!1}),pT={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},nd={};for(const r in pT)nd[r]={isEnabled:e=>pT[r].some(t=>!!e[t])};function R3(r){for(const e in r)nd[e]={...nd[e],...r[e]}}const I3=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function kg(r){return r.startsWith("while")||r.startsWith("drag")&&r!=="draggable"||r.startsWith("layout")||r.startsWith("onTap")||r.startsWith("onPan")||r.startsWith("onLayout")||I3.has(r)}let jP=r=>!kg(r);function k3(r){r&&(jP=e=>e.startsWith("on")?!kg(e):r(e))}try{k3(require("@emotion/is-prop-valid").default)}catch{}function M3(r,e,t){const n={};for(const i in r)i==="values"&&typeof r.values=="object"||(jP(i)||t===!0&&kg(i)||!e&&!kg(i)||r.draggable&&i.startsWith("onDrag"))&&(n[i]=r[i]);return n}function D3(r){if(typeof Proxy>"u")return r;const e=new Map,t=(...n)=>r(...n);return new Proxy(t,{get:(n,i)=>i==="create"?r:(e.has(i)||e.set(i,r(i)),e.get(i))})}const ny=te.createContext({});function iy(r){return r!==null&&typeof r=="object"&&typeof r.start=="function"}function sp(r){return typeof r=="string"||Array.isArray(r)}const t1=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],r1=["initial",...t1];function sy(r){return iy(r.animate)||r1.some(e=>sp(r[e]))}function HP(r){return!!(sy(r)||r.variants)}function O3(r,e){if(sy(r)){const{initial:t,animate:n}=r;return{initial:t===!1||sp(t)?t:void 0,animate:sp(n)?n:void 0}}return r.inherit!==!1?e:{}}function N3(r){const{initial:e,animate:t}=O3(r,te.useContext(ny));return te.useMemo(()=>({initial:e,animate:t}),[mT(e),mT(t)])}function mT(r){return Array.isArray(r)?r.join(" "):r}const F3=Symbol.for("motionComponentSymbol");function Nc(r){return r&&typeof r=="object"&&Object.prototype.hasOwnProperty.call(r,"current")}function L3(r,e,t){return te.useCallback(n=>{n&&r.onMount&&r.onMount(n),e&&(n?e.mount(n):e.unmount()),t&&(typeof t=="function"?t(n):Nc(t)&&(t.current=n))},[e])}const n1=r=>r.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),B3="framerAppearId",$P="data-"+n1(B3),{schedule:i1}=VP(queueMicrotask,!1),WP=te.createContext({});function U3(r,e,t,n,i){var s,a;const{visualElement:u}=te.useContext(ny),c=te.useContext(GP),f=te.useContext(Zx),m=te.useContext(UP).reducedMotion,g=te.useRef(null);n=n||c.renderer,!g.current&&n&&(g.current=n(r,{visualState:e,parent:u,props:t,presenceContext:f,blockInitialAnimation:f?f.initial===!1:!1,reducedMotionConfig:m}));const v=g.current,x=te.useContext(WP);v&&!v.projection&&i&&(v.type==="html"||v.type==="svg")&&z3(g.current,t,i,x);const S=te.useRef(!1);te.useInsertionEffect(()=>{v&&S.current&&v.update(t,f)});const b=t[$P],E=te.useRef(!!b&&!(!((s=window.MotionHandoffIsComplete)===null||s===void 0)&&s.call(window,b))&&((a=window.MotionHasOptimisedAnimation)===null||a===void 0?void 0:a.call(window,b)));return E3(()=>{v&&(S.current=!0,window.MotionIsMounted=!0,v.updateFeatures(),i1.render(v.render),E.current&&v.animationState&&v.animationState.animateChanges())}),te.useEffect(()=>{v&&(!E.current&&v.animationState&&v.animationState.animateChanges(),E.current&&(queueMicrotask(()=>{var P;(P=window.MotionHandoffMarkAsComplete)===null||P===void 0||P.call(window,b)}),E.current=!1))}),v}function z3(r,e,t,n){const{layoutId:i,layout:s,drag:a,dragConstraints:u,layoutScroll:c,layoutRoot:f}=e;r.projection=new t(r.latestValues,e["data-framer-portal-id"]?void 0:XP(r.parent)),r.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!a||u&&Nc(u),visualElement:r,animationType:typeof s=="string"?s:"both",initialPromotionConfig:n,layoutScroll:c,layoutRoot:f})}function XP(r){if(r)return r.options.allowProjection!==!1?r.projection:XP(r.parent)}function V3({preloadedFeatures:r,createVisualElement:e,useRender:t,useVisualState:n,Component:i}){var s,a;r&&R3(r);function u(f,m){let g;const v={...te.useContext(UP),...f,layoutId:G3(f)},{isStatic:x}=v,S=N3(f),b=n(f,x);if(!x&&Jx){j3();const E=H3(v);g=E.MeasureLayout,S.visualElement=U3(i,b,v,e,E.ProjectionNode)}return fe.jsxs(ny.Provider,{value:S,children:[g&&S.visualElement?fe.jsx(g,{visualElement:S.visualElement,...v}):null,t(i,f,L3(b,S.visualElement,m),b,x,S.visualElement)]})}u.displayName=`motion.${typeof i=="string"?i:`create(${(a=(s=i.displayName)!==null&&s!==void 0?s:i.name)!==null&&a!==void 0?a:""})`}`;const c=te.forwardRef(u);return c[F3]=i,c}function G3({layoutId:r}){const e=te.useContext(BP).id;return e&&r!==void 0?e+"-"+r:r}function j3(r,e){te.useContext(GP).strict}function H3(r){const{drag:e,layout:t}=nd;if(!e&&!t)return{};const n={...e,...t};return{MeasureLayout:e!=null&&e.isEnabled(r)||t!=null&&t.isEnabled(r)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}const YP=r=>e=>typeof e=="string"&&e.startsWith(r),s1=YP("--"),$3=YP("var(--"),o1=r=>$3(r)?W3.test(r.split("/*")[0].trim()):!1,W3=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,op={};function X3(r){for(const e in r)op[e]=r[e],s1(e)&&(op[e].isCSSVariable=!0)}const ud=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Sh=new Set(ud);function qP(r,{layout:e,layoutId:t}){return Sh.has(r)||r.startsWith("origin")||(e||t!==void 0)&&(!!op[r]||r==="opacity")}const bn=r=>!!(r&&r.getVelocity),KP=(r,e)=>e&&typeof r=="number"?e.transform(r):r,ba=(r,e,t)=>t>e?e:t<r?r:t,hd={test:r=>typeof r=="number",parse:parseFloat,transform:r=>r},ap={...hd,transform:r=>ba(0,1,r)},zm={...hd,default:1},xp=r=>({test:e=>typeof e=="string"&&e.endsWith(r)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${r}`}),bl=xp("deg"),Eo=xp("%"),nt=xp("px"),Y3=xp("vh"),q3=xp("vw"),gT={...Eo,parse:r=>Eo.parse(r)/100,transform:r=>Eo.transform(r*100)},K3={borderWidth:nt,borderTopWidth:nt,borderRightWidth:nt,borderBottomWidth:nt,borderLeftWidth:nt,borderRadius:nt,radius:nt,borderTopLeftRadius:nt,borderTopRightRadius:nt,borderBottomRightRadius:nt,borderBottomLeftRadius:nt,width:nt,maxWidth:nt,height:nt,maxHeight:nt,top:nt,right:nt,bottom:nt,left:nt,padding:nt,paddingTop:nt,paddingRight:nt,paddingBottom:nt,paddingLeft:nt,margin:nt,marginTop:nt,marginRight:nt,marginBottom:nt,marginLeft:nt,backgroundPositionX:nt,backgroundPositionY:nt},Q3={rotate:bl,rotateX:bl,rotateY:bl,rotateZ:bl,scale:zm,scaleX:zm,scaleY:zm,scaleZ:zm,skew:bl,skewX:bl,skewY:bl,distance:nt,translateX:nt,translateY:nt,translateZ:nt,x:nt,y:nt,z:nt,perspective:nt,transformPerspective:nt,opacity:ap,originX:gT,originY:gT,originZ:nt},yT={...hd,transform:Math.round},a1={...K3,...Q3,zIndex:yT,size:nt,fillOpacity:ap,strokeOpacity:ap,numOctaves:yT},Z3={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},J3=ud.length;function eU(r,e,t){let n="",i=!0;for(let s=0;s<J3;s++){const a=ud[s],u=r[a];if(u===void 0)continue;let c=!0;if(typeof u=="number"?c=u===(a.startsWith("scale")?1:0):c=parseFloat(u)===0,!c||t){const f=KP(u,a1[a]);if(!c){i=!1;const m=Z3[a]||a;n+=`${m}(${f}) `}t&&(e[a]=f)}}return n=n.trim(),t?n=t(e,i?"":n):i&&(n="none"),n}function l1(r,e,t){const{style:n,vars:i,transformOrigin:s}=r;let a=!1,u=!1;for(const c in e){const f=e[c];if(Sh.has(c)){a=!0;continue}else if(s1(c)){i[c]=f;continue}else{const m=KP(f,a1[c]);c.startsWith("origin")?(u=!0,s[c]=m):n[c]=m}}if(e.transform||(a||t?n.transform=eU(e,r.transform,t):n.transform&&(n.transform="none")),u){const{originX:c="50%",originY:f="50%",originZ:m=0}=s;n.transformOrigin=`${c} ${f} ${m}`}}const u1=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function QP(r,e,t){for(const n in e)!bn(e[n])&&!qP(n,t)&&(r[n]=e[n])}function tU({transformTemplate:r},e){return te.useMemo(()=>{const t=u1();return l1(t,e,r),Object.assign({},t.vars,t.style)},[e])}function rU(r,e){const t=r.style||{},n={};return QP(n,t,r),Object.assign(n,tU(r,e)),n}function nU(r,e){const t={},n=rU(r,e);return r.drag&&r.dragListener!==!1&&(t.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=r.drag===!0?"none":`pan-${r.drag==="x"?"y":"x"}`),r.tabIndex===void 0&&(r.onTap||r.onTapStart||r.whileTap)&&(t.tabIndex=0),t.style=n,t}const iU=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function h1(r){return typeof r!="string"||r.includes("-")?!1:!!(iU.indexOf(r)>-1||/[A-Z]/u.test(r))}const sU={offset:"stroke-dashoffset",array:"stroke-dasharray"},oU={offset:"strokeDashoffset",array:"strokeDasharray"};function aU(r,e,t=1,n=0,i=!0){r.pathLength=1;const s=i?sU:oU;r[s.offset]=nt.transform(-n);const a=nt.transform(e),u=nt.transform(t);r[s.array]=`${a} ${u}`}function vT(r,e,t){return typeof r=="string"?r:nt.transform(e+t*r)}function lU(r,e,t){const n=vT(e,r.x,r.width),i=vT(t,r.y,r.height);return`${n} ${i}`}function c1(r,{attrX:e,attrY:t,attrScale:n,originX:i,originY:s,pathLength:a,pathSpacing:u=1,pathOffset:c=0,...f},m,g){if(l1(r,f,g),m){r.style.viewBox&&(r.attrs.viewBox=r.style.viewBox);return}r.attrs=r.style,r.style={};const{attrs:v,style:x,dimensions:S}=r;v.transform&&(S&&(x.transform=v.transform),delete v.transform),S&&(i!==void 0||s!==void 0||x.transform)&&(x.transformOrigin=lU(S,i!==void 0?i:.5,s!==void 0?s:.5)),e!==void 0&&(v.x=e),t!==void 0&&(v.y=t),n!==void 0&&(v.scale=n),a!==void 0&&aU(v,a,u,c,!1)}const ZP=()=>({...u1(),attrs:{}}),d1=r=>typeof r=="string"&&r.toLowerCase()==="svg";function uU(r,e,t,n){const i=te.useMemo(()=>{const s=ZP();return c1(s,e,d1(n),r.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(r.style){const s={};QP(s,r.style,r),i.style={...s,...i.style}}return i}function hU(r=!1){return(t,n,i,{latestValues:s},a)=>{const c=(h1(t)?uU:nU)(n,s,a,t),f=M3(n,typeof t=="string",r),m=t!==te.Fragment?{...f,...c,ref:i}:{},{children:g}=n,v=te.useMemo(()=>bn(g)?g.get():g,[g]);return te.createElement(t,{...m,children:v})}}function _T(r){const e=[{},{}];return r==null||r.values.forEach((t,n)=>{e[0][n]=t.get(),e[1][n]=t.getVelocity()}),e}function f1(r,e,t,n){if(typeof e=="function"){const[i,s]=_T(n);e=e(t!==void 0?t:r.custom,i,s)}if(typeof e=="string"&&(e=r.variants&&r.variants[e]),typeof e=="function"){const[i,s]=_T(n);e=e(t!==void 0?t:r.custom,i,s)}return e}const J_=r=>Array.isArray(r),cU=r=>!!(r&&typeof r=="object"&&r.mix&&r.toValue),dU=r=>J_(r)?r[r.length-1]||0:r;function rg(r){const e=bn(r)?r.get():r;return cU(e)?e.toValue():e}function fU({scrapeMotionValuesFromProps:r,createRenderState:e,onUpdate:t},n,i,s){const a={latestValues:pU(n,i,s,r),renderState:e()};return t&&(a.onMount=u=>t({props:n,current:u,...a}),a.onUpdate=u=>t(u)),a}const JP=r=>(e,t)=>{const n=te.useContext(ny),i=te.useContext(Zx),s=()=>fU(r,e,n,i);return t?s():b3(s)};function pU(r,e,t,n){const i={},s=n(r,{});for(const v in s)i[v]=rg(s[v]);let{initial:a,animate:u}=r;const c=sy(r),f=HP(r);e&&f&&!c&&r.inherit!==!1&&(a===void 0&&(a=e.initial),u===void 0&&(u=e.animate));let m=t?t.initial===!1:!1;m=m||a===!1;const g=m?u:a;if(g&&typeof g!="boolean"&&!iy(g)){const v=Array.isArray(g)?g:[g];for(let x=0;x<v.length;x++){const S=f1(r,v[x]);if(S){const{transitionEnd:b,transition:E,...P}=S;for(const k in P){let R=P[k];if(Array.isArray(R)){const L=m?R.length-1:0;R=R[L]}R!==null&&(i[k]=R)}for(const k in b)i[k]=b[k]}}}return i}function p1(r,e,t){var n;const{style:i}=r,s={};for(const a in i)(bn(i[a])||e.style&&bn(e.style[a])||qP(a,r)||((n=t==null?void 0:t.getValue(a))===null||n===void 0?void 0:n.liveStyle)!==void 0)&&(s[a]=i[a]);return s}const mU={useVisualState:JP({scrapeMotionValuesFromProps:p1,createRenderState:u1})};function eR(r,e){try{e.dimensions=typeof r.getBBox=="function"?r.getBBox():r.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}function tR(r,{style:e,vars:t},n,i){Object.assign(r.style,e,i&&i.getProjectionStyles(n));for(const s in t)r.style.setProperty(s,t[s])}const rR=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function nR(r,e,t,n){tR(r,e,void 0,n);for(const i in e.attrs)r.setAttribute(rR.has(i)?i:n1(i),e.attrs[i])}function iR(r,e,t){const n=p1(r,e,t);for(const i in r)if(bn(r[i])||bn(e[i])){const s=ud.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;n[s]=r[i]}return n}const xT=["x","y","width","height","cx","cy","r"],gU={useVisualState:JP({scrapeMotionValuesFromProps:iR,createRenderState:ZP,onUpdate:({props:r,prevProps:e,current:t,renderState:n,latestValues:i})=>{if(!t)return;let s=!!r.drag;if(!s){for(const u in i)if(Sh.has(u)){s=!0;break}}if(!s)return;let a=!e;if(e)for(let u=0;u<xT.length;u++){const c=xT[u];r[c]!==e[c]&&(a=!0)}a&&$t.read(()=>{eR(t,n),$t.render(()=>{c1(n,i,d1(t.tagName),r.transformTemplate),nR(t,n)})})}})};function yU(r,e){return function(n,{forwardMotionProps:i}={forwardMotionProps:!1}){const a={...h1(n)?gU:mU,preloadedFeatures:r,useRender:hU(i),createVisualElement:e,Component:n};return V3(a)}}function lp(r,e,t){const n=r.getProps();return f1(n,e,t!==void 0?t:n.custom,r)}const vU=e1(()=>window.ScrollTimeline!==void 0);class _U{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,t){for(let n=0;n<this.animations.length;n++)this.animations[n][e]=t}attachTimeline(e,t){const n=this.animations.map(i=>{if(vU()&&i.attachTimeline)return i.attachTimeline(e);if(typeof t=="function")return t(i)});return()=>{n.forEach((i,s)=>{i&&i(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let t=0;t<this.animations.length;t++)e=Math.max(e,this.animations[t].duration);return e}runAll(e){this.animations.forEach(t=>t[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class xU extends _U{then(e,t){return Promise.all(this.animations).then(e).catch(t)}}function m1(r,e){return r?r[e]||r.default||r:void 0}const ex=2e4;function sR(r){let e=0;const t=50;let n=r.next(e);for(;!n.done&&e<ex;)e+=t,n=r.next(e);return e>=ex?1/0:e}function g1(r){return typeof r=="function"}function wT(r,e){r.timeline=e,r.onfinish=null}const y1=r=>Array.isArray(r)&&typeof r[0]=="number",wU={linearEasing:void 0};function SU(r,e){const t=e1(r);return()=>{var n;return(n=wU[e])!==null&&n!==void 0?n:t()}}const Mg=SU(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),oR=(r,e,t=10)=>{let n="";const i=Math.max(Math.round(e/t),2);for(let s=0;s<i;s++)n+=r(rd(0,i-1,s))+", ";return`linear(${n.substring(0,n.length-2)})`};function aR(r){return!!(typeof r=="function"&&Mg()||!r||typeof r=="string"&&(r in tx||Mg())||y1(r)||Array.isArray(r)&&r.every(aR))}const Of=([r,e,t,n])=>`cubic-bezier(${r}, ${e}, ${t}, ${n})`,tx={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Of([0,.65,.55,1]),circOut:Of([.55,0,1,.45]),backIn:Of([.31,.01,.66,-.59]),backOut:Of([.33,1.53,.69,.99])};function lR(r,e){if(r)return typeof r=="function"&&Mg()?oR(r,e):y1(r)?Of(r):Array.isArray(r)?r.map(t=>lR(t,e)||tx.easeOut):tx[r]}const Ms={x:!1,y:!1};function uR(){return Ms.x||Ms.y}function bU(r,e,t){var n;if(r instanceof Element)return[r];if(typeof r=="string"){let i=document;const s=(n=void 0)!==null&&n!==void 0?n:i.querySelectorAll(r);return s?Array.from(s):[]}return Array.from(r)}function hR(r,e){const t=bU(r),n=new AbortController,i={passive:!0,...e,signal:n.signal};return[t,i,()=>n.abort()]}function ST(r){return!(r.pointerType==="touch"||uR())}function TU(r,e,t={}){const[n,i,s]=hR(r,t),a=u=>{if(!ST(u))return;const{target:c}=u,f=e(c,u);if(typeof f!="function"||!c)return;const m=g=>{ST(g)&&(f(g),c.removeEventListener("pointerleave",m))};c.addEventListener("pointerleave",m,i)};return n.forEach(u=>{u.addEventListener("pointerenter",a,i)}),s}const cR=(r,e)=>e?r===e?!0:cR(r,e.parentElement):!1,v1=r=>r.pointerType==="mouse"?typeof r.button!="number"||r.button<=0:r.isPrimary!==!1,EU=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function AU(r){return EU.has(r.tagName)||r.tabIndex!==-1}const Nf=new WeakSet;function bT(r){return e=>{e.key==="Enter"&&r(e)}}function N0(r,e){r.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const CU=(r,e)=>{const t=r.currentTarget;if(!t)return;const n=bT(()=>{if(Nf.has(t))return;N0(t,"down");const i=bT(()=>{N0(t,"up")}),s=()=>N0(t,"cancel");t.addEventListener("keyup",i,e),t.addEventListener("blur",s,e)});t.addEventListener("keydown",n,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",n),e)};function TT(r){return v1(r)&&!uR()}function PU(r,e,t={}){const[n,i,s]=hR(r,t),a=u=>{const c=u.currentTarget;if(!TT(u)||Nf.has(c))return;Nf.add(c);const f=e(c,u),m=(x,S)=>{window.removeEventListener("pointerup",g),window.removeEventListener("pointercancel",v),!(!TT(x)||!Nf.has(c))&&(Nf.delete(c),typeof f=="function"&&f(x,{success:S}))},g=x=>{m(x,t.useGlobalTarget||cR(c,x.target))},v=x=>{m(x,!1)};window.addEventListener("pointerup",g,i),window.addEventListener("pointercancel",v,i)};return n.forEach(u=>{!AU(u)&&u.getAttribute("tabindex")===null&&(u.tabIndex=0),(t.useGlobalTarget?window:u).addEventListener("pointerdown",a,i),u.addEventListener("focus",f=>CU(f,i),i)}),s}function RU(r){return r==="x"||r==="y"?Ms[r]?null:(Ms[r]=!0,()=>{Ms[r]=!1}):Ms.x||Ms.y?null:(Ms.x=Ms.y=!0,()=>{Ms.x=Ms.y=!1})}const dR=new Set(["width","height","top","left","right","bottom",...ud]);let ng;function IU(){ng=void 0}const Ao={now:()=>(ng===void 0&&Ao.set(sn.isProcessing||A3.useManualTiming?sn.timestamp:performance.now()),ng),set:r=>{ng=r,queueMicrotask(IU)}};function _1(r,e){r.indexOf(e)===-1&&r.push(e)}function x1(r,e){const t=r.indexOf(e);t>-1&&r.splice(t,1)}class w1{constructor(){this.subscriptions=[]}add(e){return _1(this.subscriptions,e),()=>x1(this.subscriptions,e)}notify(e,t,n){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,t,n);else for(let s=0;s<i;s++){const a=this.subscriptions[s];a&&a(e,t,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function fR(r,e){return e?r*(1e3/e):0}const ET=30,kU=r=>!isNaN(parseFloat(r));class MU{constructor(e,t={}){this.version="12.4.3",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(n,i=!0)=>{const s=Ao.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=Ao.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=kU(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new w1);const n=this.events[e].add(t);return e==="change"?()=>{n(),$t.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,n){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Ao.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>ET)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,ET);return fR(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function up(r,e){return new MU(r,e)}function DU(r,e,t){r.hasValue(e)?r.getValue(e).set(t):r.addValue(e,up(t))}function OU(r,e){const t=lp(r,e);let{transitionEnd:n={},transition:i={},...s}=t||{};s={...s,...n};for(const a in s){const u=dU(s[a]);DU(r,a,u)}}function NU(r){return!!(bn(r)&&r.add)}function rx(r,e){const t=r.getValue("willChange");if(NU(t))return t.add(e)}function pR(r){return r.props[$P]}const mR=(r,e,t)=>(((1-3*t+3*e)*r+(3*t-6*e))*r+3*e)*r,FU=1e-7,LU=12;function BU(r,e,t,n,i){let s,a,u=0;do a=e+(t-e)/2,s=mR(a,n,i)-r,s>0?t=a:e=a;while(Math.abs(s)>FU&&++u<LU);return a}function wp(r,e,t,n){if(r===e&&t===n)return Oi;const i=s=>BU(s,0,1,r,t);return s=>s===0||s===1?s:mR(i(s),e,n)}const gR=r=>e=>e<=.5?r(2*e)/2:(2-r(2*(1-e)))/2,yR=r=>e=>1-r(1-e),vR=wp(.33,1.53,.69,.99),S1=yR(vR),_R=gR(S1),xR=r=>(r*=2)<1?.5*S1(r):.5*(2-Math.pow(2,-10*(r-1))),b1=r=>1-Math.sin(Math.acos(r)),wR=yR(b1),SR=gR(b1),bR=r=>/^0[^.\s]+$/u.test(r);function UU(r){return typeof r=="number"?r===0:r!==null?r==="none"||r==="0"||bR(r):!0}const Gf=r=>Math.round(r*1e5)/1e5,T1=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function zU(r){return r==null}const VU=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,E1=(r,e)=>t=>!!(typeof t=="string"&&VU.test(t)&&t.startsWith(r)||e&&!zU(t)&&Object.prototype.hasOwnProperty.call(t,e)),TR=(r,e,t)=>n=>{if(typeof n!="string")return n;const[i,s,a,u]=n.match(T1);return{[r]:parseFloat(i),[e]:parseFloat(s),[t]:parseFloat(a),alpha:u!==void 0?parseFloat(u):1}},GU=r=>ba(0,255,r),F0={...hd,transform:r=>Math.round(GU(r))},lh={test:E1("rgb","red"),parse:TR("red","green","blue"),transform:({red:r,green:e,blue:t,alpha:n=1})=>"rgba("+F0.transform(r)+", "+F0.transform(e)+", "+F0.transform(t)+", "+Gf(ap.transform(n))+")"};function jU(r){let e="",t="",n="",i="";return r.length>5?(e=r.substring(1,3),t=r.substring(3,5),n=r.substring(5,7),i=r.substring(7,9)):(e=r.substring(1,2),t=r.substring(2,3),n=r.substring(3,4),i=r.substring(4,5),e+=e,t+=t,n+=n,i+=i),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(n,16),alpha:i?parseInt(i,16)/255:1}}const nx={test:E1("#"),parse:jU,transform:lh.transform},Fc={test:E1("hsl","hue"),parse:TR("hue","saturation","lightness"),transform:({hue:r,saturation:e,lightness:t,alpha:n=1})=>"hsla("+Math.round(r)+", "+Eo.transform(Gf(e))+", "+Eo.transform(Gf(t))+", "+Gf(ap.transform(n))+")"},xn={test:r=>lh.test(r)||nx.test(r)||Fc.test(r),parse:r=>lh.test(r)?lh.parse(r):Fc.test(r)?Fc.parse(r):nx.parse(r),transform:r=>typeof r=="string"?r:r.hasOwnProperty("red")?lh.transform(r):Fc.transform(r)},HU=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function $U(r){var e,t;return isNaN(r)&&typeof r=="string"&&(((e=r.match(T1))===null||e===void 0?void 0:e.length)||0)+(((t=r.match(HU))===null||t===void 0?void 0:t.length)||0)>0}const ER="number",AR="color",WU="var",XU="var(",AT="${}",YU=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function hp(r){const e=r.toString(),t=[],n={color:[],number:[],var:[]},i=[];let s=0;const u=e.replace(YU,c=>(xn.test(c)?(n.color.push(s),i.push(AR),t.push(xn.parse(c))):c.startsWith(XU)?(n.var.push(s),i.push(WU),t.push(c)):(n.number.push(s),i.push(ER),t.push(parseFloat(c))),++s,AT)).split(AT);return{values:t,split:u,indexes:n,types:i}}function CR(r){return hp(r).values}function PR(r){const{split:e,types:t}=hp(r),n=e.length;return i=>{let s="";for(let a=0;a<n;a++)if(s+=e[a],i[a]!==void 0){const u=t[a];u===ER?s+=Gf(i[a]):u===AR?s+=xn.transform(i[a]):s+=i[a]}return s}}const qU=r=>typeof r=="number"?0:r;function KU(r){const e=CR(r);return PR(r)(e.map(qU))}const zl={test:$U,parse:CR,createTransformer:PR,getAnimatableNone:KU},QU=new Set(["brightness","contrast","saturate","opacity"]);function ZU(r){const[e,t]=r.slice(0,-1).split("(");if(e==="drop-shadow")return r;const[n]=t.match(T1)||[];if(!n)return r;const i=t.replace(n,"");let s=QU.has(e)?1:0;return n!==t&&(s*=100),e+"("+s+i+")"}const JU=/\b([a-z-]*)\(.*?\)/gu,ix={...zl,getAnimatableNone:r=>{const e=r.match(JU);return e?e.map(ZU).join(" "):r}},e4={...a1,color:xn,backgroundColor:xn,outlineColor:xn,fill:xn,stroke:xn,borderColor:xn,borderTopColor:xn,borderRightColor:xn,borderBottomColor:xn,borderLeftColor:xn,filter:ix,WebkitFilter:ix},A1=r=>e4[r];function RR(r,e){let t=A1(r);return t!==ix&&(t=zl),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const t4=new Set(["auto","none","0"]);function r4(r,e,t){let n=0,i;for(;n<r.length&&!i;){const s=r[n];typeof s=="string"&&!t4.has(s)&&hp(s).values.length&&(i=r[n]),n++}if(i&&t)for(const s of e)r[s]=RR(t,i)}const CT=r=>r===hd||r===nt,PT=(r,e)=>parseFloat(r.split(", ")[e]),RT=(r,e)=>(t,{transform:n})=>{if(n==="none"||!n)return 0;const i=n.match(/^matrix3d\((.+)\)$/u);if(i)return PT(i[1],e);{const s=n.match(/^matrix\((.+)\)$/u);return s?PT(s[1],r):0}},n4=new Set(["x","y","z"]),i4=ud.filter(r=>!n4.has(r));function s4(r){const e=[];return i4.forEach(t=>{const n=r.getValue(t);n!==void 0&&(e.push([t,n.get()]),n.set(t.startsWith("scale")?1:0))}),e}const id={width:({x:r},{paddingLeft:e="0",paddingRight:t="0"})=>r.max-r.min-parseFloat(e)-parseFloat(t),height:({y:r},{paddingTop:e="0",paddingBottom:t="0"})=>r.max-r.min-parseFloat(e)-parseFloat(t),top:(r,{top:e})=>parseFloat(e),left:(r,{left:e})=>parseFloat(e),bottom:({y:r},{top:e})=>parseFloat(e)+(r.max-r.min),right:({x:r},{left:e})=>parseFloat(e)+(r.max-r.min),x:RT(4,13),y:RT(5,14)};id.translateX=id.x;id.translateY=id.y;const mh=new Set;let sx=!1,ox=!1;function IR(){if(ox){const r=Array.from(mh).filter(n=>n.needsMeasurement),e=new Set(r.map(n=>n.element)),t=new Map;e.forEach(n=>{const i=s4(n);i.length&&(t.set(n,i),n.render())}),r.forEach(n=>n.measureInitialState()),e.forEach(n=>{n.render();const i=t.get(n);i&&i.forEach(([s,a])=>{var u;(u=n.getValue(s))===null||u===void 0||u.set(a)})}),r.forEach(n=>n.measureEndState()),r.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}ox=!1,sx=!1,mh.forEach(r=>r.complete()),mh.clear()}function kR(){mh.forEach(r=>{r.readKeyframes(),r.needsMeasurement&&(ox=!0)})}function o4(){kR(),IR()}class C1{constructor(e,t,n,i,s,a=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=n,this.motionValue=i,this.element=s,this.isAsync=a}scheduleResolve(){this.isScheduled=!0,this.isAsync?(mh.add(this),sx||(sx=!0,$t.read(kR),$t.resolveKeyframes(IR))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:n,motionValue:i}=this;for(let s=0;s<e.length;s++)if(e[s]===null)if(s===0){const a=i==null?void 0:i.get(),u=e[e.length-1];if(a!==void 0)e[0]=a;else if(n&&t){const c=n.readValue(t,u);c!=null&&(e[0]=c)}e[0]===void 0&&(e[0]=u),i&&a===void 0&&i.set(e[0])}else e[s]=e[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),mh.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,mh.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const MR=r=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(r),a4=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function l4(r){const e=a4.exec(r);if(!e)return[,];const[,t,n,i]=e;return[`--${t??n}`,i]}function DR(r,e,t=1){const[n,i]=l4(r);if(!n)return;const s=window.getComputedStyle(e).getPropertyValue(n);if(s){const a=s.trim();return MR(a)?parseFloat(a):a}return o1(i)?DR(i,e,t+1):i}const OR=r=>e=>e.test(r),u4={test:r=>r==="auto",parse:r=>r},NR=[hd,nt,Eo,bl,q3,Y3,u4],IT=r=>NR.find(OR(r));class FR extends C1{constructor(e,t,n,i,s){super(e,t,n,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:n}=this;if(!t||!t.current)return;super.readKeyframes();for(let c=0;c<e.length;c++){let f=e[c];if(typeof f=="string"&&(f=f.trim(),o1(f))){const m=DR(f,t.current);m!==void 0&&(e[c]=m),c===e.length-1&&(this.finalKeyframe=f)}}if(this.resolveNoneKeyframes(),!dR.has(n)||e.length!==2)return;const[i,s]=e,a=IT(i),u=IT(s);if(a!==u)if(CT(a)&&CT(u))for(let c=0;c<e.length;c++){const f=e[c];typeof f=="string"&&(e[c]=parseFloat(f))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,n=[];for(let i=0;i<e.length;i++)UU(e[i])&&n.push(i);n.length&&r4(e,n,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:n}=this;if(!e||!e.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=id[n](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const i=t[t.length-1];i!==void 0&&e.getValue(n,i).jump(i,!1)}measureEndState(){var e;const{element:t,name:n,unresolvedKeyframes:i}=this;if(!t||!t.current)return;const s=t.getValue(n);s&&s.jump(this.measuredOrigin,!1);const a=i.length-1,u=i[a];i[a]=id[n](t.measureViewportBox(),window.getComputedStyle(t.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([c,f])=>{t.getValue(c).set(f)}),this.resolveNoneKeyframes()}}const kT=(r,e)=>e==="zIndex"?!1:!!(typeof r=="number"||Array.isArray(r)||typeof r=="string"&&(zl.test(r)||r==="0")&&!r.startsWith("url("));function h4(r){const e=r[0];if(r.length===1)return!0;for(let t=0;t<r.length;t++)if(r[t]!==e)return!0}function c4(r,e,t,n){const i=r[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=r[r.length-1],a=kT(i,e),u=kT(s,e);return!a||!u?!1:h4(r)||(t==="spring"||g1(t))&&n}const d4=r=>r!==null;function oy(r,{repeat:e,repeatType:t="loop"},n){const i=r.filter(d4),s=e&&t!=="loop"&&e%2===1?0:i.length-1;return!s||n===void 0?i[s]:n}const f4=40;class LR{constructor({autoplay:e=!0,delay:t=0,type:n="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:a="loop",...u}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Ao.now(),this.options={autoplay:e,delay:t,type:n,repeat:i,repeatDelay:s,repeatType:a,...u},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>f4?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&o4(),this._resolved}onKeyframesResolved(e,t){this.resolvedAt=Ao.now(),this.hasAttemptedResolve=!0;const{name:n,type:i,velocity:s,delay:a,onComplete:u,onUpdate:c,isGenerator:f}=this.options;if(!f&&!c4(e,n,i,s))if(a)this.options.duration=0;else{c&&c(oy(e,this.options,t)),u&&u(),this.resolveFinishedPromise();return}const m=this.initPlayback(e,t);m!==!1&&(this._resolved={keyframes:e,finalKeyframe:t,...m},this.onPostResolved())}onPostResolved(){}then(e,t){return this.currentFinishedPromise.then(e,t)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const sr=(r,e,t)=>r+(e-r)*t;function L0(r,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?r+(e-r)*6*t:t<1/2?e:t<2/3?r+(e-r)*(2/3-t)*6:r}function p4({hue:r,saturation:e,lightness:t,alpha:n}){r/=360,e/=100,t/=100;let i=0,s=0,a=0;if(!e)i=s=a=t;else{const u=t<.5?t*(1+e):t+e-t*e,c=2*t-u;i=L0(c,u,r+1/3),s=L0(c,u,r),a=L0(c,u,r-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(a*255),alpha:n}}function Dg(r,e){return t=>t>0?e:r}const B0=(r,e,t)=>{const n=r*r,i=t*(e*e-n)+n;return i<0?0:Math.sqrt(i)},m4=[nx,lh,Fc],g4=r=>m4.find(e=>e.test(r));function MT(r){const e=g4(r);if(!e)return!1;let t=e.parse(r);return e===Fc&&(t=p4(t)),t}const DT=(r,e)=>{const t=MT(r),n=MT(e);if(!t||!n)return Dg(r,e);const i={...t};return s=>(i.red=B0(t.red,n.red,s),i.green=B0(t.green,n.green,s),i.blue=B0(t.blue,n.blue,s),i.alpha=sr(t.alpha,n.alpha,s),lh.transform(i))},y4=(r,e)=>t=>e(r(t)),Sp=(...r)=>r.reduce(y4),ax=new Set(["none","hidden"]);function v4(r,e){return ax.has(r)?t=>t<=0?r:e:t=>t>=1?e:r}function _4(r,e){return t=>sr(r,e,t)}function P1(r){return typeof r=="number"?_4:typeof r=="string"?o1(r)?Dg:xn.test(r)?DT:S4:Array.isArray(r)?BR:typeof r=="object"?xn.test(r)?DT:x4:Dg}function BR(r,e){const t=[...r],n=t.length,i=r.map((s,a)=>P1(s)(s,e[a]));return s=>{for(let a=0;a<n;a++)t[a]=i[a](s);return t}}function x4(r,e){const t={...r,...e},n={};for(const i in t)r[i]!==void 0&&e[i]!==void 0&&(n[i]=P1(r[i])(r[i],e[i]));return i=>{for(const s in n)t[s]=n[s](i);return t}}function w4(r,e){var t;const n=[],i={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const a=e.types[s],u=r.indexes[a][i[a]],c=(t=r.values[u])!==null&&t!==void 0?t:0;n[s]=c,i[a]++}return n}const S4=(r,e)=>{const t=zl.createTransformer(e),n=hp(r),i=hp(e);return n.indexes.var.length===i.indexes.var.length&&n.indexes.color.length===i.indexes.color.length&&n.indexes.number.length>=i.indexes.number.length?ax.has(r)&&!i.values.length||ax.has(e)&&!n.values.length?v4(r,e):Sp(BR(w4(n,i),i.values),t):Dg(r,e)};function UR(r,e,t){return typeof r=="number"&&typeof e=="number"&&typeof t=="number"?sr(r,e,t):P1(r)(r,e)}const b4=5;function zR(r,e,t){const n=Math.max(e-b4,0);return fR(t-r(n),e-n)}const pr={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},OT=.001;function T4({duration:r=pr.duration,bounce:e=pr.bounce,velocity:t=pr.velocity,mass:n=pr.mass}){let i,s,a=1-e;a=ba(pr.minDamping,pr.maxDamping,a),r=ba(pr.minDuration,pr.maxDuration,ga(r)),a<1?(i=f=>{const m=f*a,g=m*r,v=m-t,x=lx(f,a),S=Math.exp(-g);return OT-v/x*S},s=f=>{const g=f*a*r,v=g*t+t,x=Math.pow(a,2)*Math.pow(f,2)*r,S=Math.exp(-g),b=lx(Math.pow(f,2),a);return(-i(f)+OT>0?-1:1)*((v-x)*S)/b}):(i=f=>{const m=Math.exp(-f*r),g=(f-t)*r+1;return-.001+m*g},s=f=>{const m=Math.exp(-f*r),g=(t-f)*(r*r);return m*g});const u=5/r,c=A4(i,s,u);if(r=ma(r),isNaN(c))return{stiffness:pr.stiffness,damping:pr.damping,duration:r};{const f=Math.pow(c,2)*n;return{stiffness:f,damping:a*2*Math.sqrt(n*f),duration:r}}}const E4=12;function A4(r,e,t){let n=t;for(let i=1;i<E4;i++)n=n-r(n)/e(n);return n}function lx(r,e){return r*Math.sqrt(1-e*e)}const C4=["duration","bounce"],P4=["stiffness","damping","mass"];function NT(r,e){return e.some(t=>r[t]!==void 0)}function R4(r){let e={velocity:pr.velocity,stiffness:pr.stiffness,damping:pr.damping,mass:pr.mass,isResolvedFromDuration:!1,...r};if(!NT(r,P4)&&NT(r,C4))if(r.visualDuration){const t=r.visualDuration,n=2*Math.PI/(t*1.2),i=n*n,s=2*ba(.05,1,1-(r.bounce||0))*Math.sqrt(i);e={...e,mass:pr.mass,stiffness:i,damping:s}}else{const t=T4(r);e={...e,...t,mass:pr.mass},e.isResolvedFromDuration=!0}return e}function VR(r=pr.visualDuration,e=pr.bounce){const t=typeof r!="object"?{visualDuration:r,keyframes:[0,1],bounce:e}:r;let{restSpeed:n,restDelta:i}=t;const s=t.keyframes[0],a=t.keyframes[t.keyframes.length-1],u={done:!1,value:s},{stiffness:c,damping:f,mass:m,duration:g,velocity:v,isResolvedFromDuration:x}=R4({...t,velocity:-ga(t.velocity||0)}),S=v||0,b=f/(2*Math.sqrt(c*m)),E=a-s,P=ga(Math.sqrt(c/m)),k=Math.abs(E)<5;n||(n=k?pr.restSpeed.granular:pr.restSpeed.default),i||(i=k?pr.restDelta.granular:pr.restDelta.default);let R;if(b<1){const D=lx(P,b);R=H=>{const N=Math.exp(-b*P*H);return a-N*((S+b*P*E)/D*Math.sin(D*H)+E*Math.cos(D*H))}}else if(b===1)R=D=>a-Math.exp(-P*D)*(E+(S+P*E)*D);else{const D=P*Math.sqrt(b*b-1);R=H=>{const N=Math.exp(-b*P*H),G=Math.min(D*H,300);return a-N*((S+b*P*E)*Math.sinh(G)+D*E*Math.cosh(G))/D}}const L={calculatedDuration:x&&g||null,next:D=>{const H=R(D);if(x)u.done=D>=g;else{let N=0;b<1&&(N=D===0?ma(S):zR(R,D,H));const G=Math.abs(N)<=n,X=Math.abs(a-H)<=i;u.done=G&&X}return u.value=u.done?a:H,u},toString:()=>{const D=Math.min(sR(L),ex),H=oR(N=>L.next(D*N).value,D,30);return D+"ms "+H}};return L}function FT({keyframes:r,velocity:e=0,power:t=.8,timeConstant:n=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:a,min:u,max:c,restDelta:f=.5,restSpeed:m}){const g=r[0],v={done:!1,value:g},x=G=>u!==void 0&&G<u||c!==void 0&&G>c,S=G=>u===void 0?c:c===void 0||Math.abs(u-G)<Math.abs(c-G)?u:c;let b=t*e;const E=g+b,P=a===void 0?E:a(E);P!==E&&(b=P-g);const k=G=>-b*Math.exp(-G/n),R=G=>P+k(G),L=G=>{const X=k(G),re=R(G);v.done=Math.abs(X)<=f,v.value=v.done?P:re};let D,H;const N=G=>{x(v.value)&&(D=G,H=VR({keyframes:[v.value,S(v.value)],velocity:zR(R,G,v.value),damping:i,stiffness:s,restDelta:f,restSpeed:m}))};return N(0),{calculatedDuration:null,next:G=>{let X=!1;return!H&&D===void 0&&(X=!0,L(G),N(G)),D!==void 0&&G>=D?H.next(G-D):(!X&&L(G),v)}}}const I4=wp(.42,0,1,1),k4=wp(0,0,.58,1),GR=wp(.42,0,.58,1),M4=r=>Array.isArray(r)&&typeof r[0]!="number",D4={linear:Oi,easeIn:I4,easeInOut:GR,easeOut:k4,circIn:b1,circInOut:SR,circOut:wR,backIn:S1,backInOut:_R,backOut:vR,anticipate:xR},LT=r=>{if(y1(r)){zP(r.length===4);const[e,t,n,i]=r;return wp(e,t,n,i)}else if(typeof r=="string")return D4[r];return r};function O4(r,e,t){const n=[],i=t||UR,s=r.length-1;for(let a=0;a<s;a++){let u=i(r[a],r[a+1]);if(e){const c=Array.isArray(e)?e[a]||Oi:e;u=Sp(c,u)}n.push(u)}return n}function N4(r,e,{clamp:t=!0,ease:n,mixer:i}={}){const s=r.length;if(zP(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const a=r[0]===r[1];r[0]>r[s-1]&&(r=[...r].reverse(),e=[...e].reverse());const u=O4(e,n,i),c=u.length,f=m=>{if(a&&m<r[0])return e[0];let g=0;if(c>1)for(;g<r.length-2&&!(m<r[g+1]);g++);const v=rd(r[g],r[g+1],m);return u[g](v)};return t?m=>f(ba(r[0],r[s-1],m)):f}function F4(r,e){const t=r[r.length-1];for(let n=1;n<=e;n++){const i=rd(0,e,n);r.push(sr(t,1,i))}}function L4(r){const e=[0];return F4(e,r.length-1),e}function B4(r,e){return r.map(t=>t*e)}function U4(r,e){return r.map(()=>e||GR).splice(0,r.length-1)}function Og({duration:r=300,keyframes:e,times:t,ease:n="easeInOut"}){const i=M4(n)?n.map(LT):LT(n),s={done:!1,value:e[0]},a=B4(t&&t.length===e.length?t:L4(e),r),u=N4(a,e,{ease:Array.isArray(i)?i:U4(e,i)});return{calculatedDuration:r,next:c=>(s.value=u(c),s.done=c>=r,s)}}const z4=r=>{const e=({timestamp:t})=>r(t);return{start:()=>$t.update(e,!0),stop:()=>Ul(e),now:()=>sn.isProcessing?sn.timestamp:Ao.now()}},V4={decay:FT,inertia:FT,tween:Og,keyframes:Og,spring:VR},G4=r=>r/100;class R1 extends LR{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:c}=this.options;c&&c()};const{name:t,motionValue:n,element:i,keyframes:s}=this.options,a=(i==null?void 0:i.KeyframeResolver)||C1,u=(c,f)=>this.onKeyframesResolved(c,f);this.resolver=new a(s,u,t,n,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:t="keyframes",repeat:n=0,repeatDelay:i=0,repeatType:s,velocity:a=0}=this.options,u=g1(t)?t:V4[t]||Og;let c,f;u!==Og&&typeof e[0]!="number"&&(c=Sp(G4,UR(e[0],e[1])),e=[0,100]);const m=u({...this.options,keyframes:e});s==="mirror"&&(f=u({...this.options,keyframes:[...e].reverse(),velocity:-a})),m.calculatedDuration===null&&(m.calculatedDuration=sR(m));const{calculatedDuration:g}=m,v=g+i,x=v*(n+1)-i;return{generator:m,mirroredGenerator:f,mapPercentToKeyframes:c,calculatedDuration:g,resolvedDuration:v,totalDuration:x}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,t=!1){const{resolved:n}=this;if(!n){const{keyframes:G}=this.options;return{done:!0,value:G[G.length-1]}}const{finalKeyframe:i,generator:s,mirroredGenerator:a,mapPercentToKeyframes:u,keyframes:c,calculatedDuration:f,totalDuration:m,resolvedDuration:g}=n;if(this.startTime===null)return s.next(0);const{delay:v,repeat:x,repeatType:S,repeatDelay:b,onUpdate:E}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-m/this.speed,this.startTime)),t?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const P=this.currentTime-v*(this.speed>=0?1:-1),k=this.speed>=0?P<0:P>m;this.currentTime=Math.max(P,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=m);let R=this.currentTime,L=s;if(x){const G=Math.min(this.currentTime,m)/g;let X=Math.floor(G),re=G%1;!re&&G>=1&&(re=1),re===1&&X--,X=Math.min(X,x+1),!!(X%2)&&(S==="reverse"?(re=1-re,b&&(re-=b/g)):S==="mirror"&&(L=a)),R=ba(0,1,re)*g}const D=k?{done:!1,value:c[0]}:L.next(R);u&&(D.value=u(D.value));let{done:H}=D;!k&&f!==null&&(H=this.speed>=0?this.currentTime>=m:this.currentTime<=0);const N=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&H);return N&&i!==void 0&&(D.value=oy(c,this.options,i)),E&&E(D.value),N&&this.finish(),D}get duration(){const{resolved:e}=this;return e?ga(e.calculatedDuration):0}get time(){return ga(this.currentTime)}set time(e){e=ma(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=ga(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=z4,onPlay:t,startTime:n}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),t&&t();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=n??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const j4=new Set(["opacity","clipPath","filter","transform"]);function H4(r,e,t,{delay:n=0,duration:i=300,repeat:s=0,repeatType:a="loop",ease:u="easeInOut",times:c}={}){const f={[e]:t};c&&(f.offset=c);const m=lR(u,i);return Array.isArray(m)&&(f.easing=m),r.animate(f,{delay:n,duration:i,easing:Array.isArray(m)?"linear":m,fill:"both",iterations:s+1,direction:a==="reverse"?"alternate":"normal"})}const $4=e1(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Ng=10,W4=2e4;function X4(r){return g1(r.type)||r.type==="spring"||!aR(r.ease)}function Y4(r,e){const t=new R1({...e,keyframes:r,repeat:0,delay:0,isGenerator:!0});let n={done:!1,value:r[0]};const i=[];let s=0;for(;!n.done&&s<W4;)n=t.sample(s),i.push(n.value),s+=Ng;return{times:void 0,keyframes:i,duration:s-Ng,ease:"linear"}}const jR={anticipate:xR,backInOut:_R,circInOut:SR};function q4(r){return r in jR}class BT extends LR{constructor(e){super(e);const{name:t,motionValue:n,element:i,keyframes:s}=this.options;this.resolver=new FR(s,(a,u)=>this.onKeyframesResolved(a,u),t,n,i),this.resolver.scheduleResolve()}initPlayback(e,t){let{duration:n=300,times:i,ease:s,type:a,motionValue:u,name:c,startTime:f}=this.options;if(!u.owner||!u.owner.current)return!1;if(typeof s=="string"&&Mg()&&q4(s)&&(s=jR[s]),X4(this.options)){const{onComplete:g,onUpdate:v,motionValue:x,element:S,...b}=this.options,E=Y4(e,b);e=E.keyframes,e.length===1&&(e[1]=e[0]),n=E.duration,i=E.times,s=E.ease,a="keyframes"}const m=H4(u.owner.current,c,e,{...this.options,duration:n,times:i,ease:s});return m.startTime=f??this.calcStartTime(),this.pendingTimeline?(wT(m,this.pendingTimeline),this.pendingTimeline=void 0):m.onfinish=()=>{const{onComplete:g}=this.options;u.set(oy(e,this.options,t)),g&&g(),this.cancel(),this.resolveFinishedPromise()},{animation:m,duration:n,times:i,type:a,ease:s,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:t}=e;return ga(t)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:t}=e;return ga(t.currentTime||0)}set time(e){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.currentTime=ma(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:t}=e;return t.playbackRate}set speed(e){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:t}=e;return t.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:t}=e;return t.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:t}=this;if(!t)return Oi;const{animation:n}=t;wT(n,e)}return Oi}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.playState==="finished"&&this.updateFinishedPromise(),t.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:t,keyframes:n,duration:i,type:s,ease:a,times:u}=e;if(t.playState==="idle"||t.playState==="finished")return;if(this.time){const{motionValue:f,onUpdate:m,onComplete:g,element:v,...x}=this.options,S=new R1({...x,keyframes:n,duration:i,type:s,ease:a,times:u,isGenerator:!0}),b=ma(this.time);f.setWithVelocity(S.sample(b-Ng).value,S.sample(b).value,Ng)}const{onStop:c}=this.options;c&&c(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:t,name:n,repeatDelay:i,repeatType:s,damping:a,type:u}=e;if(!t||!t.owner||!(t.owner.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:f}=t.owner.getProps();return $4()&&n&&j4.has(n)&&!c&&!f&&!i&&s!=="mirror"&&a!==0&&u!=="inertia"}}const K4={type:"spring",stiffness:500,damping:25,restSpeed:10},Q4=r=>({type:"spring",stiffness:550,damping:r===0?2*Math.sqrt(550):30,restSpeed:10}),Z4={type:"keyframes",duration:.8},J4={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},e5=(r,{keyframes:e})=>e.length>2?Z4:Sh.has(r)?r.startsWith("scale")?Q4(e[1]):K4:J4;function t5({when:r,delay:e,delayChildren:t,staggerChildren:n,staggerDirection:i,repeat:s,repeatType:a,repeatDelay:u,from:c,elapsed:f,...m}){return!!Object.keys(m).length}const I1=(r,e,t,n={},i,s)=>a=>{const u=m1(n,r)||{},c=u.delay||n.delay||0;let{elapsed:f=0}=n;f=f-ma(c);let m={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...u,delay:-f,onUpdate:v=>{e.set(v),u.onUpdate&&u.onUpdate(v)},onComplete:()=>{a(),u.onComplete&&u.onComplete()},name:r,motionValue:e,element:s?void 0:i};t5(u)||(m={...m,...e5(r,m)}),m.duration&&(m.duration=ma(m.duration)),m.repeatDelay&&(m.repeatDelay=ma(m.repeatDelay)),m.from!==void 0&&(m.keyframes[0]=m.from);let g=!1;if((m.type===!1||m.duration===0&&!m.repeatDelay)&&(m.duration=0,m.delay===0&&(g=!0)),g&&!s&&e.get()!==void 0){const v=oy(m.keyframes,u);if(v!==void 0)return $t.update(()=>{m.onUpdate(v),m.onComplete()}),new xU([])}return!s&&BT.supports(m)?new BT(m):new R1(m)};function r5({protectedKeys:r,needsAnimating:e},t){const n=r.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,n}function HR(r,e,{delay:t=0,transitionOverride:n,type:i}={}){var s;let{transition:a=r.getDefaultTransition(),transitionEnd:u,...c}=e;n&&(a=n);const f=[],m=i&&r.animationState&&r.animationState.getState()[i];for(const g in c){const v=r.getValue(g,(s=r.latestValues[g])!==null&&s!==void 0?s:null),x=c[g];if(x===void 0||m&&r5(m,g))continue;const S={delay:t,...m1(a||{},g)};let b=!1;if(window.MotionHandoffAnimation){const P=pR(r);if(P){const k=window.MotionHandoffAnimation(P,g,$t);k!==null&&(S.startTime=k,b=!0)}}rx(r,g),v.start(I1(g,v,x,r.shouldReduceMotion&&dR.has(g)?{type:!1}:S,r,b));const E=v.animation;E&&f.push(E)}return u&&Promise.all(f).then(()=>{$t.update(()=>{u&&OU(r,u)})}),f}function ux(r,e,t={}){var n;const i=lp(r,e,t.type==="exit"?(n=r.presenceContext)===null||n===void 0?void 0:n.custom:void 0);let{transition:s=r.getDefaultTransition()||{}}=i||{};t.transitionOverride&&(s=t.transitionOverride);const a=i?()=>Promise.all(HR(r,i,t)):()=>Promise.resolve(),u=r.variantChildren&&r.variantChildren.size?(f=0)=>{const{delayChildren:m=0,staggerChildren:g,staggerDirection:v}=s;return n5(r,e,m+f,g,v,t)}:()=>Promise.resolve(),{when:c}=s;if(c){const[f,m]=c==="beforeChildren"?[a,u]:[u,a];return f().then(()=>m())}else return Promise.all([a(),u(t.delay)])}function n5(r,e,t=0,n=0,i=1,s){const a=[],u=(r.variantChildren.size-1)*n,c=i===1?(f=0)=>f*n:(f=0)=>u-f*n;return Array.from(r.variantChildren).sort(i5).forEach((f,m)=>{f.notify("AnimationStart",e),a.push(ux(f,e,{...s,delay:t+c(m)}).then(()=>f.notify("AnimationComplete",e)))}),Promise.all(a)}function i5(r,e){return r.sortNodePosition(e)}function s5(r,e,t={}){r.notify("AnimationStart",e);let n;if(Array.isArray(e)){const i=e.map(s=>ux(r,s,t));n=Promise.all(i)}else if(typeof e=="string")n=ux(r,e,t);else{const i=typeof e=="function"?lp(r,e,t.custom):e;n=Promise.all(HR(r,i,t))}return n.then(()=>{r.notify("AnimationComplete",e)})}function $R(r,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==r.length)return!1;for(let n=0;n<t;n++)if(e[n]!==r[n])return!1;return!0}const o5=r1.length;function WR(r){if(!r)return;if(!r.isControllingVariants){const t=r.parent?WR(r.parent)||{}:{};return r.props.initial!==void 0&&(t.initial=r.props.initial),t}const e={};for(let t=0;t<o5;t++){const n=r1[t],i=r.props[n];(sp(i)||i===!1)&&(e[n]=i)}return e}const a5=[...t1].reverse(),l5=t1.length;function u5(r){return e=>Promise.all(e.map(({animation:t,options:n})=>s5(r,t,n)))}function h5(r){let e=u5(r),t=UT(),n=!0;const i=c=>(f,m)=>{var g;const v=lp(r,m,c==="exit"?(g=r.presenceContext)===null||g===void 0?void 0:g.custom:void 0);if(v){const{transition:x,transitionEnd:S,...b}=v;f={...f,...b,...S}}return f};function s(c){e=c(r)}function a(c){const{props:f}=r,m=WR(r.parent)||{},g=[],v=new Set;let x={},S=1/0;for(let E=0;E<l5;E++){const P=a5[E],k=t[P],R=f[P]!==void 0?f[P]:m[P],L=sp(R),D=P===c?k.isActive:null;D===!1&&(S=E);let H=R===m[P]&&R!==f[P]&&L;if(H&&n&&r.manuallyAnimateOnMount&&(H=!1),k.protectedKeys={...x},!k.isActive&&D===null||!R&&!k.prevProp||iy(R)||typeof R=="boolean")continue;const N=c5(k.prevProp,R);let G=N||P===c&&k.isActive&&!H&&L||E>S&&L,X=!1;const re=Array.isArray(R)?R:[R];let me=re.reduce(i(P),{});D===!1&&(me={});const{prevResolvedValues:q={}}=k,Z={...q,...me},le=z=>{G=!0,v.has(z)&&(X=!0,v.delete(z)),k.needsAnimating[z]=!0;const M=r.getValue(z);M&&(M.liveStyle=!1)};for(const z in Z){const M=me[z],$=q[z];if(x.hasOwnProperty(z))continue;let B=!1;J_(M)&&J_($)?B=!$R(M,$):B=M!==$,B?M!=null?le(z):v.add(z):M!==void 0&&v.has(z)?le(z):k.protectedKeys[z]=!0}k.prevProp=R,k.prevResolvedValues=me,k.isActive&&(x={...x,...me}),n&&r.blockInitialAnimation&&(G=!1),G&&(!(H&&N)||X)&&g.push(...re.map(z=>({animation:z,options:{type:P}})))}if(v.size){const E={};if(typeof f.initial!="boolean"){const P=lp(r,Array.isArray(f.initial)?f.initial[0]:f.initial);P&&P.transition&&(E.transition=P.transition)}v.forEach(P=>{const k=r.getBaseTarget(P),R=r.getValue(P);R&&(R.liveStyle=!0),E[P]=k??null}),g.push({animation:E})}let b=!!g.length;return n&&(f.initial===!1||f.initial===f.animate)&&!r.manuallyAnimateOnMount&&(b=!1),n=!1,b?e(g):Promise.resolve()}function u(c,f){var m;if(t[c].isActive===f)return Promise.resolve();(m=r.variantChildren)===null||m===void 0||m.forEach(v=>{var x;return(x=v.animationState)===null||x===void 0?void 0:x.setActive(c,f)}),t[c].isActive=f;const g=a(c);for(const v in t)t[v].protectedKeys={};return g}return{animateChanges:a,setActive:u,setAnimateFunction:s,getState:()=>t,reset:()=>{t=UT(),n=!0}}}function c5(r,e){return typeof e=="string"?e!==r:Array.isArray(e)?!$R(e,r):!1}function Ku(r=!1){return{isActive:r,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function UT(){return{animate:Ku(!0),whileInView:Ku(),whileHover:Ku(),whileTap:Ku(),whileDrag:Ku(),whileFocus:Ku(),exit:Ku()}}class $l{constructor(e){this.isMounted=!1,this.node=e}update(){}}class d5 extends $l{constructor(e){super(e),e.animationState||(e.animationState=h5(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();iy(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let f5=0;class p5 extends $l{constructor(){super(...arguments),this.id=f5++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const i=this.node.animationState.setActive("exit",!e);t&&!e&&i.then(()=>{t(this.id)})}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const m5={animation:{Feature:d5},exit:{Feature:p5}};function cp(r,e,t,n={passive:!0}){return r.addEventListener(e,t,n),()=>r.removeEventListener(e,t)}function bp(r){return{point:{x:r.pageX,y:r.pageY}}}const g5=r=>e=>v1(e)&&r(e,bp(e));function jf(r,e,t,n){return cp(r,e,g5(t),n)}const zT=(r,e)=>Math.abs(r-e);function y5(r,e){const t=zT(r.x,e.x),n=zT(r.y,e.y);return Math.sqrt(t**2+n**2)}class XR{constructor(e,t,{transformPagePoint:n,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=z0(this.lastMoveEventInfo,this.history),v=this.startEvent!==null,x=y5(g.offset,{x:0,y:0})>=3;if(!v&&!x)return;const{point:S}=g,{timestamp:b}=sn;this.history.push({...S,timestamp:b});const{onStart:E,onMove:P}=this.handlers;v||(E&&E(this.lastMoveEvent,g),this.startEvent=this.lastMoveEvent),P&&P(this.lastMoveEvent,g)},this.handlePointerMove=(g,v)=>{this.lastMoveEvent=g,this.lastMoveEventInfo=U0(v,this.transformPagePoint),$t.update(this.updatePoint,!0)},this.handlePointerUp=(g,v)=>{this.end();const{onEnd:x,onSessionEnd:S,resumeAnimation:b}=this.handlers;if(this.dragSnapToOrigin&&b&&b(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const E=z0(g.type==="pointercancel"?this.lastMoveEventInfo:U0(v,this.transformPagePoint),this.history);this.startEvent&&x&&x(g,E),S&&S(g,E)},!v1(e))return;this.dragSnapToOrigin=s,this.handlers=t,this.transformPagePoint=n,this.contextWindow=i||window;const a=bp(e),u=U0(a,this.transformPagePoint),{point:c}=u,{timestamp:f}=sn;this.history=[{...c,timestamp:f}];const{onSessionStart:m}=t;m&&m(e,z0(u,this.history)),this.removeListeners=Sp(jf(this.contextWindow,"pointermove",this.handlePointerMove),jf(this.contextWindow,"pointerup",this.handlePointerUp),jf(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Ul(this.updatePoint)}}function U0(r,e){return e?{point:e(r.point)}:r}function VT(r,e){return{x:r.x-e.x,y:r.y-e.y}}function z0({point:r},e){return{point:r,delta:VT(r,YR(e)),offset:VT(r,v5(e)),velocity:_5(e,.1)}}function v5(r){return r[0]}function YR(r){return r[r.length-1]}function _5(r,e){if(r.length<2)return{x:0,y:0};let t=r.length-1,n=null;const i=YR(r);for(;t>=0&&(n=r[t],!(i.timestamp-n.timestamp>ma(e)));)t--;if(!n)return{x:0,y:0};const s=ga(i.timestamp-n.timestamp);if(s===0)return{x:0,y:0};const a={x:(i.x-n.x)/s,y:(i.y-n.y)/s};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}const qR=1e-4,x5=1-qR,w5=1+qR,KR=.01,S5=0-KR,b5=0+KR;function Bn(r){return r.max-r.min}function T5(r,e,t){return Math.abs(r-e)<=t}function GT(r,e,t,n=.5){r.origin=n,r.originPoint=sr(e.min,e.max,r.origin),r.scale=Bn(t)/Bn(e),r.translate=sr(t.min,t.max,r.origin)-r.originPoint,(r.scale>=x5&&r.scale<=w5||isNaN(r.scale))&&(r.scale=1),(r.translate>=S5&&r.translate<=b5||isNaN(r.translate))&&(r.translate=0)}function Hf(r,e,t,n){GT(r.x,e.x,t.x,n?n.originX:void 0),GT(r.y,e.y,t.y,n?n.originY:void 0)}function jT(r,e,t){r.min=t.min+e.min,r.max=r.min+Bn(e)}function E5(r,e,t){jT(r.x,e.x,t.x),jT(r.y,e.y,t.y)}function HT(r,e,t){r.min=e.min-t.min,r.max=r.min+Bn(e)}function $f(r,e,t){HT(r.x,e.x,t.x),HT(r.y,e.y,t.y)}function A5(r,{min:e,max:t},n){return e!==void 0&&r<e?r=n?sr(e,r,n.min):Math.max(r,e):t!==void 0&&r>t&&(r=n?sr(t,r,n.max):Math.min(r,t)),r}function $T(r,e,t){return{min:e!==void 0?r.min+e:void 0,max:t!==void 0?r.max+t-(r.max-r.min):void 0}}function C5(r,{top:e,left:t,bottom:n,right:i}){return{x:$T(r.x,t,i),y:$T(r.y,e,n)}}function WT(r,e){let t=e.min-r.min,n=e.max-r.max;return e.max-e.min<r.max-r.min&&([t,n]=[n,t]),{min:t,max:n}}function P5(r,e){return{x:WT(r.x,e.x),y:WT(r.y,e.y)}}function R5(r,e){let t=.5;const n=Bn(r),i=Bn(e);return i>n?t=rd(e.min,e.max-n,r.min):n>i&&(t=rd(r.min,r.max-i,e.min)),ba(0,1,t)}function I5(r,e){const t={};return e.min!==void 0&&(t.min=e.min-r.min),e.max!==void 0&&(t.max=e.max-r.min),t}const hx=.35;function k5(r=hx){return r===!1?r=0:r===!0&&(r=hx),{x:XT(r,"left","right"),y:XT(r,"top","bottom")}}function XT(r,e,t){return{min:YT(r,e),max:YT(r,t)}}function YT(r,e){return typeof r=="number"?r:r[e]||0}const qT=()=>({translate:0,scale:1,origin:0,originPoint:0}),Lc=()=>({x:qT(),y:qT()}),KT=()=>({min:0,max:0}),Sr=()=>({x:KT(),y:KT()});function Zi(r){return[r("x"),r("y")]}function QR({top:r,left:e,right:t,bottom:n}){return{x:{min:e,max:t},y:{min:r,max:n}}}function M5({x:r,y:e}){return{top:e.min,right:r.max,bottom:e.max,left:r.min}}function D5(r,e){if(!e)return r;const t=e({x:r.left,y:r.top}),n=e({x:r.right,y:r.bottom});return{top:t.y,left:t.x,bottom:n.y,right:n.x}}function V0(r){return r===void 0||r===1}function cx({scale:r,scaleX:e,scaleY:t}){return!V0(r)||!V0(e)||!V0(t)}function sh(r){return cx(r)||ZR(r)||r.z||r.rotate||r.rotateX||r.rotateY||r.skewX||r.skewY}function ZR(r){return QT(r.x)||QT(r.y)}function QT(r){return r&&r!=="0%"}function Fg(r,e,t){const n=r-t,i=e*n;return t+i}function ZT(r,e,t,n,i){return i!==void 0&&(r=Fg(r,i,n)),Fg(r,t,n)+e}function dx(r,e=0,t=1,n,i){r.min=ZT(r.min,e,t,n,i),r.max=ZT(r.max,e,t,n,i)}function JR(r,{x:e,y:t}){dx(r.x,e.translate,e.scale,e.originPoint),dx(r.y,t.translate,t.scale,t.originPoint)}const JT=.999999999999,eE=1.0000000000001;function O5(r,e,t,n=!1){const i=t.length;if(!i)return;e.x=e.y=1;let s,a;for(let u=0;u<i;u++){s=t[u],a=s.projectionDelta;const{visualElement:c}=s.options;c&&c.props.style&&c.props.style.display==="contents"||(n&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Uc(r,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,JR(r,a)),n&&sh(s.latestValues)&&Uc(r,s.latestValues))}e.x<eE&&e.x>JT&&(e.x=1),e.y<eE&&e.y>JT&&(e.y=1)}function Bc(r,e){r.min=r.min+e,r.max=r.max+e}function tE(r,e,t,n,i=.5){const s=sr(r.min,r.max,i);dx(r,e,t,s,n)}function Uc(r,e){tE(r.x,e.x,e.scaleX,e.scale,e.originX),tE(r.y,e.y,e.scaleY,e.scale,e.originY)}function eI(r,e){return QR(D5(r.getBoundingClientRect(),e))}function N5(r,e,t){const n=eI(r,t),{scroll:i}=e;return i&&(Bc(n.x,i.offset.x),Bc(n.y,i.offset.y)),n}const tI=({current:r})=>r?r.ownerDocument.defaultView:null,F5=new WeakMap;class L5{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Sr(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const i=m=>{const{dragSnapToOrigin:g}=this.getProps();g?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(bp(m).point)},s=(m,g)=>{const{drag:v,dragPropagation:x,onDragStart:S}=this.getProps();if(v&&!x&&(this.openDragLock&&this.openDragLock(),this.openDragLock=RU(v),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Zi(E=>{let P=this.getAxisMotionValue(E).get()||0;if(Eo.test(P)){const{projection:k}=this.visualElement;if(k&&k.layout){const R=k.layout.layoutBox[E];R&&(P=Bn(R)*(parseFloat(P)/100))}}this.originPoint[E]=P}),S&&$t.postRender(()=>S(m,g)),rx(this.visualElement,"transform");const{animationState:b}=this.visualElement;b&&b.setActive("whileDrag",!0)},a=(m,g)=>{const{dragPropagation:v,dragDirectionLock:x,onDirectionLock:S,onDrag:b}=this.getProps();if(!v&&!this.openDragLock)return;const{offset:E}=g;if(x&&this.currentDirection===null){this.currentDirection=B5(E),this.currentDirection!==null&&S&&S(this.currentDirection);return}this.updateAxis("x",g.point,E),this.updateAxis("y",g.point,E),this.visualElement.render(),b&&b(m,g)},u=(m,g)=>this.stop(m,g),c=()=>Zi(m=>{var g;return this.getAnimationState(m)==="paused"&&((g=this.getAxisMotionValue(m).animation)===null||g===void 0?void 0:g.play())}),{dragSnapToOrigin:f}=this.getProps();this.panSession=new XR(e,{onSessionStart:i,onStart:s,onMove:a,onSessionEnd:u,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:f,contextWindow:tI(this.visualElement)})}stop(e,t){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:i}=t;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&$t.postRender(()=>s(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,n){const{drag:i}=this.getProps();if(!n||!Vm(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let a=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(a=A5(a,this.constraints[e],this.elastic[e])),s.set(a)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;t&&Nc(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&i?this.constraints=C5(i.layoutBox,t):this.constraints=!1,this.elastic=k5(n),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Zi(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=I5(i.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!Nc(e))return!1;const n=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=N5(n,i.root,this.visualElement.getTransformPagePoint());let a=P5(i.layout.layoutBox,s);if(t){const u=t(M5(a));this.hasMutatedConstraints=!!u,u&&(a=QR(u))}return a}startAnimation(e){const{drag:t,dragMomentum:n,dragElastic:i,dragTransition:s,dragSnapToOrigin:a,onDragTransitionEnd:u}=this.getProps(),c=this.constraints||{},f=Zi(m=>{if(!Vm(m,t,this.currentDirection))return;let g=c&&c[m]||{};a&&(g={min:0,max:0});const v=i?200:1e6,x=i?40:1e7,S={type:"inertia",velocity:n?e[m]:0,bounceStiffness:v,bounceDamping:x,timeConstant:750,restDelta:1,restSpeed:10,...s,...g};return this.startAxisValueAnimation(m,S)});return Promise.all(f).then(u)}startAxisValueAnimation(e,t){const n=this.getAxisMotionValue(e);return rx(this.visualElement,e),n.start(I1(e,n,0,t,this.visualElement,!1))}stopAnimation(){Zi(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Zi(e=>{var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.pause()})}getAnimationState(e){var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,n=this.visualElement.getProps(),i=n[t];return i||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){Zi(t=>{const{drag:n}=this.getProps();if(!Vm(t,n,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(t);if(i&&i.layout){const{min:a,max:u}=i.layout.layoutBox[t];s.set(e[t]-sr(a,u,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:n}=this.visualElement;if(!Nc(t)||!n||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Zi(a=>{const u=this.getAxisMotionValue(a);if(u&&this.constraints!==!1){const c=u.get();i[a]=R5({min:c,max:c},this.constraints[a])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Zi(a=>{if(!Vm(a,e,null))return;const u=this.getAxisMotionValue(a),{min:c,max:f}=this.constraints[a];u.set(sr(c,f,i[a]))})}addListeners(){if(!this.visualElement.current)return;F5.set(this.visualElement,this);const e=this.visualElement.current,t=jf(e,"pointerdown",c=>{const{drag:f,dragListener:m=!0}=this.getProps();f&&m&&this.start(c)}),n=()=>{const{dragConstraints:c}=this.getProps();Nc(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",n);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),$t.read(n);const a=cp(window,"resize",()=>this.scalePositionWithinConstraints()),u=i.addEventListener("didUpdate",({delta:c,hasLayoutChanged:f})=>{this.isDragging&&f&&(Zi(m=>{const g=this.getAxisMotionValue(m);g&&(this.originPoint[m]+=c[m].translate,g.set(g.get()+c[m].translate))}),this.visualElement.render())});return()=>{a(),t(),s(),u&&u()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:n=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:a=hx,dragMomentum:u=!0}=e;return{...e,drag:t,dragDirectionLock:n,dragPropagation:i,dragConstraints:s,dragElastic:a,dragMomentum:u}}}function Vm(r,e,t){return(e===!0||e===r)&&(t===null||t===r)}function B5(r,e=10){let t=null;return Math.abs(r.y)>e?t="y":Math.abs(r.x)>e&&(t="x"),t}class U5 extends $l{constructor(e){super(e),this.removeGroupControls=Oi,this.removeListeners=Oi,this.controls=new L5(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Oi}unmount(){this.removeGroupControls(),this.removeListeners()}}const rE=r=>(e,t)=>{r&&$t.postRender(()=>r(e,t))};class z5 extends $l{constructor(){super(...arguments),this.removePointerDownListener=Oi}onPointerDown(e){this.session=new XR(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:tI(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:n,onPanEnd:i}=this.node.getProps();return{onSessionStart:rE(e),onStart:rE(t),onMove:n,onEnd:(s,a)=>{delete this.session,i&&$t.postRender(()=>i(s,a))}}}mount(){this.removePointerDownListener=jf(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const ig={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function nE(r,e){return e.max===e.min?0:r/(e.max-e.min)*100}const wf={correct:(r,e)=>{if(!e.target)return r;if(typeof r=="string")if(nt.test(r))r=parseFloat(r);else return r;const t=nE(r,e.target.x),n=nE(r,e.target.y);return`${t}% ${n}%`}},V5={correct:(r,{treeScale:e,projectionDelta:t})=>{const n=r,i=zl.parse(r);if(i.length>5)return n;const s=zl.createTransformer(r),a=typeof i[0]!="number"?1:0,u=t.x.scale*e.x,c=t.y.scale*e.y;i[0+a]/=u,i[1+a]/=c;const f=sr(u,c,.5);return typeof i[2+a]=="number"&&(i[2+a]/=f),typeof i[3+a]=="number"&&(i[3+a]/=f),s(i)}};class G5 extends te.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n,layoutId:i}=this.props,{projection:s}=e;X3(j5),s&&(t.group&&t.group.add(s),n&&n.register&&i&&n.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),ig.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:n,drag:i,isPresent:s}=this.props,a=n.projection;return a&&(a.isPresent=s,i||e.layoutDependency!==t||t===void 0?a.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?a.promote():a.relegate()||$t.postRender(()=>{const u=a.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),i1.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(i),n&&n.deregister&&n.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function rI(r){const[e,t]=T3(),n=te.useContext(BP);return fe.jsx(G5,{...r,layoutGroup:n,switchLayoutGroup:te.useContext(WP),isPresent:e,safeToRemove:t})}const j5={borderRadius:{...wf,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:wf,borderTopRightRadius:wf,borderBottomLeftRadius:wf,borderBottomRightRadius:wf,boxShadow:V5};function H5(r,e,t){const n=bn(r)?r:up(r);return n.start(I1("",n,e,t)),n.animation}function $5(r){return r instanceof SVGElement&&r.tagName!=="svg"}const W5=(r,e)=>r.depth-e.depth;class X5{constructor(){this.children=[],this.isDirty=!1}add(e){_1(this.children,e),this.isDirty=!0}remove(e){x1(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(W5),this.isDirty=!1,this.children.forEach(e)}}function Y5(r,e){const t=Ao.now(),n=({timestamp:i})=>{const s=i-t;s>=e&&(Ul(n),r(s-e))};return $t.read(n,!0),()=>Ul(n)}const nI=["TopLeft","TopRight","BottomLeft","BottomRight"],q5=nI.length,iE=r=>typeof r=="string"?parseFloat(r):r,sE=r=>typeof r=="number"||nt.test(r);function K5(r,e,t,n,i,s){i?(r.opacity=sr(0,t.opacity!==void 0?t.opacity:1,Q5(n)),r.opacityExit=sr(e.opacity!==void 0?e.opacity:1,0,Z5(n))):s&&(r.opacity=sr(e.opacity!==void 0?e.opacity:1,t.opacity!==void 0?t.opacity:1,n));for(let a=0;a<q5;a++){const u=`border${nI[a]}Radius`;let c=oE(e,u),f=oE(t,u);if(c===void 0&&f===void 0)continue;c||(c=0),f||(f=0),c===0||f===0||sE(c)===sE(f)?(r[u]=Math.max(sr(iE(c),iE(f),n),0),(Eo.test(f)||Eo.test(c))&&(r[u]+="%")):r[u]=f}(e.rotate||t.rotate)&&(r.rotate=sr(e.rotate||0,t.rotate||0,n))}function oE(r,e){return r[e]!==void 0?r[e]:r.borderRadius}const Q5=iI(0,.5,wR),Z5=iI(.5,.95,Oi);function iI(r,e,t){return n=>n<r?0:n>e?1:t(rd(r,e,n))}function aE(r,e){r.min=e.min,r.max=e.max}function Ki(r,e){aE(r.x,e.x),aE(r.y,e.y)}function lE(r,e){r.translate=e.translate,r.scale=e.scale,r.originPoint=e.originPoint,r.origin=e.origin}function uE(r,e,t,n,i){return r-=e,r=Fg(r,1/t,n),i!==void 0&&(r=Fg(r,1/i,n)),r}function J5(r,e=0,t=1,n=.5,i,s=r,a=r){if(Eo.test(e)&&(e=parseFloat(e),e=sr(a.min,a.max,e/100)-a.min),typeof e!="number")return;let u=sr(s.min,s.max,n);r===s&&(u-=e),r.min=uE(r.min,e,t,u,i),r.max=uE(r.max,e,t,u,i)}function hE(r,e,[t,n,i],s,a){J5(r,e[t],e[n],e[i],e.scale,s,a)}const ez=["x","scaleX","originX"],tz=["y","scaleY","originY"];function cE(r,e,t,n){hE(r.x,e,ez,t?t.x:void 0,n?n.x:void 0),hE(r.y,e,tz,t?t.y:void 0,n?n.y:void 0)}function dE(r){return r.translate===0&&r.scale===1}function sI(r){return dE(r.x)&&dE(r.y)}function fE(r,e){return r.min===e.min&&r.max===e.max}function rz(r,e){return fE(r.x,e.x)&&fE(r.y,e.y)}function pE(r,e){return Math.round(r.min)===Math.round(e.min)&&Math.round(r.max)===Math.round(e.max)}function oI(r,e){return pE(r.x,e.x)&&pE(r.y,e.y)}function mE(r){return Bn(r.x)/Bn(r.y)}function gE(r,e){return r.translate===e.translate&&r.scale===e.scale&&r.originPoint===e.originPoint}class nz{constructor(){this.members=[]}add(e){_1(this.members,e),e.scheduleRender()}remove(e){if(x1(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(i=>e===i);if(t===0)return!1;let n;for(let i=t;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){n=s;break}}return n?(this.promote(n),!0):!1}promote(e,t){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,t&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:n}=e;t.onExitComplete&&t.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function iz(r,e,t){let n="";const i=r.x.translate/e.x,s=r.y.translate/e.y,a=(t==null?void 0:t.z)||0;if((i||s||a)&&(n=`translate3d(${i}px, ${s}px, ${a}px) `),(e.x!==1||e.y!==1)&&(n+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:f,rotate:m,rotateX:g,rotateY:v,skewX:x,skewY:S}=t;f&&(n=`perspective(${f}px) ${n}`),m&&(n+=`rotate(${m}deg) `),g&&(n+=`rotateX(${g}deg) `),v&&(n+=`rotateY(${v}deg) `),x&&(n+=`skewX(${x}deg) `),S&&(n+=`skewY(${S}deg) `)}const u=r.x.scale*e.x,c=r.y.scale*e.y;return(u!==1||c!==1)&&(n+=`scale(${u}, ${c})`),n||"none"}const G0=["","X","Y","Z"],sz={visibility:"hidden"},yE=1e3;let oz=0;function j0(r,e,t,n){const{latestValues:i}=e;i[r]&&(t[r]=i[r],e.setStaticValue(r,0),n&&(n[r]=0))}function aI(r){if(r.hasCheckedOptimisedAppear=!0,r.root===r)return;const{visualElement:e}=r.options;if(!e)return;const t=pR(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:i,layoutId:s}=r.options;window.MotionCancelOptimisedAnimation(t,"transform",$t,!(i||s))}const{parent:n}=r;n&&!n.hasCheckedOptimisedAppear&&aI(n)}function lI({attachResizeListener:r,defaultParent:e,measureScroll:t,checkIsScrollRoot:n,resetTransform:i}){return class{constructor(a={},u=e==null?void 0:e()){this.id=oz++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(uz),this.nodes.forEach(pz),this.nodes.forEach(mz),this.nodes.forEach(hz)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new X5)}addEventListener(a,u){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new w1),this.eventHandlers.get(a).add(u)}notifyListeners(a,...u){const c=this.eventHandlers.get(a);c&&c.notify(...u)}hasListeners(a){return this.eventHandlers.has(a)}mount(a,u=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=$5(a),this.instance=a;const{layoutId:c,layout:f,visualElement:m}=this.options;if(m&&!m.current&&m.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),u&&(f||c)&&(this.isLayoutDirty=!0),r){let g;const v=()=>this.root.updateBlockedByResize=!1;r(a,()=>{this.root.updateBlockedByResize=!0,g&&g(),g=Y5(v,250),ig.hasAnimatedSinceResize&&(ig.hasAnimatedSinceResize=!1,this.nodes.forEach(_E))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&m&&(c||f)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:v,hasRelativeLayoutChanged:x,layout:S})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const b=this.options.transition||m.getDefaultTransition()||xz,{onLayoutAnimationStart:E,onLayoutAnimationComplete:P}=m.getProps(),k=!this.targetLayout||!oI(this.targetLayout,S),R=!v&&x;if(this.options.layoutRoot||this.resumeFrom||R||v&&(k||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(g,R);const L={...m1(b,"layout"),onPlay:E,onComplete:P};(m.shouldReduceMotion||this.options.layoutRoot)&&(L.delay=0,L.type=!1),this.startAnimation(L)}else v||_E(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=S})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Ul(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(gz),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&aI(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let m=0;m<this.path.length;m++){const g=this.path[m];g.shouldResetTransform=!0,g.updateScroll("snapshot"),g.options.layoutRoot&&g.willUpdate(!1)}const{layoutId:u,layout:c}=this.options;if(u===void 0&&!c)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(vE);return}this.isUpdating||this.nodes.forEach(dz),this.isUpdating=!1,this.nodes.forEach(fz),this.nodes.forEach(az),this.nodes.forEach(lz),this.clearAllSnapshots();const u=Ao.now();sn.delta=ba(0,1e3/60,u-sn.timestamp),sn.timestamp=u,sn.isProcessing=!0,O0.update.process(sn),O0.preRender.process(sn),O0.render.process(sn),sn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,i1.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(cz),this.sharedNodes.forEach(yz)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,$t.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){$t.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Bn(this.snapshot.measuredBox.x)&&!Bn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Sr(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let u=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(u=!1),u){const c=n(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:c,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!i)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,u=this.projectionDelta&&!sI(this.projectionDelta),c=this.getTransformTemplate(),f=c?c(this.latestValues,""):void 0,m=f!==this.prevTransformTemplateValue;a&&(u||sh(this.latestValues)||m)&&(i(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const u=this.measurePageBox();let c=this.removeElementScroll(u);return a&&(c=this.removeTransform(c)),wz(c),{animationId:this.root.animationId,measuredBox:u,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var a;const{visualElement:u}=this.options;if(!u)return Sr();const c=u.measureViewportBox();if(!(((a=this.scroll)===null||a===void 0?void 0:a.wasRoot)||this.path.some(Sz))){const{scroll:m}=this.root;m&&(Bc(c.x,m.offset.x),Bc(c.y,m.offset.y))}return c}removeElementScroll(a){var u;const c=Sr();if(Ki(c,a),!((u=this.scroll)===null||u===void 0)&&u.wasRoot)return c;for(let f=0;f<this.path.length;f++){const m=this.path[f],{scroll:g,options:v}=m;m!==this.root&&g&&v.layoutScroll&&(g.wasRoot&&Ki(c,a),Bc(c.x,g.offset.x),Bc(c.y,g.offset.y))}return c}applyTransform(a,u=!1){const c=Sr();Ki(c,a);for(let f=0;f<this.path.length;f++){const m=this.path[f];!u&&m.options.layoutScroll&&m.scroll&&m!==m.root&&Uc(c,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),sh(m.latestValues)&&Uc(c,m.latestValues)}return sh(this.latestValues)&&Uc(c,this.latestValues),c}removeTransform(a){const u=Sr();Ki(u,a);for(let c=0;c<this.path.length;c++){const f=this.path[c];if(!f.instance||!sh(f.latestValues))continue;cx(f.latestValues)&&f.updateSnapshot();const m=Sr(),g=f.measurePageBox();Ki(m,g),cE(u,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,m)}return sh(this.latestValues)&&cE(u,this.latestValues),u}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==sn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var u;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const f=!!this.resumingFrom||this!==c;if(!(a||f&&this.isSharedProjectionDirty||this.isProjectionDirty||!((u=this.parent)===null||u===void 0)&&u.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:v}=this.options;if(!(!this.layout||!(g||v))){if(this.resolvedRelativeTargetAt=sn.timestamp,!this.targetDelta&&!this.relativeTarget){const x=this.getClosestProjectingParent();x&&x.layout&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Sr(),this.relativeTargetOrigin=Sr(),$f(this.relativeTargetOrigin,this.layout.layoutBox,x.layout.layoutBox),Ki(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Sr(),this.targetWithTransforms=Sr()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),E5(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ki(this.target,this.layout.layoutBox),JR(this.target,this.targetDelta)):Ki(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const x=this.getClosestProjectingParent();x&&!!x.resumingFrom==!!this.resumingFrom&&!x.options.layoutScroll&&x.target&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Sr(),this.relativeTargetOrigin=Sr(),$f(this.relativeTargetOrigin,this.target,x.target),Ki(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||cx(this.parent.latestValues)||ZR(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var a;const u=this.getLead(),c=!!this.resumingFrom||this!==u;let f=!0;if((this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty)&&(f=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(f=!1),this.resolvedRelativeTargetAt===sn.timestamp&&(f=!1),f)return;const{layout:m,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(m||g))return;Ki(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,x=this.treeScale.y;O5(this.layoutCorrected,this.treeScale,this.path,c),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=Sr());const{target:S}=u;if(!S){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(lE(this.prevProjectionDelta.x,this.projectionDelta.x),lE(this.prevProjectionDelta.y,this.projectionDelta.y)),Hf(this.projectionDelta,this.layoutCorrected,S,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==x||!gE(this.projectionDelta.x,this.prevProjectionDelta.x)||!gE(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",S))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){var u;if((u=this.options.visualElement)===null||u===void 0||u.scheduleRender(),a){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Lc(),this.projectionDelta=Lc(),this.projectionDeltaWithTransform=Lc()}setAnimationOrigin(a,u=!1){const c=this.snapshot,f=c?c.latestValues:{},m={...this.latestValues},g=Lc();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const v=Sr(),x=c?c.source:void 0,S=this.layout?this.layout.source:void 0,b=x!==S,E=this.getStack(),P=!E||E.members.length<=1,k=!!(b&&!P&&this.options.crossfade===!0&&!this.path.some(_z));this.animationProgress=0;let R;this.mixTargetDelta=L=>{const D=L/1e3;xE(g.x,a.x,D),xE(g.y,a.y,D),this.setTargetDelta(g),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&($f(v,this.layout.layoutBox,this.relativeParent.layout.layoutBox),vz(this.relativeTarget,this.relativeTargetOrigin,v,D),R&&rz(this.relativeTarget,R)&&(this.isProjectionDirty=!1),R||(R=Sr()),Ki(R,this.relativeTarget)),b&&(this.animationValues=m,K5(m,f,this.latestValues,D,k,P)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=D},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Ul(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=$t.update(()=>{ig.hasAnimatedSinceResize=!0,this.currentAnimation=H5(0,yE,{...a,onUpdate:u=>{this.mixTargetDelta(u),a.onUpdate&&a.onUpdate(u)},onStop:()=>{},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(yE),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:u,target:c,layout:f,latestValues:m}=a;if(!(!u||!c||!f)){if(this!==a&&this.layout&&f&&uI(this.options.animationType,this.layout.layoutBox,f.layoutBox)){c=this.target||Sr();const g=Bn(this.layout.layoutBox.x);c.x.min=a.target.x.min,c.x.max=c.x.min+g;const v=Bn(this.layout.layoutBox.y);c.y.min=a.target.y.min,c.y.max=c.y.min+v}Ki(u,c),Uc(u,m),Hf(this.projectionDeltaWithTransform,this.layoutCorrected,u,m)}}registerSharedNode(a,u){this.sharedNodes.has(a)||this.sharedNodes.set(a,new nz),this.sharedNodes.get(a).add(u);const f=u.options.initialPromotionConfig;u.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(u):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var a;const{layoutId:u}=this.options;return u?((a=this.getStack())===null||a===void 0?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:u}=this.options;return u?(a=this.getStack())===null||a===void 0?void 0:a.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:u,preserveFollowOpacity:c}={}){const f=this.getStack();f&&f.promote(this,c),a&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let u=!1;const{latestValues:c}=a;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(u=!0),!u)return;const f={};c.z&&j0("z",a,f,this.animationValues);for(let m=0;m<G0.length;m++)j0(`rotate${G0[m]}`,a,f,this.animationValues),j0(`skew${G0[m]}`,a,f,this.animationValues);a.render();for(const m in f)a.setStaticValue(m,f[m]),this.animationValues&&(this.animationValues[m]=f[m]);a.scheduleRender()}getProjectionStyles(a){var u,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return sz;const f={visibility:""},m=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,f.opacity="",f.pointerEvents=rg(a==null?void 0:a.pointerEvents)||"",f.transform=m?m(this.latestValues,""):"none",f;const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){const b={};return this.options.layoutId&&(b.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,b.pointerEvents=rg(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!sh(this.latestValues)&&(b.transform=m?m({},""):"none",this.hasProjected=!1),b}const v=g.animationValues||g.latestValues;this.applyTransformsToTarget(),f.transform=iz(this.projectionDeltaWithTransform,this.treeScale,v),m&&(f.transform=m(v,f.transform));const{x,y:S}=this.projectionDelta;f.transformOrigin=`${x.origin*100}% ${S.origin*100}% 0`,g.animationValues?f.opacity=g===this?(c=(u=v.opacity)!==null&&u!==void 0?u:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:v.opacityExit:f.opacity=g===this?v.opacity!==void 0?v.opacity:"":v.opacityExit!==void 0?v.opacityExit:0;for(const b in op){if(v[b]===void 0)continue;const{correct:E,applyTo:P,isCSSVariable:k}=op[b],R=f.transform==="none"?v[b]:E(v[b],g);if(P){const L=P.length;for(let D=0;D<L;D++)f[P[D]]=R}else k?this.options.visualElement.renderState.vars[b]=R:f[b]=R}return this.options.layoutId&&(f.pointerEvents=g===this?rg(a==null?void 0:a.pointerEvents)||"":"none"),f}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var u;return(u=a.currentAnimation)===null||u===void 0?void 0:u.stop()}),this.root.nodes.forEach(vE),this.root.sharedNodes.clear()}}}function az(r){r.updateLayout()}function lz(r){var e;const t=((e=r.resumeFrom)===null||e===void 0?void 0:e.snapshot)||r.snapshot;if(r.isLead()&&r.layout&&t&&r.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=r.layout,{animationType:s}=r.options,a=t.source!==r.layout.source;s==="size"?Zi(g=>{const v=a?t.measuredBox[g]:t.layoutBox[g],x=Bn(v);v.min=n[g].min,v.max=v.min+x}):uI(s,t.layoutBox,n)&&Zi(g=>{const v=a?t.measuredBox[g]:t.layoutBox[g],x=Bn(n[g]);v.max=v.min+x,r.relativeTarget&&!r.currentAnimation&&(r.isProjectionDirty=!0,r.relativeTarget[g].max=r.relativeTarget[g].min+x)});const u=Lc();Hf(u,n,t.layoutBox);const c=Lc();a?Hf(c,r.applyTransform(i,!0),t.measuredBox):Hf(c,n,t.layoutBox);const f=!sI(u);let m=!1;if(!r.resumeFrom){const g=r.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:v,layout:x}=g;if(v&&x){const S=Sr();$f(S,t.layoutBox,v.layoutBox);const b=Sr();$f(b,n,x.layoutBox),oI(S,b)||(m=!0),g.options.layoutRoot&&(r.relativeTarget=b,r.relativeTargetOrigin=S,r.relativeParent=g)}}}r.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:c,layoutDelta:u,hasLayoutChanged:f,hasRelativeLayoutChanged:m})}else if(r.isLead()){const{onExitComplete:n}=r.options;n&&n()}r.options.transition=void 0}function uz(r){r.parent&&(r.isProjecting()||(r.isProjectionDirty=r.parent.isProjectionDirty),r.isSharedProjectionDirty||(r.isSharedProjectionDirty=!!(r.isProjectionDirty||r.parent.isProjectionDirty||r.parent.isSharedProjectionDirty)),r.isTransformDirty||(r.isTransformDirty=r.parent.isTransformDirty))}function hz(r){r.isProjectionDirty=r.isSharedProjectionDirty=r.isTransformDirty=!1}function cz(r){r.clearSnapshot()}function vE(r){r.clearMeasurements()}function dz(r){r.isLayoutDirty=!1}function fz(r){const{visualElement:e}=r.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),r.resetTransform()}function _E(r){r.finishAnimation(),r.targetDelta=r.relativeTarget=r.target=void 0,r.isProjectionDirty=!0}function pz(r){r.resolveTargetDelta()}function mz(r){r.calcProjection()}function gz(r){r.resetSkewAndRotation()}function yz(r){r.removeLeadSnapshot()}function xE(r,e,t){r.translate=sr(e.translate,0,t),r.scale=sr(e.scale,1,t),r.origin=e.origin,r.originPoint=e.originPoint}function wE(r,e,t,n){r.min=sr(e.min,t.min,n),r.max=sr(e.max,t.max,n)}function vz(r,e,t,n){wE(r.x,e.x,t.x,n),wE(r.y,e.y,t.y,n)}function _z(r){return r.animationValues&&r.animationValues.opacityExit!==void 0}const xz={duration:.45,ease:[.4,0,.1,1]},SE=r=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(r),bE=SE("applewebkit/")&&!SE("chrome/")?Math.round:Oi;function TE(r){r.min=bE(r.min),r.max=bE(r.max)}function wz(r){TE(r.x),TE(r.y)}function uI(r,e,t){return r==="position"||r==="preserve-aspect"&&!T5(mE(e),mE(t),.2)}function Sz(r){var e;return r!==r.root&&((e=r.scroll)===null||e===void 0?void 0:e.wasRoot)}const bz=lI({attachResizeListener:(r,e)=>cp(r,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),H0={current:void 0},hI=lI({measureScroll:r=>({x:r.scrollLeft,y:r.scrollTop}),defaultParent:()=>{if(!H0.current){const r=new bz({});r.mount(window),r.setOptions({layoutScroll:!0}),H0.current=r}return H0.current},resetTransform:(r,e)=>{r.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:r=>window.getComputedStyle(r).position==="fixed"}),Tz={pan:{Feature:z5},drag:{Feature:U5,ProjectionNode:hI,MeasureLayout:rI}};function EE(r,e,t){const{props:n}=r;r.animationState&&n.whileHover&&r.animationState.setActive("whileHover",t==="Start");const i="onHover"+t,s=n[i];s&&$t.postRender(()=>s(e,bp(e)))}class Ez extends $l{mount(){const{current:e}=this.node;e&&(this.unmount=TU(e,(t,n)=>(EE(this.node,n,"Start"),i=>EE(this.node,i,"End"))))}unmount(){}}class Az extends $l{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Sp(cp(this.node.current,"focus",()=>this.onFocus()),cp(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function AE(r,e,t){const{props:n}=r;if(r.current instanceof HTMLButtonElement&&r.current.disabled)return;r.animationState&&n.whileTap&&r.animationState.setActive("whileTap",t==="Start");const i="onTap"+(t==="End"?"":t),s=n[i];s&&$t.postRender(()=>s(e,bp(e)))}class Cz extends $l{mount(){const{current:e}=this.node;e&&(this.unmount=PU(e,(t,n)=>(AE(this.node,n,"Start"),(i,{success:s})=>AE(this.node,i,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const fx=new WeakMap,$0=new WeakMap,Pz=r=>{const e=fx.get(r.target);e&&e(r)},Rz=r=>{r.forEach(Pz)};function Iz({root:r,...e}){const t=r||document;$0.has(t)||$0.set(t,{});const n=$0.get(t),i=JSON.stringify(e);return n[i]||(n[i]=new IntersectionObserver(Rz,{root:r,...e})),n[i]}function kz(r,e,t){const n=Iz(e);return fx.set(r,t),n.observe(r),()=>{fx.delete(r),n.unobserve(r)}}const Mz={some:0,all:1};class Dz extends $l{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:n,amount:i="some",once:s}=e,a={root:t?t.current:void 0,rootMargin:n,threshold:typeof i=="number"?i:Mz[i]},u=c=>{const{isIntersecting:f}=c;if(this.isInView===f||(this.isInView=f,s&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:m,onViewportLeave:g}=this.node.getProps(),v=f?m:g;v&&v(c)};return kz(this.node.current,a,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(Oz(e,t))&&this.startObserver()}unmount(){}}function Oz({viewport:r={}},{viewport:e={}}={}){return t=>r[t]!==e[t]}const Nz={inView:{Feature:Dz},tap:{Feature:Cz},focus:{Feature:Az},hover:{Feature:Ez}},Fz={layout:{ProjectionNode:hI,MeasureLayout:rI}},px={current:null},cI={current:!1};function Lz(){if(cI.current=!0,!!Jx)if(window.matchMedia){const r=window.matchMedia("(prefers-reduced-motion)"),e=()=>px.current=r.matches;r.addListener(e),e()}else px.current=!1}const Bz=[...NR,xn,zl],Uz=r=>Bz.find(OR(r)),zz=new WeakMap;function Vz(r,e,t){for(const n in e){const i=e[n],s=t[n];if(bn(i))r.addValue(n,i);else if(bn(s))r.addValue(n,up(i,{owner:r}));else if(s!==i)if(r.hasValue(n)){const a=r.getValue(n);a.liveStyle===!0?a.jump(i):a.hasAnimated||a.set(i)}else{const a=r.getStaticValue(n);r.addValue(n,up(a!==void 0?a:i,{owner:r}))}}for(const n in t)e[n]===void 0&&r.removeValue(n);return e}const CE=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Gz{scrapeMotionValuesFromProps(e,t,n){return{}}constructor({parent:e,props:t,presenceContext:n,reducedMotionConfig:i,blockInitialAnimation:s,visualState:a},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=C1,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const x=Ao.now();this.renderScheduledAt<x&&(this.renderScheduledAt=x,$t.render(this.render,!1,!0))};const{latestValues:c,renderState:f,onUpdate:m}=a;this.onUpdate=m,this.latestValues=c,this.baseTarget={...c},this.initialValues=t.initial?{...c}:{},this.renderState=f,this.parent=e,this.props=t,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=u,this.blockInitialAnimation=!!s,this.isControllingVariants=sy(t),this.isVariantNode=HP(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:g,...v}=this.scrapeMotionValuesFromProps(t,{},this);for(const x in v){const S=v[x];c[x]!==void 0&&bn(S)&&S.set(c[x],!1)}}mount(e){this.current=e,zz.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,n)=>this.bindToMotionValue(n,t)),cI.current||Lz(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:px.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Ul(this.notifyUpdate),Ul(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=Sh.has(e);n&&this.onBindTransform&&this.onBindTransform();const i=t.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&$t.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)}),s=t.on("renderRequest",this.scheduleRender);let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{i(),s(),a&&a(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in nd){const t=nd[e];if(!t)continue;const{isEnabled:n,Feature:i}=t;if(!this.features[e]&&i&&n(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Sr()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let n=0;n<CE.length;n++){const i=CE[n];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,a=e[s];a&&(this.propEventSubscriptions[i]=this.on(i,a))}this.prevMotionValues=Vz(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const n=this.values.get(e);t!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return n===void 0&&t!==void 0&&(n=up(t===null?void 0:t,{owner:this}),this.addValue(e,n)),n}readValue(e,t){var n;let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(n=this.getBaseTargetFromProps(this.props,e))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(MR(i)||bR(i))?i=parseFloat(i):!Uz(i)&&zl.test(t)&&(i=RR(e,t)),this.setBaseTarget(e,bn(i)?i.get():i)),bn(i)?i.get():i}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const a=f1(this.props,n,(t=this.presenceContext)===null||t===void 0?void 0:t.custom);a&&(i=a[e])}if(n&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!bn(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new w1),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class dI extends Gz{constructor(){super(...arguments),this.KeyframeResolver=FR}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:n}){delete t[e],delete n[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;bn(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}function jz(r){return window.getComputedStyle(r)}class Hz extends dI{constructor(){super(...arguments),this.type="html",this.renderInstance=tR}readValueFromInstance(e,t){if(Sh.has(t)){const n=A1(t);return n&&n.default||0}else{const n=jz(e),i=(s1(t)?n.getPropertyValue(t):n[t])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:t}){return eI(e,t)}build(e,t,n){l1(e,t,n.transformTemplate)}scrapeMotionValuesFromProps(e,t,n){return p1(e,t,n)}}class $z extends dI{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Sr,this.updateDimensions=()=>{this.current&&!this.renderState.dimensions&&eR(this.current,this.renderState)}}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(Sh.has(t)){const n=A1(t);return n&&n.default||0}return t=rR.has(t)?t:n1(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,n){return iR(e,t,n)}onBindTransform(){this.current&&!this.renderState.dimensions&&$t.postRender(this.updateDimensions)}build(e,t,n){c1(e,t,this.isSVGTag,n.transformTemplate)}renderInstance(e,t,n,i){nR(e,t,n,i)}mount(e){this.isSVGTag=d1(e.tagName),super.mount(e)}}const Wz=(r,e)=>h1(r)?new $z(e):new Hz(e,{allowProjection:r!==te.Fragment}),Xz=yU({...m5,...Nz,...Tz,...Fz},Wz),Yz=D3(Xz),fI=({interactions:r})=>{const e=od();return fe.jsxs("div",{className:"interactions-panel",style:{display:"flex",flexDirection:"column",alignItems:"center",padding:"20px",height:"100vh",justifyContent:"space-between"},children:[fe.jsxs("div",{className:"interactions-content",style:{maxWidth:"800px",width:"100%"},children:[fe.jsx("h3",{children:"Interaction Statistics"}),fe.jsx("div",{className:"stats-grid",style:{display:"flex",flexDirection:"column",gap:"10px"},children:Object.entries(r).map(([t,n],i)=>{var s,a;return fe.jsxs(Yz.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:1,delay:i*.2},className:"stat-item",style:{border:"2px solid #ccc",borderRadius:"10px",padding:"10px",margin:"5px",color:"black",backgroundColor:"white",display:"flex",alignItems:"center",justifyContent:"flex-start",gap:"10px",minHeight:"84px",textAlign:"left"},children:[fe.jsx("img",{src:((s=dT[t])==null?void 0:s.image)||"/default-icon.png",alt:t,style:{width:"64px",height:"64px",flexShrink:0,objectFit:"contain"}}),fe.jsx("span",{children:((a=dT[t])==null?void 0:a.formatMessage(n))||n})]},t)})})]}),fe.jsx("div",{style:{display:"flex",justifyContent:"center",width:"100%",marginTop:"auto"},children:fe.jsx("button",{onClick:()=>e("/redirect"),style:{...mp,width:"350px",maxWidth:"100%",height:"66px",marginBottom:"20px"},children:"Continue"})})]})};fI.propTypes={interactions:ot.object.isRequired};const qz=()=>{const[r,e]=te.useState(""),t=od(),n=()=>{t("/recommendations",{state:{username:r}})};return fe.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"100vh",gap:"10px"},children:[fe.jsx("img",{src:"./sprites/pengwing.png",width:400,height:400}),fe.jsx("h2",{children:"Before we continue, how do we address you?"}),fe.jsx("input",{type:"text",value:r,onChange:i=>e(i.target.value),style:{padding:"8px",fontSize:"16px",width:"250px"}}),fe.jsx("button",{onClick:n,style:{...mp,width:"auto"},children:"Proceed"})]})};function Kz({imagePath:r,description:e,link:t}){return fe.jsx("a",{href:t,target:"_blank",rel:"noopener noreferrer",children:fe.jsxs("div",{style:{cursor:"pointer",backgroundColor:"white",width:"160px",height:"260px",overflow:"hidden",position:"relative",display:"flex",flexDirection:"column"},children:[fe.jsx("img",{src:r,alt:e,style:{width:"calc(100% - 10px)",height:"200px",objectFit:"cover",margin:"5px 5px 0 5px"}}),fe.jsx("p",{style:{margin:0,padding:"10px",textAlign:"center",position:"absolute",bottom:0,width:"100%",boxSizing:"border-box"},children:e})]})})}function Qz({linkCards:r,description:e}){return fe.jsxs("div",{children:[fe.jsx("p",{style:{textAlign:"center",fontSize:"1.2rem",marginBottom:"20px"},children:e}),fe.jsx("div",{style:{display:"flex",justifyContent:"center",gap:"20px",flexWrap:"wrap"},children:r.slice(0,3).map((t,n)=>fe.jsx(Kz,{imagePath:t.imagePath,description:t.description,link:t.link},n))})]})}function Zz({topic:r,title:e}){var a;const n=((a=Vl().state)==null?void 0:a.username)||"Guest",i=e.replace("{name}",n).replace("{topic}",r),s=[{description:"Upcoming events that you might be interested in:",linkCards:[{imagePath:"./sprites/logos/afa.png",description:"Animal Festival ASIA",link:"https://example.com/1"},{imagePath:"./sprites/logos/comex.png",description:"COMEX",link:"https://example.com/2"},{imagePath:"./sprites/logos/mangacon.png",description:"MangaCon",link:"https://example.com/3"}]},{description:"Communities that you might be interested in:",linkCards:[{imagePath:"./sprites/logos/sgga.png",description:"Singapore Gorilla Association",link:"https://example.com/new1"},{imagePath:"./sprites/logos/mal.png",description:"My Anime Backlog",link:"https://example.com/new2"},{imagePath:"./sprites/logos/sgtoku.png",description:"SG Toku",link:"https://example.com/new3"}]}];return fe.jsxs("div",{style:{padding:"20px",height:"100vh",display:"flex",flexDirection:"column",overflow:"hidden",position:"relative"},children:[fe.jsx("h1",{style:{textAlign:"center",marginBottom:"0px",fontSize:"1.8rem"},children:i}),fe.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0px",overflowY:"auto",padding:"0 20px"},children:s.map((u,c)=>fe.jsxs("div",{children:[fe.jsx(Qz,{description:u.description,linkCards:u.linkCards}),c===s.length-1&&fe.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",marginTop:"20px",gap:"20px"},children:[fe.jsx("span",{style:{fontSize:"16px"},children:"Want to save the recommendations? Sign up for a GeeksHacking account to connect with like-minded people!"}),fe.jsx("button",{style:{...mp,background:"#007bff",color:"white",width:"auto"},children:fe.jsx("span",{style:{fontSize:"20px"},children:"Sign up"})})]})]},c))})]})}const mx=new DP;console.log(mx);const Jz=new OP().setAffinities(["./sprites/results/elephant.png","./sprites/results/honeybee.png"]).setLogo("./sprites/results/raccoon.png").setQuotes(["Non-existent attention span","Keyboard warrior, but in a good way.","Can be competitive sometimes","Geeky, adorable and funny."]).setReviews(["So cute!","Chickens are superior tbh."]).setTitle("Pengwing").setTraits(["Cheerful","Forgetful","Fast learner","Resourceful","Enthusiastic"]),Gm=new S3;qI.createRoot(document.getElementById("root")).render(fe.jsx(uM,{children:fe.jsx("div",{className:"container",style:{position:"relative",zIndex:"1",display:"flex",flexDirection:"column",height:"100vh",overflow:"hidden"},children:fe.jsxs(Uk,{children:[fe.jsx(Qu,{path:"/",element:fe.jsx(_M,{logo:"./sprites/pengwing.png",title:"PengQuiz",description:"What animal are you?"})}),fe.jsx(Qu,{path:"/quiz",element:fe.jsxs(fe.Fragment,{children:[fe.jsx("div",{children:fe.jsx(m3,{interactions:Gm})}),fe.jsx("div",{style:{marginTop:"auto",paddingBottom:"0px"},children:fe.jsx(TM,{quizbank:"./data/quizbank.json",user:mx})}),fe.jsx("div",{style:{position:"absolute",bottom:"10px",left:"10px",zIndex:"2"},children:fe.jsx(cT,{image:"sprites/chicken.png",interactions:Gm,isWhiteChick:!0})}),fe.jsx("div",{style:{position:"absolute",bottom:"10px",right:"10px",zIndex:"2"},children:fe.jsx(cT,{image:"sprites/rooster.png",interactions:Gm,isWhiteChick:!1})})]})}),fe.jsx(Qu,{path:"/interactions",element:fe.jsx(fI,{interactions:Gm})}),fe.jsx(Qu,{path:"/results",element:fe.jsx(w3,{result:Jz,user:mx})}),fe.jsx(Qu,{path:"/redirect",element:fe.jsx(qz,{})}),fe.jsx(Qu,{path:"/recommendations",element:fe.jsx(Zz,{topic:"anime and gaming",title:"Hey {name}, since you liked {topic}, here are some recommendations for you."})})]})})}))});export default e8();
